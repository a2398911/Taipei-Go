{"version":3,"sources":["img/member-icon.svg","img/square.svg","img/language-icon.svg","pages/attractionPage/components/GoogleMap.js","context/DataContext.js","language/zh-TW.js","language/en.js","pages/homePage/components/SearchBarWeb.js","pages/homePage/components/SearchAdvancedMobile.js","pages/homePage/components/SearchBarMobile.js","pages/homePage/components/Hero.js","pages/homePage/components/AttractionCardStraight.js","pages/homePage/components/AttractionCardHorizontal.js","pages/homePage/components/AttractionCard.js","pages/homePage/components/PageNumber.js","components/BouncingLoader.js","pages/homePage/components/AttractionsSection.js","pages/homePage/index.js","pages/attractionPage/components/AttractionOpinion.js","pages/attractionPage/components/WeatherItem.js","pages/attractionPage/components/WeatherWrap.js","config/firebase.js","pages/attractionPage/components/MessageBraftEditor.js","pages/attractionPage/components/AttractionDetailsInfo.js","components/ErrorMessage.js","pages/attractionPage/index.js","pages/attractionPage/components/AttractionPageLoad.js","components/Header.js","components/Footer.js","components/SigninContent.js","components/SignupContent.js","components/SigninModel.js","pages/collectionPage/index.js","components/ScrollToTop.js","components/RemindMessage.js","App.js","index.js","img/heart-hover-icon.svg"],"names":["module","exports","__webpack_require__","p","openwindow","createContext","Provider","Consumer","zh_TW","navbar","favorite","signIn","signOut","signInModel","signOutModel","hero","title","search","date","MRT","searchBtn","advancedSearchBtn","district","themed","searchAdvancedClearBtn","searchAdvancedSerchBtn","contentSection","mostScore","mostComment","searchNothing","card","detailsBtn","openAllDay","model","signInTitle","signUpTitle","signInSubTitle","signUpSubTitle","emailInput","passwordInput","googleSignIn","googleSignInBtn","nickNameInput","checkPasswordInput","remindModel","btn","signInRemind","attractionPage","infoTitle","tag","category","address","month","web","tel","openTime","service","mrt","traffic","trafficContentText","openRemind","Remind","mapTitle","messageTitle","nearbyAttractions","ticket","cancelMessage","leaveComments","sendMessage","footer","serviceTime","favoritePage","subTitle","tagTheme","editor","placeholder","editMessage","deleteMessage","en","SearchBarWeb","_this$props","this","props","showOptionDate","optionDateShow","closeOptionDate","showOptionMRT","week","optionMRTShow","toggleSearchAdvanced","searchAdvanced","currentThemeIsTag","changeCurrentTheme","react_default","a","createElement","_ref","languageStatus","theme","searchInput","changeInputHandle","language","selectDayOptionHandle","selectMrtOptionHandle","searchDay","searchMRT","TaipeiMRT","searchHandle","selectTagThemes","selectAreaThemes","areaTheme","removeSelectItem","LanguageZhTW","LanguageEn","className","type","value","onChange","onKeyDown","e","keyCode","lib_default","name","onFocus","onClick","map","item","index","key","id","active","data-index","Component","SearchAdvancedMobile","searchAdvancedMobileHandle","Fragment","SearchBarMobile","closeOptionDateOnSection","showSearchAdvancedMobile","homePage_components_SearchAdvancedMobile","onTouchStart","Hero","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","timer","heroBg","state","heroBg_2Ref","current","classList","remove","heroBg_1Ref","heroBg_3Ref","add","setState","stopPropagation","target","closeOptionMRT","currentSelectMRT","weekEn","React","createRef","intervalId","setInterval","clearInterval","_this2","ref","components_SearchBarWeb","homePage_components_SearchBarMobile","AttractionCardStraight","strTmpLanguageHandle","strTmp","includes","match","_this$props$data","data","contentText","backgroundImage","opentTIme","MRTColor","CAT2","_id","stitle","stitle_en","area","currentDay","currentActiveDay","backgroundImageActive","strTmpText","addClass","uid","userData","clickHeartIconHandle","filterFavorite","data-id","react_router_dom","to","concat","style","replace","AttractionCardHorizontal","AttractionCard","getDay","day","Date","filterMRTLine","MRTName","TaipeiMRT_EN","filter","switchMRTLine","MRTLine","currentMRTLineColor","filterOpenTime","opentTime","filterTime","arguments","length","undefined","substr","contentTextBreakLineHandle","text","split","photo","xbody","images","opening_hours","cardIsRow","src","activeHeartIcon","line","AttractionCardHorizontal_AttractionCardHorizontal","components_AttractionCardStraight","PageNumber","groupCount","startPage","goPrev","currentPage","totalPage","changePageNum","preventDefault","go","goNext","creatFivePages","pages","_loop","i","classNames","push","pageNum","fivePages","data-num","listNum","BouncingLoader","AttractionsSection","currentDataHandle","results","searchData","defaultPage","changeCardArrangement","square","currentCount","currentData","currentCountText","count","resultsSortmode","changeTaipeiDataSortHandle","homePage_components_AttractionCard","src_components_BouncingLoader","homePage_components_PageNumber","HomePage","homePage_components_Hero","homePage_components_AttractionsSection","GoogleMap","createMap","tempArr","latitude","longitude","window","google","maps","Map","mapRef","setCenter","lat","lng","setZoom","markers","marker","Marker","position","animation","Animation","DROP","infowindow","InfoWindow","content","addListener","close","open","$script","AttractionOpinion","editMessageHandle","currentAttractionId","deleteMessageHandle","time","star","userName","message","userId","starArray","messageTime","toLocaleString","_ref2","LanguageEN","data-userid","dangerouslySetInnerHTML","__html","data-currentid","WeatherItem","dateLanguageHandle","newDay","class","icon","temperature","status","WeatherWrap","currentStatus","situation","nightDay","morningDay","addCalss","lineCalss","react","components_WeatherItem","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","fireAuth","auth","controls","MessageBraftEditor","starIons","editorState","editorHandleChange","clickStarHandle","htmlFor","dist_default","AttractionDetailsInfo","monthsWordHandle","months","sort","TextBreakLineHandle","smallBreak","textArrayFilter","join","official_site","open_time","remind","newXbody","newOpenTime","newRemind","newTicket","detailsTitleClass","href","rel","ErrorMessage","AttractionPage","nearbyAllData","weather","currentTemperature","showMessageTextarea","BraftEditor","createEditorState","messageData","totalStarScore","editId","getNearbyDataFromFirebase","database","once","snapshot","val","getWeatherData","url","fetch","then","rs","json","error","Error","statusText","result","forEach","objectDay","parameterName3","parameterName2","parameterName1","startTime","getHours","getMonth","getDate","newWeek","midnightDay","getCurrenIdNearbyId","filterData","getNearbyData","allData","sendMessageHandle","toHTML","dataset","currentid","MessageData","showRemindModel","document","querySelector","scrollIntoView","block","behavior","MessageRef","set","editFirebaseDateHandle","getMessageData","on","reverse","starList","values","Math","round","reduce","prev","src_components_ErrorMessage","currenIdNearbyData","_this$props$data$","_this$state","starIcons","components_AttractionDetailsInfo","components_GoogleMap","attractionPage_components_WeatherWrap","components_AttractionOpinion","MessageBraftEditor_MessageBraftEditor","nickName","AttractionPageLoad","Header","mobileMenu","languageSelect","languageMobileMenu","signOutHandle","errorReminModelHandle","showErrorReminModel","mobileMenuHandle","showLanguageSelectHandle","currentActiveClassName","showLanguageSelectModelHandle","setCookieLanguage","expires","setTime","getTime","cookie","location","reload","resetSearchInput","getTaipeiDate","changeLanguageMRT","changeLanguageAdvance","showSignInModel","memberIcon","alt","languageIcon","Footer","SigninContent","email","password","emailInputError","passwordInputError","emailInputHandle","passwordInputHandle","signInHandle","signUpErrorHandle","signInWithEmailAndPassword","user","console","log","catch","errorMessage","googleSignInHandle","provider","GoogleAuthProvider","signInWithPopup","_result$user","displayName","userRef","errorCode","code","_this$state2","action","SignupContent","confirmPassword","confirmPasswordInputError","nickNameInputError","nickNameInputHandle","confirmPasswordInputHandle","signUpHandle","signUpFirebase","createUserWithEmailAndPassword","onSubmit","SigninModel","signinBtnActive","signInErrorMessage","signUpErrorMessage","components_SigninContent","components_SignupContent","CollectionPage","checkSigninStateus","favoriteDataHandle","favoriteFilterData","filterResultes","resultesItem","filterTagData","userFavoriteData","addCategoryClass","ScrollToTop","prevProps","pathname","scrollTo","children","withRouter","RemindMessage","changeTitleHandle","modelStatus","modelStatusHandle","App","currentResult","pageAllGroup","currentTagThemes","currentAreaThemes","hasError","getCookieByName","reg","RegExp","textContent","filterTagThems","currentIndex","newTagTheme","parseInt","indexOf","toConsumableArray","filterAreaThemes","newAreaThemes","newTagThemes","trim","filterTextData","searchTextHandle","filterMrtData","searchMrtHandle","searchTagHandle","filterAreaData","searchAreaHandle","filterDataHandle","searchStitle","toUpperCase","tagItem","areaItem","pageNumArray","ceil","filterCurrentAttraction","currentAttraction","checkSigninStatus","onAuthStateChanged","reminStatus","getUserData","DataRef","openTimeData","touristOpenTime","touristOpenTime_en","taipeiData","Tourist","touristItem","newTaipeiData","b","star_rating","setPageAllGroup","slice","mode","message_num","favoriteArray","filterFavoriteArray","activeCurrentClassName","activeCurrentId","some","contextValue","objectSpread","bind","components_ScrollToTop","src_components_Header","src_components_RemindMessage","src_components_SigninModel","react_router","exact","path","render","homePage","params","pages_attractionPage","components_AttractionPageLoad","pages_collectionPage","component","src_components_Footer","ReactDOM","src_App","getElementById"],"mappings":"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","file":"static/js/main.9311678f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/member-icon.71f1e9dc.svg\";","module.exports = __webpack_public_path__ + \"static/media/square.6a389b27.svg\";","module.exports = __webpack_public_path__ + \"static/media/language-icon.debcbd9f.svg\";","import React, { Component } from \"react\";\r\nimport $script from \"scriptjs\";\r\n\r\nvar openwindow;\r\n\r\nclass GoogleMap extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      map: {},\r\n      markers: [],\r\n      language: this.props.language\r\n    };\r\n    this.mapRef = React.createRef();\r\n  }\r\n  componentDidMount() {\r\n    $script(\r\n      `https://maps.googleapis.com/maps/api/js?key=AIzaSyBBMko9344y32hbPtFedASD3zGcWrx_gus&language=${this.state.language}`,\r\n      this.createMap\r\n    );\r\n  }\r\n\r\n  createMap = () => {\r\n    const { stitle, latitude, longitude } = this.props.data;\r\n    this.setState({\r\n      map: new window.google.maps.Map(this.mapRef.current)\r\n    });\r\n    this.state.map.setCenter({ lat: +latitude, lng: +longitude });\r\n    this.state.map.setZoom(17);\r\n    \r\n    let tempArr;\r\n    tempArr = this.state.markers;\r\n    let marker = new window.google.maps.Marker({\r\n      position: { lat: +latitude, lng: +longitude },\r\n      map: this.state.map,\r\n      animation: window.google.maps.Animation.DROP\r\n    });\r\n    let infowindow = new window.google.maps.InfoWindow({\r\n      content: \"<h4>\" + stitle + \"</h4>\"\r\n    });\r\n    marker.addListener(\"click\", e => {\r\n      if (openwindow) {\r\n        openwindow.close();\r\n      }\r\n      openwindow = infowindow;\r\n      infowindow.open(this.state.map, marker);\r\n    });\r\n    tempArr.push(marker);\r\n    this.setState({ markers: tempArr });\r\n  };\r\n  render() {\r\n    return <div className=\"google-map-show\" ref={this.mapRef} />\r\n  }\r\n}\r\n\r\nexport default GoogleMap;\r\n","import { createContext } from \"react\";\r\n\r\nexport const { Provider, Consumer } = createContext({});","export default {\r\n  navbar: {\r\n    favorite: '我的收藏',\r\n    signIn: '會員登入',\r\n    signOut: '會員登出',\r\n    signInModel: '登入',\r\n    signOutModel: '登出',\r\n  },\r\n  hero: {\r\n    title: '臺北之旅，從這刻開始',\r\n    search: '想去哪?',\r\n    date: '日期',\r\n    MRT: '捷運站',\r\n    searchBtn: '搜尋',\r\n    advancedSearchBtn: '進階搜尋',\r\n    district: '行政區域',\r\n    themed: '主題景點',\r\n    searchAdvancedClearBtn: '清除全部',\r\n    searchAdvancedSerchBtn: '開始搜尋',\r\n  },\r\n  contentSection: {\r\n    title: '台北景點列表',\r\n    mostScore: '最高評分',\r\n    mostComment: '最多評論',\r\n    searchNothing: '沒有相關資料',\r\n  },\r\n  card: {\r\n    detailsBtn: '詳細內容',\r\n    openAllDay: '全天候開放',\r\n  },\r\n  model: {\r\n    signInTitle: '登 入',\r\n    signUpTitle: '註 冊',\r\n    signInSubTitle: '收藏台北，從登入開始',\r\n    signUpSubTitle: '申請會員，開始收藏臺北',\r\n    emailInput: '請輸入信箱',\r\n    passwordInput: '請輸入密碼',\r\n    googleSignIn: '使用 Google 快速登入',\r\n    googleSignInBtn: '使用 Google 帳號登入',\r\n    nickNameInput: '請輸入暱稱',\r\n    checkPasswordInput: '確認密碼',\r\n  },\r\n  remindModel: {\r\n    btn: '確認',\r\n    signInRemind: '請先登入',\r\n  },\r\n  attractionPage: {\r\n    infoTitle: '景點資訊',\r\n    tag: '主題分類',\r\n    category: '遊玩類別',\r\n    address: '地址',\r\n    month: '推薦月份',\r\n    web: '官方網站',\r\n    tel: '聯絡電話',\r\n    openTime: '開放時間',\r\n    service: '相關服務',\r\n    mrt: '鄰近捷運',\r\n    traffic: '交通資訊',\r\n    trafficContentText: '點擊選擇適合的交通方式',\r\n    openRemind: '開放小提醒',\r\n    Remind: '提醒事項',\r\n    mapTitle: '景點地圖',\r\n    messageTitle: '留言評價',\r\n    nearbyAttractions: '附近推薦景點',\r\n    ticket: '票券資料',\r\n    cancelMessage: '取消留言',\r\n    leaveComments: '我要留言',\r\n    sendMessage: '送出評價',\r\n  },\r\n  footer: {\r\n    address: '地址 : 11008 臺北市市府路1號4樓中央區',\r\n    tel: '電話 :  02-27208889',\r\n    serviceTime: '服務時間 : 周一至周五: 08:30-12:30 13:30-17:30',\r\n  },\r\n  favoritePage: {\r\n    title: '會員專區',\r\n    subTitle: '我的旅遊背包',\r\n    tagTheme: [\r\n      \"養生溫泉\",\r\n      \"單車遊蹤\",\r\n      \"歷史建築\",\r\n      \"宗教信仰\",\r\n      \"藝文館所\",\r\n      \"公共藝術\",\r\n      \"藍色公路\",\r\n      \"親子共遊\",\r\n      \"戶外踏青\",\r\n    ]\r\n  },\r\n  editor: {\r\n    title: '給予評價',\r\n    placeholder: '寫下你的評價',\r\n    editMessage: '編輯內容',\r\n    deleteMessage: '刪除內容'\r\n  }\r\n}","export default {\r\n  navbar: {\r\n    favorite: 'Favorite',\r\n    signIn: 'Sign In',\r\n    signOut: 'Sign Out',\r\n    signInModel: 'Sign In',\r\n    signOutModel: 'Sign Out',\r\n  },\r\n  hero: {\r\n    title: 'Impression of Taipei',\r\n    search: 'Do you want to go?',\r\n    date: 'Date',\r\n    MRT: 'MRT Station',\r\n    searchBtn: 'Search',\r\n    advancedSearchBtn: 'Advance',\r\n    district: 'District',\r\n    themed: 'Themed Attractions',\r\n    searchAdvancedClearBtn: 'Clear All',\r\n    searchAdvancedSerchBtn: 'Search',\r\n  },\r\n  contentSection: {\r\n    title: 'Taipei Attractions List',\r\n    mostScore: 'Most Rated',\r\n    mostComment: 'Most comments',\r\n    searchNothing: 'Attractions Not Found',\r\n  },\r\n  card: {\r\n    detailsBtn: 'Details',\r\n    openAllDay: 'Open all day',\r\n  },\r\n  model: {\r\n    signInTitle: 'Sign In',\r\n    signUpTitle: 'Sign Up',\r\n    signInSubTitle: 'Collection of attractions, starting from login',\r\n    signUpSubTitle: 'Start collecting attractions after registration',\r\n    emailInput: 'Enter your email',\r\n    passwordInput: 'Enter your password',\r\n    googleSignIn: 'Sign in with Google',\r\n    googleSignInBtn: 'Sign in with your Google Account',\r\n    nickNameInput: 'Please enter a nickname',\r\n    checkPasswordInput: 'confirm password',\r\n  },\r\n  remindModel: {\r\n    btn: 'Confirm',\r\n    signInRemind: 'Please login first',\r\n  },\r\n  attractionPage: {\r\n    infoTitle: 'Attractions information',\r\n    tag: 'Themed',\r\n    category: 'Subject',\r\n    address: 'Address',\r\n    month: 'Suggested Months',\r\n    web: 'Official Website',\r\n    tel: 'Phone Number',\r\n    openTime: 'Opening Hours',\r\n    service: 'Services',\r\n    mrt: 'Nearby MRT',\r\n    traffic: 'Transportaiton',\r\n    trafficContentText: 'Choose a transportation method',\r\n    openRemind: 'Open Time',\r\n    Remind: 'Reminder',\r\n    mapTitle: 'Attractions map',\r\n    messageTitle: 'Attractions Reviews',\r\n    nearbyAttractions: 'Recommended nearby attractions',\r\n    ticket: 'Ticket information',\r\n    cancelMessage: 'Cancel',\r\n    leaveComments: 'Leave Comments',\r\n    sendMessage: 'Send',\r\n  },\r\n  footer: {\r\n    address: '4F., No. 1, Shifu Rd., Xinyi Dist., Taipei City 110, Taiwan (R.O.C.)',\r\n    tel: 'Phone : 02-27208889',\r\n    serviceTime: 'Service Hours : Monday to Friday: 08:30-12:30 13:30-17:30',\r\n  },\r\n  favoritePage: {\r\n    title: 'Member Centre',\r\n    subTitle: 'My favorite spots',\r\n    tagTheme: [\r\n      \"SPA\",\r\n      \"Cycling\",\r\n      \"Historic Buildings\",\r\n      \"Faith\",\r\n      \"Art Gallery\",\r\n      \"Public Art\",\r\n      \"Bule Highway\",\r\n      \"Family Activities\",\r\n      \"Outdoor Walking\",\r\n    ],\r\n  },\r\n  editor: {\r\n    title: 'Give a rating',\r\n    placeholder: 'Write a review!',\r\n    editMessage: 'Edit',\r\n    deleteMessage: 'Delete'\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport FontAwesome from \"react-fontawesome\";\r\nimport { Consumer } from \"../../../context/DataContext\";\r\nimport LanguageZhTW from '../../../language/zh-TW';\r\nimport LanguageEn from '../../../language/en';\r\nclass SearchBarWeb extends Component {\r\n  render() {\r\n    const { showOptionDate,optionDateShow,\r\n            closeOptionDate,showOptionMRT,week,\r\n            optionMRTShow,toggleSearchAdvanced,searchAdvanced,\r\n            currentThemeIsTag,changeCurrentTheme \r\n          } = this.props; \r\n    return (\r\n      <Consumer>\r\n      {({searchInput, changeInputHandle, language, selectDayOptionHandle, selectMrtOptionHandle, searchDay,\r\n        searchMRT, TaipeiMRT, searchHandle, selectTagThemes, tagTheme, selectAreaThemes, areaTheme, removeSelectItem }) => {\r\n        let languageStatus;\r\n        let theme;\r\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;  \r\n        currentThemeIsTag ? theme = 'tag' : theme = 'area';\r\n        return (\r\n          <div className=\"searchBar-wrap\">\r\n            <div className=\"search-wrap\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"search\"\r\n                value={searchInput}\r\n                onChange={changeInputHandle}\r\n                onKeyDown={(e) => e.keyCode === 13 && searchHandle(e)}\r\n              />\r\n              {!searchInput && (\r\n              <span className=\"placeholder d-flex h-align-items-center\">\r\n                <FontAwesome name=\"compass\" className=\"compass\" />\r\n                {languageStatus.hero.search}\r\n              </span>\r\n              )}\r\n            </div>\r\n            <div className=\"select-wrap\">\r\n              <button\r\n                className=\"select d-flex h-align-items-center\"\r\n                onFocus={showOptionDate}\r\n                onClick={selectDayOptionHandle}/>\r\n              <div className=\"placeholder d-flex h-align-items-center\">\r\n                <FontAwesome name=\"calendar\" className=\"calendar\" />\r\n                <span className=\"select-text\">{searchDay ? searchDay : languageStatus.hero.date}</span>\r\n                <FontAwesome\r\n                  name=\"chevron-down\"\r\n                  className=\"chevron-down\"\r\n                />\r\n              </div>\r\n              <ul className={ optionDateShow ? \"option\" : \"option d-none\"} onClick={closeOptionDate}>\r\n                {week.map((item, index) => <li key={index} onClick={selectDayOptionHandle}>{item}</li>)}\r\n              </ul>\r\n            </div>\r\n            <div className=\"select-wrap\">\r\n              <button\r\n                className=\"select d-flex h-align-items-center\"\r\n                onFocus={showOptionMRT}\r\n                onClick={selectMrtOptionHandle}/>\r\n              <div className=\"placeholder d-flex h-align-items-center\">\r\n                <FontAwesome name=\"location-arrow\" className=\"location-arrow\"/>\r\n                <span className=\"select-text\">\r\n                  {!searchMRT ? languageStatus.hero.MRT : searchMRT}\r\n                </span>\r\n                <FontAwesome name=\"chevron-down\" className=\"chevron-down\"/>\r\n              </div>\r\n              <ul className={ optionMRTShow && !searchMRT ? \"option\" : \"option d-none\" }>\r\n                {TaipeiMRT.map(item => (\r\n                  <li key={item.id} onClick={selectMrtOptionHandle}>\r\n                    {item.name}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n            <button className=\"search-btn\" onClick={searchHandle}>{languageStatus.hero.searchBtn}</button>\r\n            <button className=\"searchAdvanced-btn\" onClick={toggleSearchAdvanced}>\r\n              <FontAwesome name=\"sliders\" className=\"sliders\" />\r\n              {languageStatus.hero.advancedSearchBtn}\r\n            </button>\r\n            <div className={ searchAdvanced ? \"searchAdvanced-content-wrap\" : \"searchAdvanced-content-wrap d-none\" }>\r\n              <div className=\"searchAdvanced-selectBtns-wrap d-flex h-align-items-center h-justify-content-center\">\r\n                <button\r\n                  className={ currentThemeIsTag ? \"tag-btn active\" : \"tag-btn\"}\r\n                  onClick={changeCurrentTheme}>\r\n                  {languageStatus.hero.themed}\r\n                </button>\r\n                <button\r\n                  className={ !currentThemeIsTag ? \"area-btn active\" : \"area-btn\" }\r\n                  onClick={changeCurrentTheme}>\r\n                  {languageStatus.hero.district}\r\n                </button>\r\n              </div>\r\n              <div className=\"searchAdvanced-content d-flex h-flex-column h-align-items-center h-justify-content-center\">\r\n                <div className=\"searchAdvanced-items-wrap d-flex h-justify-content-center h-flex-wrap\">\r\n                  {currentThemeIsTag && tagTheme.map(item => (\r\n                    <button className={ item.active ? \"searchAdvanced-item active\" : \"searchAdvanced-item\" }\r\n                      key={item.id}\r\n                      data-index={item.id}\r\n                      onClick={selectTagThemes}>\r\n                      {item.name}\r\n                    </button>\r\n                  ))}\r\n                  {!currentThemeIsTag && areaTheme.map(item => (\r\n                    <button\r\n                      className={ item.active ? \"searchAdvanced-item active\" : \"searchAdvanced-item\" }\r\n                      key={item.id}\r\n                      data-index={item.id}\r\n                      onClick={selectAreaThemes}>\r\n                        {item.name}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n                <div className=\"searchAdvanced-wrap\">\r\n                  <button className=\"searchAdvanced-clear\" onClick={() => { removeSelectItem(theme) }}>{languageStatus.hero.searchAdvancedClearBtn}</button>\r\n                  <button className=\"searchAdvanced-serch\" onClick={searchHandle}>{languageStatus.hero.searchAdvancedSerchBtn}</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      }}\r\n      </Consumer>\r\n      \r\n    )\r\n  }\r\n}\r\n\r\nexport default SearchBarWeb;\r\n","import React, { Component } from 'react';\r\nimport { Consumer } from \"../../../context/DataContext\";\r\nimport './SearchAdvancedMobile.scss';\r\nimport LanguageZhTW from '../../../language/zh-TW';\r\nimport LanguageEn from '../../../language/en';\r\n\r\nclass SearchAdvancedMobile extends Component {\r\n  render() {\r\n    const { currentThemeIsTag,changeCurrentTheme } = this.props;\r\n    return (\r\n      <Consumer>\r\n      {({selectTagThemes, tagTheme, selectAreaThemes, areaTheme, searchHandle, searchAdvancedMobileHandle, language}) => {\r\n        let languageStatus;\r\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\r\n        return (\r\n          <>\r\n            <div className=\"mobile searchAdvanced-content-wrap\">\r\n              <div className=\"searchAdvanced-selectBtns-wrap d-flex h-align-items-center h-justify-content-center\">\r\n                <button className={ currentThemeIsTag ? \"tag-btn active\" : \"tag-btn\"}\r\n                  onClick={changeCurrentTheme}>{languageStatus.hero.themed}</button>\r\n                <button className={!currentThemeIsTag ? \"area-btn active\" : \"area-btn\"}\r\n                  onClick={changeCurrentTheme}>{languageStatus.hero.district}</button>\r\n              </div>\r\n              <div className=\"searchAdvanced-content d-flex h-flex-column h-align-items-center h-justify-content-center\">\r\n                <div className=\"searchAdvanced-items-wrap d-flex h-justify-content-center h-flex-wrap\">\r\n                  {currentThemeIsTag ? (currentThemeIsTag && tagTheme.map(item => {\r\n                    return (\r\n                      <button className={ item.active ? 'searchAdvanced-item active' : 'searchAdvanced-item' }\r\n                        key={item.id}\r\n                        data-index={item.id}\r\n                        onClick={selectTagThemes}>\r\n                          {item.name}\r\n                      </button>\r\n                    );\r\n                  })) : (areaTheme.map(item => {\r\n                    return (\r\n                      <button\r\n                        className={ item.active ? \"searchAdvanced-item active\" : \"searchAdvanced-item\"}\r\n                        key={item.id}\r\n                        data-index={item.id}\r\n                        onClick={selectAreaThemes}>\r\n                          {item.name}\r\n                      </button>);\r\n                  }))}\r\n                </div>\r\n                <button className=\"searchAdvanced-searchBtn\" onClick={searchHandle}>{languageStatus.hero.searchAdvancedSerchBtn}</button>\r\n              </div>\r\n            </div>\r\n            <div className=\"cover-bg\" onClick={searchAdvancedMobileHandle}></div>\r\n          </>\r\n        )\r\n      }}\r\n      </Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SearchAdvancedMobile;\r\n","import React, { Component } from 'react';\r\nimport FontAwesome  from 'react-fontawesome'; \r\nimport { Consumer } from \"../../../context/DataContext\";\r\nimport SearchAdvancedMobile from './SearchAdvancedMobile';\r\nimport LanguageZhTW from '../../../language/zh-TW';\r\nimport LanguageEn from '../../../language/en';\r\nimport './SearchBarMobile.scss';\r\n\r\nclass SearchBarMobile extends Component {\r\n  render() {\r\n    const { showOptionDate,optionDateShow,\r\n      closeOptionDate,showOptionMRT,week,\r\n      optionMRTShow,currentThemeIsTag,\r\n      changeCurrentTheme, closeOptionDateOnSection \r\n    } = this.props; \r\n    return (\r\n      <Consumer>\r\n      {({showSearchAdvancedMobile, searchInput, changeInputHandle, selectDayOptionHandle,\r\n      selectMrtOptionHandle, searchDay, searchMRT, TaipeiMRT, searchHandle, searchAdvancedMobileHandle, language}) => {\r\n        let languageStatus;\r\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;  \r\n        return (\r\n          <section className=\"searchBar-wrap-mobile h-align-items-center\" onClick={closeOptionDateOnSection}>\r\n            <div className=\"container\">\r\n              {showSearchAdvancedMobile\r\n                  ? <SearchAdvancedMobile currentThemeIsTag={currentThemeIsTag} changeCurrentTheme={changeCurrentTheme}/> \r\n                  : null}\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                <div className=\"search-wrap\">\r\n                  <input type=\"text\" className=\"search\" value={searchInput} onChange={changeInputHandle}/>\r\n                    {!searchInput && (\r\n                      <span className=\"placeholder d-flex h-align-items-center\">\r\n                        <FontAwesome name=\"compass\" className=\"compass\" />\r\n                        {languageStatus.hero.search}\r\n                      </span>\r\n                    )}\r\n                </div>\r\n                </div>\r\n                <div className=\"col-12\">\r\n                  <div className=\"select-wrap\">\r\n                    <button className=\"select d-flex h-align-items-center\"\r\n                      onFocus={showOptionDate}\r\n                      onClick={selectDayOptionHandle}\r\n                      onTouchStart={showOptionDate}\r\n                      >\r\n                    </button>\r\n                    <div className=\"placeholder d-flex h-align-items-center\">\r\n                      <FontAwesome name=\"calendar\" className=\"calendar\" />\r\n                      <span className=\"select-text\">{searchDay ? searchDay : languageStatus.hero.date}</span>\r\n                      <FontAwesome name=\"chevron-down\" className=\"chevron-down\" />\r\n                    </div>\r\n                    <ul className={ optionDateShow ? \"option\" : \"option d-none\"} onClick={closeOptionDate}>\r\n                      { week.map((item, index) => {\r\n                        return <li key={index} onClick={selectDayOptionHandle}>{item}</li>\r\n                      }) }\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-12\">\r\n                  <div className=\"select-wrap\">\r\n                    <button className=\"select d-flex h-align-items-center\"\r\n                      onFocus={showOptionMRT}\r\n                      onClick={selectMrtOptionHandle}\r\n                      onTouchStart={showOptionMRT}\r\n                      >\r\n                    </button>\r\n                    <div className=\"placeholder d-flex h-align-items-center\">\r\n                      <FontAwesome name=\"location-arrow\" className=\"location-arrow\" />\r\n                      <span className=\"select-text\">{!searchMRT ? languageStatus.hero.MRT : searchMRT}</span>\r\n                      <FontAwesome name=\"chevron-down\" className=\"chevron-down\" />\r\n                    </div>\r\n                    <ul className={ optionMRTShow && !searchMRT ? \"option\" : \"option d-none\" }>\r\n                      {TaipeiMRT.map(item => (\r\n                        <li key={item.id} onClick={selectMrtOptionHandle}>\r\n                          {item.name}\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-12\">\r\n                  <div className=\"search-btn-wrap d-flex\">\r\n                    <button className=\"search-btn\" onClick={searchHandle}>{languageStatus.hero.searchBtn}</button>\r\n                    <button className=\"searchAdvanced-btn\" onClick={searchAdvancedMobileHandle}>\r\n                      <FontAwesome name=\"sliders\" className=\"sliders\" />\r\n                      {languageStatus.hero.advancedSearchBtn}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        )\r\n      }}\r\n      </Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SearchBarMobile;","import React, { Component } from \"react\";\r\nimport SearchBarWeb from './SearchBarWeb';\r\nimport SearchBarMobile from \"./SearchBarMobile\";\r\nimport { Consumer } from \"../../../context/DataContext\";\r\nimport \"./Hero.scss\";\r\nimport LanguageZhTW from '../../../language/zh-TW';\r\nimport LanguageEn from '../../../language/en';\r\n\r\nclass Hero extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      optionDateShow: false,\r\n      optionMRTShow: false,\r\n      searchAdvanced: false,\r\n      currentThemeIsTag: true,\r\n      currentSelectMRT: null,\r\n      week: ['星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日'],\r\n      weekEn: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],\r\n      heroBg: 1,\r\n    };\r\n    this.heroBg_1Ref = React.createRef();\r\n    this.heroBg_2Ref = React.createRef();\r\n    this.heroBg_3Ref = React.createRef();\r\n  }\r\n  componentDidMount(){\r\n    const intervalId = setInterval(this.timer, 15000);\r\n    this.setState({intervalId: intervalId});\r\n  }\r\n  timer = () => {\r\n    const { heroBg } = this.state;\r\n    if ( heroBg === 1) {\r\n      this.heroBg_2Ref.current.classList.remove('d-none');\r\n      this.heroBg_1Ref.current.classList.remove('z-index');\r\n      this.heroBg_3Ref.current.classList.add('d-none');\r\n      this.setState({ heroBg: 2 });\r\n    } else if (heroBg === 2) {\r\n      this.heroBg_3Ref.current.classList.remove('d-none'); \r\n      this.heroBg_1Ref.current.classList.add('d-none');\r\n      this.setState({ heroBg: 3 });\r\n    } else if (heroBg === 3) {\r\n      this.heroBg_2Ref.current.classList.add('d-none');\r\n      this.heroBg_1Ref.current.classList.remove('d-none');\r\n      this.heroBg_1Ref.current.classList.add('z-index');\r\n      this.setState({ heroBg: 1 });\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    clearInterval(this.state.intervalId);\r\n  }\r\n  showOptionDate = () => {\r\n    this.setState({\r\n      optionDateShow: true,\r\n      searchAdvanced: false,\r\n      optionMRTShow: false\r\n    });\r\n  };\r\n  closeOptionDate = (e) => {\r\n    e.stopPropagation();\r\n    this.setState({\r\n      optionDateShow: false\r\n    });\r\n  };\r\n  closeOptionDateOnSection = (e) => {\r\n    if (e.target.className === 'select d-flex h-align-items-center') return;\r\n    this.setState({\r\n      optionDateShow: false,\r\n      optionMRTShow: false\r\n    });\r\n  }\r\n  showOptionMRT = () => {\r\n    this.setState({\r\n      optionMRTShow: true,\r\n      searchAdvanced: false,\r\n      optionDateShow: false,\r\n    });\r\n  };\r\n  closeOptionMRT = () => {\r\n    this.setState({\r\n      optionMRTShow: false\r\n    });\r\n  };\r\n  toggleSearchAdvanced = () => {\r\n    this.setState({\r\n      searchAdvanced: !this.state.searchAdvanced,\r\n      optionMRTShow: false,\r\n      optionDateShow: false,\r\n    });\r\n  };\r\n  changeCurrentTheme = () => {\r\n    this.setState({\r\n      currentThemeIsTag: !this.state.currentThemeIsTag\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <Consumer>\r\n      {({language}) => {\r\n        let languageStatus;\r\n        let week;\r\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\r\n        language === 'zh-TW' ? week = this.state.week : week = this.state.weekEn;\r\n        return (\r\n          <>\r\n            <section className=\"hero d-flex h-align-items-center\" onClick={this.closeOptionDateOnSection}>\r\n              <div className=\"hero-bgs-wrap\">\r\n                <div className=\"hero-bg\" ref={this.heroBg_1Ref}></div>\r\n                <div className=\"hero-bg _2 d-none\" ref={this.heroBg_2Ref}></div>\r\n                <div className=\"hero-bg _3 d-none\" ref={this.heroBg_3Ref}></div>\r\n              </div>\r\n              <div className=\"container z-index mt-50\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <h1 className=\"hero-title\">{languageStatus.hero.title}</h1>\r\n                    <p className=\"hero-subtitle\">\r\n                      What is your impression of Taipei?\r\n                      <br />\r\n                      Everyone has an unique story to tell about the wondrous Taipei\r\n                      that’s\r\n                      <br />\r\n                      definitely worth telling. Let’s hear about what celebrities\r\n                      have to say\r\n                      <br />\r\n                      about Taipei, and unleash our imagination!\r\n                      <br />\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"col-12 d-flex h-justify-content-center\">\r\n                    <SearchBarWeb showOptionDate={this.showOptionDate} optionDateShow={this.state.optionDateShow} \r\n                      closeOptionDate={this.closeOptionDate} showOptionMRT={this.showOptionMRT} week={week}\r\n                      optionMRTShow={this.state.optionMRTShow} toggleSearchAdvanced={this.toggleSearchAdvanced}\r\n                      searchAdvanced={this.state.searchAdvanced} currentThemeIsTag={this.state.currentThemeIsTag}\r\n                      changeCurrentTheme={this.changeCurrentTheme}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </section>\r\n            <SearchBarMobile showOptionDate={this.showOptionDate} optionDateShow={this.state.optionDateShow} \r\n              closeOptionDate={this.closeOptionDate} showOptionMRT={this.showOptionMRT} week={week}\r\n              optionMRTShow={this.state.optionMRTShow} toggleSearchAdvanced={this.toggleSearchAdvanced}\r\n              searchAdvanced={this.state.searchAdvanced} currentThemeIsTag={this.state.currentThemeIsTag}\r\n              changeCurrentTheme={this.changeCurrentTheme} closeOptionDateOnSection={this.closeOptionDateOnSection}/>\r\n          </>\r\n        )\r\n      }}\r\n      </Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Hero;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport FontAwesome from 'react-fontawesome';\r\nimport { Consumer } from '../../../context/DataContext';\r\nimport LanguageZhTW from '../../../language/zh-TW';\r\nimport LanguageEn from '../../../language/en';\r\n\r\nclass AttractionCardStraight extends Component {\r\n  strTmpLanguageHandle = (strTmp) => {\r\n    if (strTmp.includes('公里')) {\r\n      return strTmp.match(/\\d+(.\\d+)?/g) + ' KM';\r\n    } else if (strTmp.includes('公尺')) {\r\n      return strTmp.match(/\\d+(.\\d+)?/g) + 'M';\r\n    }\r\n  }\r\n  render() {\r\n    const { contentText,backgroundImage,opentTIme,MRTColor,strTmp,CAT2, _id, stitle, stitle_en, MRT, address,area,currentDay,currentActiveDay } = this.props.data;\r\n    const { backgroundImageActive } = this.props;\r\n    return (\r\n      <Consumer>\r\n      {({uid,userData,clickHeartIconHandle,filterFavorite,language}) => {\r\n        let languageStatus;\r\n        let strTmpText;\r\n        let addClass;\r\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\r\n        strTmp && (language === 'zh-TW' ? strTmpText = strTmp : strTmpText = this.strTmpLanguageHandle(strTmp));\r\n        language === 'zh-TW' ? addClass = '' : addClass = ' en';\r\n        return (\r\n          <div className=\"col-lg-4\" data-id={_id}>\r\n            <Link to={`/attraction/${_id}`} className=\"attractionCard d-flex d-lg-block\">\r\n              <div className=\"attractionCard-photo\" style={ backgroundImage }>\r\n                { MRT && (\r\n                  <div className={`attractionCard-MRT d-flex ${MRTColor}`}>\r\n                    <div className=\"attractionCard-MRT-icon\"></div>\r\n                    <span>{MRT}</span>\r\n                  </div>\r\n                )}\r\n                {strTmp ? (\r\n                  <div className=\"attractionCard-dist d-flex h-align-items-center\">\r\n                    <FontAwesome name=\"map-marker\" className=\"map-marker\"/>\r\n                    {strTmpText}\r\n                  </div>) \r\n                  : null }\r\n                <button className=\"attractionCard-heart\" data-id={_id} onClick={(e) => clickHeartIconHandle(e,uid,userData)} >\r\n                  <div className=\"heart\" data-id={_id} style={ filterFavorite(userData,_id) ? backgroundImageActive : null }></div>\r\n                </button>\r\n              </div>\r\n              <div className=\"attractionCard-content d-flex h-flex-column\">\r\n                <div className={language === 'zh-TW' ? 'attractionCard-tag h-align-items-center h-justify-content-center' : 'attractionCard-tag en h-align-items-center h-justify-content-center'}>\r\n                  <span className=\"tagText-wrap\">{language && language === 'zh-TW' ? CAT2.replace(/\\s*/g,\"\") : CAT2}</span>\r\n                </div>\r\n                <div className=\"attractionCard-content-title-wrap\">\r\n                  <h1 className= 'attractionCard-content-title d-inline-block'>\r\n                    {language === 'zh-TW' ? stitle : stitle_en}\r\n                  </h1>\r\n                </div>\r\n                <p className=\"attractionCard-content-subtilte d-flex h-align-items-center\"><FontAwesome name=\"map-marker\" className=\"map-marker\"/>{area}</p>\r\n                <div className=\"attractionCard-content-addres-wrap\"><p className=\"attractionCard-content-addres d-sm-none\">{address}</p></div>\r\n                <p className={`attractionCard-content-texts${addClass}`}>{`${contentText}....。`}</p>\r\n                <div className=\"attractionCard-details-wrap d-flex h-align-items-center h-justify-content-between\">\r\n                  <button className=\"attractionCard-details-btn\">{languageStatus.card.detailsBtn}</button>\r\n                  <div className=\"attractionCard-details-time d-flex h-align-items-center\">{opentTIme ? \r\n                    <p>{opentTIme}</p> : <p>{currentDay ? currentDay+` : ${languageStatus.card.openAllDay}` : currentActiveDay+` : ${languageStatus.card.openAllDay}`}</p>}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Link>\r\n          </div>\r\n        )\r\n      }}\r\n      </Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AttractionCardStraight;\r\n","import React, { Component } from 'react';\r\nimport FontAwesome from 'react-fontawesome';\r\nimport { Link } from 'react-router-dom';\r\nimport './AttractionCardHorizontal.scss';\r\nimport { Consumer } from '../../../context/DataContext';\r\nimport LanguageZhTW from '../../../language/zh-TW';\r\nimport LanguageEn from '../../../language/en';\r\n\r\nexport default class AttractionCardHorizontal extends Component {\r\n  render() {\r\n    const { contentText,backgroundImage,opentTIme,MRTColor,CAT2, _id, stitle, MRT, address,area,currentDay,currentActiveDay, stitle_en } = this.props.data;\r\n    const { backgroundImageActive } = this.props;\r\n    return (\r\n      <Consumer>\r\n      {({uid,userData,clickHeartIconHandle,filterFavorite,language}) => {\r\n        let languageStatus;\r\n        let addClass;\r\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\r\n        language === 'zh-TW' ? addClass = '' : addClass = ' en';\r\n        return (\r\n          <div className=\"col-12 col-lg-6\" data-id={_id}>\r\n            <Link to={`/attraction/${_id}`}>\r\n              <div className=\"attractionCard Horizontal d-flex\">\r\n                <div className=\"attractionCard-photo\" style={ backgroundImage }>\r\n                  { MRT && (\r\n                    <div className={`attractionCard-MRT d-flex ${MRTColor}`}>\r\n                      <div className=\"attractionCard-MRT-icon\"></div>\r\n                      <span>{MRT}</span>\r\n                    </div>\r\n                  )}\r\n                  <button className=\"attractionCard-heart\" data-id={_id} onClick={(e) => clickHeartIconHandle(e,uid,userData)} >\r\n                    <div className=\"heart\" data-id={_id} style={ filterFavorite(userData,_id) ? backgroundImageActive : null }></div>\r\n                  </button>\r\n                </div>\r\n                <div className=\"attractionCard-content\">\r\n                  <div className={language === 'zh-TW' ? 'attractionCard-tag h-align-items-center h-justify-content-center' : 'attractionCard-tag en h-align-items-center h-justify-content-center'}>\r\n                    <span className=\"tagText-wrap\">{language === 'zh-TW' ? CAT2.replace(/\\s*/g,\"\") : CAT2}</span>\r\n                  </div>\r\n                  <div className=\"attractionCard-content-title-wrap\">\r\n                    <h1 className={language === 'zh-TW' ? 'attractionCard-content-title d-inline-block' : 'attractionCard-content-title en d-inline-block'}>\r\n                      {language === 'zh-TW' ? stitle : stitle_en}\r\n                    </h1>\r\n                  </div>\r\n                  <p className=\"attractionCard-content-subtilte d-flex h-align-items-center\"><FontAwesome name=\"map-marker\" className=\"map-marker\"/>{area}</p>\r\n                  <div className=\"attractionCard-content-addres-wrap\"><p className=\"attractionCard-content-addres d-sm-none\">{address}</p></div>\r\n                  <p className={`attractionCard-content-texts${addClass}`}>{`${contentText}....。`}</p>\r\n                  <div className=\"attractionCard-details-wrap d-flex h-align-items-center h-justify-content-between\">\r\n                    <button className=\"attractionCard-details-btn\">{languageStatus.card.detailsBtn}</button>\r\n                    <div className=\"attractionCard-details-time d-flex\">{opentTIme ? \r\n                      <p>{opentTIme}</p> : <p>{currentDay ? currentDay+` : ${languageStatus.card.openAllDay}` : currentActiveDay+` : ${languageStatus.card.openAllDay}`}</p>}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Link>\r\n          </div> \r\n        )\r\n      }}\r\n      </Consumer>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Consumer } from \"../../../context/DataContext\";\r\nimport TaipeiMRT from '../../../taipei-MRT.json';\r\nimport TaipeiMRT_EN from '../../../taipei-MRT_EN.json';\r\nimport activeHeartIcon from '../../../img/heart-hover-icon.svg';\r\nimport './AttractionCard.scss';\r\nimport AttractionCardStraight from './AttractionCardStraight';  \r\nimport AttractionCardHorizontal from './AttractionCardHorizontal';\r\n\r\nclass AttractionCard extends Component {\r\n  getDay = (language) => {\r\n    const time = new Date();\r\n    const day = time.getDay();\r\n    let currentDay;\r\n    if (language === 'zh-TW') {\r\n      switch (day) {\r\n        case 0:\r\n          currentDay = '星期日'\r\n          break;\r\n        case 1:\r\n          currentDay = '星期一'\r\n          break;\r\n        case 2:\r\n          currentDay = '星期二'\r\n          break;\r\n        case 3:\r\n          currentDay = '星期三'\r\n          break;\r\n        case 4:\r\n          currentDay = '星期四'\r\n          break;\r\n        case 5:\r\n          currentDay = '星期五'\r\n          break;\r\n        default:\r\n          currentDay = '星期六'\r\n          break;\r\n      }\r\n    } else {\r\n      switch (day) {\r\n        case 0:\r\n          currentDay = 'Sunday'\r\n          break;\r\n        case 1:\r\n          currentDay = 'Monday'\r\n          break;\r\n        case 2:\r\n          currentDay = 'Tuesday'\r\n          break;\r\n        case 3:\r\n          currentDay = 'Wednesday'\r\n          break;\r\n        case 4:\r\n          currentDay = 'Thursday'\r\n          break;\r\n        case 5:\r\n          currentDay = 'Friday'\r\n          break;\r\n        default:\r\n          currentDay = 'Saturday'\r\n          break;\r\n      }\r\n    }\r\n    \r\n    return currentDay;\r\n  }\r\n  filterMRTLine = (MRTName, language) => {\r\n    let TaipeiMRTData;\r\n    language === 'zh-TW' ? TaipeiMRTData = TaipeiMRT : TaipeiMRTData = TaipeiMRT_EN;\r\n    return TaipeiMRTData.filter(item => {\r\n      return item.name === MRTName\r\n    })\r\n  }\r\n  switchMRTLine = (MRTLine, language) => {\r\n    let currentMRTLineColor;\r\n    if (language === 'zh-TW') {\r\n      switch (MRTLine) {\r\n        case '文山內湖線' :\r\n          currentMRTLineColor = 'MRT-brown'\r\n          break;\r\n        case '淡水、信義線' :\r\n          currentMRTLineColor = 'MRT-red'\r\n          break;\r\n        case '小南門、新店線' :\r\n          currentMRTLineColor = 'MRT-green'\r\n          break;\r\n        case '中和、蘆洲、新莊線' :\r\n          currentMRTLineColor = 'MRT-yellow'\r\n          break;\r\n        default:\r\n          currentMRTLineColor = 'MRT-blue'\r\n          break;\r\n      }\r\n    } else {\r\n      switch (MRTLine) {\r\n        case 'Wenhu Line':\r\n          currentMRTLineColor = 'MRT-brown'\r\n          break;\r\n        case 'Tamsui-Xinyi Line':\r\n          currentMRTLineColor = 'MRT-red'\r\n          break;\r\n        case 'Songshan-Xindian Line':\r\n          currentMRTLineColor = 'MRT-green'\r\n          break;\r\n        case 'Zhonghe-Xinlu Line':\r\n          currentMRTLineColor = 'MRT-yellow'\r\n          break;\r\n        default:\r\n          currentMRTLineColor = 'MRT-blue'\r\n          break;\r\n      }\r\n    }\r\n    return currentMRTLineColor;\r\n  }\r\n  filterOpenTime = (opentTime, searchDay = this.getDay(), language) => {\r\n    if (!opentTime) return;\r\n    let filterTime;\r\n    if ( opentTime && language === 'zh-TW') {\r\n      filterTime = opentTime.filter(item => {\r\n        let day = item.substr(0,3);\r\n        return searchDay === day\r\n      })\r\n    } else if (opentTime && language !== 'zh-TW') {\r\n      filterTime = opentTime.filter(item => item.includes(searchDay))\r\n    }\r\n    return filterTime[0]\r\n  }\r\n  contentTextBreakLineHandle = (text) => {\r\n    const textArray = text.split(/[\\r\\n]/);\r\n    const textArrayFilter = textArray.filter(item => item.length && item !== '&nbsp;');\r\n    return textArrayFilter;\r\n  }\r\n  render() {\r\n    if(!this.props.data) { return null }\r\n    const { CAT2, _id, stitle, stitle_en, MRT, address, xbody, images, area, opening_hours } = this.props.data;\r\n    const { cardIsRow, strTmp } = this.props;\r\n    let MRTLine;\r\n    let MRTColor;\r\n    let photo;\r\n    images && (photo = images[0].src);\r\n    let backgroundImage = { backgroundImage: `url(${photo})` };\r\n    let backgroundImageActive = { backgroundImage: `url(${activeHeartIcon})`};\r\n    return (\r\n      <Consumer>\r\n        {({ currentDay,language }) => {\r\n          let opentTIme;\r\n          let currentActiveDay = this.getDay(language);\r\n          let contentText;\r\n          xbody && (language === 'zh-TW' ? contentText = (this.contentTextBreakLineHandle(xbody))[0].substr(0, 40) : contentText = this.contentTextBreakLineHandle(xbody.substr(0, 30)));\r\n          MRT && (this.filterMRTLine(MRT, language))[0] && (MRTLine = (this.filterMRTLine(MRT, language))[0].line) && (MRTColor = this.switchMRTLine(MRTLine, language));\r\n          !currentDay && (opentTIme = this.filterOpenTime(opening_hours));\r\n          currentDay && (opentTIme = this.filterOpenTime(opening_hours, currentDay));\r\n          let data = {contentText,backgroundImage,opentTIme,MRTColor,strTmp,CAT2, _id, stitle, stitle_en, MRT, address,area,currentDay,currentActiveDay};\r\n          return (\r\n            cardIsRow ? <AttractionCardHorizontal data={data} contentText={contentText} backgroundImageActive={backgroundImageActive}/> \r\n              : <AttractionCardStraight data={data} contentText={contentText} backgroundImageActive={backgroundImageActive}/>\r\n          )\r\n        }}\r\n      </Consumer>\r\n    )\r\n  }\r\n}\r\nexport default AttractionCard;","import React, { Component } from \"react\";\r\nimport FontAwesome from \"react-fontawesome\";\r\nimport { Consumer } from \"../../../context/DataContext\";\r\nimport \"./PageNumber.scss\";\r\n\r\nclass PageNumber extends Component {\r\n  state = {\r\n    groupCount: 5,\r\n    startPage: 1,\r\n  }\r\n  go(currentPage, totalPage, changePageNum, groupCount, setState) {\r\n    // const { groupCount } = this.state;\r\n    // 處理上一頁的狀態\r\n    currentPage % groupCount === 1 && setState({startPage: currentPage});\r\n    currentPage % groupCount === 0 && setState({startPage: currentPage - groupCount + 1});\r\n    totalPage - currentPage < 1 && setState({startPage: totalPage - groupCount});\r\n    changePageNum(currentPage);\r\n  }\r\n  // 頁面向前\r\n  goPrev = (e, currentPage, totalPage, changePageNum, groupCount, setState) => {\r\n    e.preventDefault();\r\n    if (--currentPage === 0) return;\r\n    this.go(currentPage, totalPage, changePageNum, groupCount, setState);\r\n  };\r\n  // 頁面向後\r\n  goNext = (e, currentPage, totalPage, changePageNum, groupCount, setState) => {\r\n    e.preventDefault();\r\n    if (++currentPage > totalPage) return;\r\n    this.go(currentPage, totalPage, changePageNum, groupCount, setState);\r\n  };\r\n  creatFivePages = (startPage,currentPage,totalPage,changePageNum, groupCount, setState) => {\r\n    let pages = [];\r\n    for (let i = startPage; i < 5 + startPage; i++) {\r\n      let classNames = 'pageNum-li d-flex h-align-items-center h-justify-content-center';\r\n      currentPage === i ? (classNames += ' active') : (classNames += '');\r\n      i<=totalPage - 1 && (pages.push(\r\n        <li className={classNames}\r\n          key={i}\r\n          onClick={() => this.go(i, totalPage, changePageNum, groupCount, setState)}>\r\n            {i}\r\n        </li>\r\n      ))\r\n    }\r\n    return pages;\r\n  }\r\n  render() {\r\n    return (\r\n      <Consumer>\r\n        {({currentPage, changePageNum, pageNum, groupCount, startPage, setState}) => {\r\n          const totalPage = pageNum.length;\r\n          const fivePages = this.creatFivePages(startPage,currentPage,totalPage,changePageNum, groupCount, setState);\r\n          if (!pageNum.length) {return}\r\n          return (\r\n            <div className=\"container\">\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <div className=\"pageNum-wrap d-flex h-justify-content-center h-align-items-center\">\r\n                    <FontAwesome name=\"angle-left\" \r\n                      className=\"angle-left\" \r\n                      data-num={currentPage-1} \r\n                      onClick={(e) => this.goPrev(e, currentPage, totalPage, changePageNum, groupCount, setState)}/>\r\n                    {totalPage <= 10 ? (\r\n                      <ul className=\"pageNum-ul d-flex h-flex-wrap\">\r\n                        {pageNum.map((listNum, index) => {\r\n                          let classNames = 'pageNum-li d-flex h-align-items-center h-justify-content-center';\r\n                          currentPage === index+1 ? (classNames += ' active') : (classNames += '');\r\n                          return (\r\n                            <li className={classNames}\r\n                              key={listNum}\r\n                              onClick={() => this.go(index+1, totalPage, changePageNum, groupCount, setState)}>\r\n                                {listNum}\r\n                            </li>);\r\n                          })}\r\n                      </ul>\r\n                    ) : (\r\n                      <ul className=\"pageNum-ul d-flex h-flex-wrap\">\r\n                        {startPage > groupCount && (\r\n                          <>\r\n                            <li className={currentPage === 1 ? 'pageNum-li d-flex h-align-items-center h-justify-content-center active'\r\n                              :'pageNum-li d-flex h-align-items-center h-justify-content-center'}\r\n                              key={0}\r\n                              onClick={e => this.go(1, totalPage, changePageNum, groupCount, setState)}>\r\n                                1\r\n                            </li>\r\n                            <li className=\"ellipsis d-flex h-align-items-center\" key={-2}>\r\n                              <span className=\"btn btn-sm btn-outline-primary text-primary\"\r\n                                onClick={() => this.go(startPage - 5, totalPage, changePageNum, groupCount, setState)}>\r\n                                ···\r\n                              </span>\r\n                            </li>\r\n                          </>\r\n                        )}\r\n                        {fivePages}\r\n                        {totalPage - startPage > groupCount && (\r\n                          <li className=\"ellipsis d-flex h-align-items-center\" key={-1}>\r\n                            <span className=\"btn btn-sm btn-outline-primary text-primary\"\r\n                              onClick={() => this.go(startPage + 5, totalPage, changePageNum, groupCount, setState)}>\r\n                              ···\r\n                            </span>\r\n                          </li>\r\n                        )}\r\n                        <li className={currentPage === totalPage ? 'pageNum-li d-flex h-align-items-center h-justify-content-center active'\r\n                              :'pageNum-li d-flex h-align-items-center h-justify-content-center'}\r\n                          key={0}\r\n                          onClick={() => this.go(totalPage, totalPage, changePageNum, groupCount, setState)}>\r\n                            {totalPage}\r\n                        </li>\r\n                      </ul>\r\n                    )}\r\n                    <FontAwesome name=\"angle-right\" \r\n                      className=\"angle-right\" \r\n                      data-num={currentPage+1}\r\n                      onClick={e => this.goNext(e, currentPage, totalPage, changePageNum, groupCount, setState)}/>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )\r\n        }}\r\n      </Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PageNumber;","import React from 'react';\r\nimport './BouncingLoader.scss'\r\n\r\nconst BouncingLoader = () => {\r\n  return (\r\n    <div className=\"bouncing-loader\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BouncingLoader;\r\n","import React, { Component } from \"react\";\r\nimport FontAwesome from \"react-fontawesome\";\r\nimport { Consumer } from \"../../../context/DataContext\";\r\nimport AttractionCard from \"./AttractionCard\";\r\nimport PageNumber from \"./PageNumber\";\r\nimport BouncingLoader from '../../../components/BouncingLoader';\r\nimport square from '../../../img/square.svg';\r\nimport LanguageZhTW from '../../../language/zh-TW';\r\nimport LanguageEn from '../../../language/en';\r\nimport \"./AttractionsSection.scss\";\r\n\r\nclass AttractionsSection extends Component {\r\n  state = {\r\n    cardIsRow: false,\r\n  }\r\n  currentDataHandle = (results, searchData, currentPage) => {\r\n    let data;\r\n    searchData ? data = searchData : data = results;\r\n    return data.filter((item, index) => {\r\n      let defaultPage;\r\n      defaultPage = (currentPage - 1)*21;\r\n      return (\r\n        defaultPage <= index && index <= defaultPage + 20\r\n      );\r\n    });\r\n  }\r\n  changeCardArrangement = () => {\r\n    this.setState({\r\n      cardIsRow: !this.state.cardIsRow\r\n    })\r\n  }\r\n  render() {\r\n    const { cardIsRow } = this.state\r\n    let backgroundImage = {\r\n      backgroundImage: `url(${square})`,\r\n    };\r\n    return (\r\n      <Consumer>\r\n      {({count, searchData, resultsSortmode,changeTaipeiDataSortHandle, results, currentPage, language}) => {\r\n        let currentCount;\r\n        let currentData;\r\n        let languageStatus;\r\n        let currentCountText;\r\n        results && (currentData = this.currentDataHandle(results, searchData, currentPage));\r\n        searchData ? (currentCount = searchData.length) : (currentCount = count);\r\n        !currentCount && (currentCount = 0);\r\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\r\n        language === 'zh-TW' ? currentCountText = `共有 ${currentCount} 處景點` : currentCountText = `${currentCount} Attractions`;\r\n        return (\r\n          <section>\r\n            <div className=\"container\">\r\n              <main className=\"attractions-wrap\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"attraction-texts\">\r\n                      <h1 className=\"title\">{languageStatus.contentSection.title}</h1>\r\n                      {<div className=\"subtitle\">{currentCountText}</div>}\r\n                      <button className=\"changeList d-none d-lg-flex\" onClick={this.changeCardArrangement}>\r\n                        {cardIsRow ? <div className=\"list-icon\" style={backgroundImage}></div> \r\n                          : <FontAwesome name=\"list\" />}\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"hr\" />\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"order d-flex h-align-items-center\">\r\n                      <span className=\"sort-amount-down d-inline-block\" />\r\n                      <button className={resultsSortmode === 'star' ? 'mostScore active' : 'mostScore'} onClick={() => (changeTaipeiDataSortHandle('star'))}>{languageStatus.contentSection.mostScore}</button>\r\n                      <button className={resultsSortmode === 'message' ? 'mostComment active' : 'mostComment'} onClick={() => (changeTaipeiDataSortHandle('message'))}>{languageStatus.contentSection.mostComment}</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  {!results ? <BouncingLoader /> : (\r\n                    currentData.length ? (currentData.map(item => <AttractionCard key={item._id} data={item} cardIsRow={cardIsRow} />)) : (\r\n                      <div className=\"container\">\r\n                        <div className=\"row\">\r\n                          <div className=\"col-12\">\r\n                            <h2 className=\"srarch-results\"><FontAwesome name=\"exclamation-triangle\" className=\"exclamation-triangle\" />{languageStatus.contentSection.searchNothing}</h2>\r\n                          </div>\r\n                        </div>\r\n                      </div>)\r\n                  )}\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <PageNumber />\r\n                  </div>\r\n                </div>\r\n              </main>\r\n            </div>\r\n          </section>\r\n        )\r\n      }}\r\n      </Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AttractionsSection;\r\n","import React, { Component } from 'react';\r\nimport Hero from './components/Hero';\r\nimport AttractionsSection from './components/AttractionsSection';\r\n\r\nclass HomePage extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <Hero />\r\n        <AttractionsSection />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default HomePage;","import React from 'react';\r\nimport FontAwesome from \"react-fontawesome\";\r\nimport { Consumer } from '../../../context/DataContext';\r\nimport LanguageZhTW from '../../../language/zh-TW';\r\nimport LanguageEN from '../../../language/en';\r\n\r\nconst AttractionOpinion = ({data,editMessageHandle,currentAttractionId,deleteMessageHandle}) => {\r\n  const { time,star,id,userName,message,userId } = data;\r\n  const starArray = [1,2,3,4,5];\r\n  const messageTime =  (new Date(time)).toLocaleString('zh');\r\n  return (\r\n    <Consumer>\r\n    {({userData,setState,language}) => {\r\n      let languageStatus;\r\n      let addClass;\r\n      language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEN;\r\n      language === 'zh-TW' ? addClass = '' : addClass = ' en';\r\n      return (\r\n        <div className=\"attraction-opinion-item\" data-userid={userId}>\r\n          <div className=\"attraction-opinion-infos d-flex\">\r\n            <span className=\"attraction-opinion-name\">{userName}</span>\r\n            <span className=\"attraction-opinion-stars\">\r\n              {starArray.map(item => (\r\n                <FontAwesome name=\"star\" className={item <= star ? 'star active' : 'star'} key={item}/>\r\n              ))}\r\n            </span>\r\n            <span className=\"attraction-option-date\">{messageTime}</span>\r\n          </div>\r\n          <div className=\"attraction-opinion-message\" dangerouslySetInnerHTML={{ __html: message}}></div>\r\n          {userData && userData.uid === userId && <button className=\"delet\" data-id={id} data-currentid={currentAttractionId}\r\n            onClick={(e) => deleteMessageHandle(e,setState,currentAttractionId)}>{languageStatus.editor.deleteMessage}</button>}\r\n          {userData && userData.uid === userId && <button className={`edit${addClass}`} data-id={id} data-currentid={currentAttractionId} \r\n            onClick={editMessageHandle} >{languageStatus.editor.editMessage}</button>}\r\n        </div>\r\n      )\r\n    }}\r\n    </Consumer>\r\n  )\r\n}\r\n\r\nexport default AttractionOpinion\r\n\r\n","import React, { Component } from 'react';\r\nimport { Consumer } from '../../../context/DataContext';\r\n\r\nclass WeatherItem extends Component {\r\n  dateLanguageHandle = (day) => {\r\n    let newDay;\r\n    switch (day) {\r\n      case '星期一':\r\n        newDay = 'Monday'\r\n        break;\r\n      case '星期二':\r\n        newDay = 'Tuesday'\r\n        break;\r\n      case '星期三':\r\n        newDay = 'Wednesday'\r\n        break;\r\n      case '星期四':\r\n        newDay = 'Thursday'\r\n        break;\r\n      case '星期五':\r\n        newDay = 'Friday'\r\n        break;\r\n      case '星期六':\r\n        newDay = 'Saturday'\r\n        break;\r\n      default:\r\n        newDay = 'Sunday'\r\n        break;\r\n    }\r\n    return newDay\r\n  }\r\n  render() {\r\n    return (\r\n      <Consumer>\r\n      {({language}) => (\r\n        <div className={`weather-item h-flex-column h-justify-content-center h-align-items-center ${this.props.class}`}>\r\n          <div className=\"weather-date d-inline-block\">{this.props.date}</div>\r\n          <div className={`weather-icon ${this.props.icon}`}></div>\r\n          <div className=\"temperature\">{this.props.temperature}</div>\r\n          <div className=\"weather-day\">{language === 'zh-TW' ? this.props.day : this.dateLanguageHandle(this.props.day)}</div>\r\n          {language === 'zh-TW' ? <p className=\"weatherStatus\">{this.props.status}</p> : null}\r\n        </div>\r\n      )}\r\n      </Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default WeatherItem;\r\n","import React, { Component, Fragment } from 'react';\r\nimport WeatherItem from './WeatherItem'\r\nimport './WeatherWrap.scss';\r\n\r\nclass WeatherWrap extends Component {\r\n\r\n  render() {\r\n    const { data } = this.props;\r\n    return (\r\n      <div className=\"col-12\">\r\n        <div className=\"attraction-weather-wrap d-flex h-justify-content-between h-align-items-center\">\r\n          {data && data.map((item,index) => {\r\n            let currentStatus;       \r\n            item.situation.includes('多雲時陰') && (currentStatus = 'wearth-cloudy-day');\r\n            item.situation.includes('陣雨') && (currentStatus = 'wearth-rain');\r\n            item.situation.includes('雷雨') && (currentStatus = 'wearth-thunderstorm');\r\n\r\n            let date;\r\n            let day;\r\n            item.nightDay ? date = item.nightDay.substr(0,5) : date = item.morningDay.substr(0,5);\r\n            item.nightDay ? day = item.nightDay.substr(5,8) : day = item.morningDay.substr(5,8);\r\n\r\n            let addCalss = '';\r\n            let lineCalss ='line';\r\n            index === 2 && (lineCalss+=' d-none d-sm-inline-block');\r\n            index === 3 && (addCalss+=' d-none d-sm-flex') && (lineCalss+=' d-none d-md-inline-block');\r\n            index === 4 && (addCalss+=' d-none d-md-flex') && (lineCalss+=' d-none d-lg-inline-block');\r\n            index === 5 | index === 6 && (addCalss+=' d-none d-lg-flex') && (lineCalss+=' d-none d-lg-inline-block');\r\n            return (\r\n              <Fragment key={index}>\r\n                <WeatherItem class={addCalss} temperature={item.temperature} \r\n                  date={date} status={item.situation} day={day} icon={currentStatus}/>\r\n                {index < 6 ? <span className={ lineCalss }></span> : null}\r\n              </Fragment>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default WeatherWrap;","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\n\r\nvar config = {\r\n  apiKey: \"AIzaSyBn3pXilO3MKEkuclWVN5cjZqzV-e4L3kM\",\r\n  authDomain: \"test-36e1e.firebaseapp.com\",\r\n  databaseURL: \"https://test-36e1e.firebaseio.com\",\r\n  projectId: \"test-36e1e\",\r\n  storageBucket: \"test-36e1e.appspot.com\",\r\n  messagingSenderId: \"1093187294145\"\r\n};\r\n\r\nfirebase.initializeApp(config);\r\n\r\nexport const fireAuth = firebase.auth();\r\nexport default firebase;\r\n\r\n","import React, { Fragment } from 'react';\r\nimport BraftEditor from 'braft-editor';\r\nimport 'braft-editor/dist/index.css';\r\nimport './MessageBraftEditor.css';\r\nimport { Consumer } from '../../../context/DataContext';\r\nimport LanguageZhTW from '../../../language/zh-TW';\r\nimport LanguageEn from '../../../language/en';\r\n\r\nconst controls =[\r\n  'undo', 'redo', 'separator',\r\n  'font-size', 'line-height', 'letter-spacing', 'separator',\r\n  'text-color', 'bold', 'italic', 'underline', 'strike-through', 'separator',\r\n  'remove-styles', 'emoji',  'separator', 'text-indent', 'text-align', 'separator',\r\n  'list-ul', 'list-ol', 'blockquote', 'separator',\r\n  'link', 'separator', 'hr', 'separator',\r\n  'separator',\r\n  'clear'\r\n]\r\n\r\nexport default class MessageBraftEditor extends React.Component {\r\n  state = {\r\n    starIons: [5,4,3,2,1]\r\n  }\r\n  render () {\r\n    const { editorState, editorHandleChange, clickStarHandle, star } = this.props;\r\n    const { starIons } = this.state;\r\n    return (\r\n      <Consumer>\r\n      {({language}) => {\r\n        let languageStatus;\r\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\r\n        return (\r\n          <div className=\"editor-wrap\">\r\n            <span className=\"editor-start-wrap d-flex\">\r\n              <p>{`${languageStatus.editor.title} :`}</p>\r\n              <div className=\"rating\">\r\n                {starIons.map((item, index) => (\r\n                  <Fragment key={item}>\r\n                    <input type=\"radio\" id={`star${item}`} name=\"rating\" value={item} onClick={clickStarHandle}/>\r\n                    <label className={ star >= item ? 'full active' : 'full' } htmlFor={`star${item}`}></label>\r\n                  </Fragment>\r\n                ))}\r\n              </div>\r\n            </span>\r\n            <BraftEditor value={editorState} onChange={editorHandleChange} \r\n              language={language === 'zh-TW' ? 'zh-hant' : 'en'} placeholder={languageStatus.editor.placeholder} controls={controls} />\r\n          </div>\r\n        )\r\n      }}\r\n      </Consumer>\r\n    )\r\n  }\r\n\r\n}","import React, { Component } from 'react';\r\nimport { Consumer } from '../../../context/DataContext';\r\nimport FontAwesome from \"react-fontawesome\";\r\nimport activeHeartIcon from '../../../img/heart-hover-icon.svg';\r\nimport LanguageZhTW from '../../../language/zh-TW';\r\nimport LanguageEn from '../../../language/en';\r\nimport TaipeiMRT from '../../../taipei-MRT.json';\r\nimport TaipeiMRT_EN from '../../../taipei-MRT_EN';\r\n\r\nclass AttractionDetailsInfo extends Component {\r\n  filterMRTLine = (MRTName, language) => {\r\n    let TaipeiMRTData;\r\n    language === 'zh-TW' ? TaipeiMRTData = TaipeiMRT : TaipeiMRTData = TaipeiMRT_EN;\r\n    return TaipeiMRTData.filter(item => {\r\n      return item.name === MRTName\r\n    })\r\n  }\r\n  switchMRTLine = (MRTLine, language) => {\r\n    let currentMRTLineColor;\r\n    if (language === 'zh-TW') {\r\n      switch (MRTLine) {\r\n        case '文山內湖線' :\r\n          currentMRTLineColor = 'MRT-brown'\r\n          break;\r\n        case '淡水、信義線' :\r\n          currentMRTLineColor = 'MRT-red'\r\n          break;\r\n        case '小南門、新店線' :\r\n          currentMRTLineColor = 'MRT-green'\r\n          break;\r\n        case '中和、蘆洲、新莊線' :\r\n          currentMRTLineColor = 'MRT-yellow'\r\n          break;\r\n        default:\r\n          currentMRTLineColor = 'MRT-blue'\r\n          break;\r\n      }\r\n    } else {\r\n      switch (MRTLine) {\r\n        case 'Wenhu Line':\r\n          currentMRTLineColor = 'MRT-brown'\r\n          break;\r\n        case 'Tamsui-Xinyi Line':\r\n          currentMRTLineColor = 'MRT-red'\r\n          break;\r\n        case 'Songshan-Xindian Line':\r\n          currentMRTLineColor = 'MRT-green'\r\n          break;\r\n        case 'Zhonghe-Xinlu Line':\r\n          currentMRTLineColor = 'MRT-yellow'\r\n          break;\r\n        default:\r\n          currentMRTLineColor = 'MRT-blue'\r\n          break;\r\n      }\r\n    }\r\n    return currentMRTLineColor;\r\n  }\r\n  monthsWordHandle = (months) => {\r\n    return months.split(',').sort();\r\n  }\r\n  TextBreakLineHandle = (text, smallBreak = false) => {\r\n    const textArray = text.split(/[\\r\\n]/);\r\n    const textArrayFilter = textArray.filter(item => item.length && item !== '&nbsp;');\r\n    return smallBreak ? textArrayFilter.join('<br />') : textArrayFilter.join('<br /><br />');\r\n  }\r\n  render() {\r\n    const { _id,target,address,months,ticket,opening_hours,CAT2,service,\r\n      official_site,tel,latitude,longitude,MRT,xbody,open_time,remind,images,stitle,stitle_en } = this.props.data;\r\n      let MRTLine;\r\n      let MRTColor;\r\n      let photo;\r\n      let newXbody =  this.TextBreakLineHandle(xbody);\r\n      let newOpenTime = this.TextBreakLineHandle(open_time,true);\r\n      let newRemind = this.TextBreakLineHandle(remind,true);\r\n      let newTicket = this.TextBreakLineHandle(ticket,true);\r\n      images && (photo = images[0].src);\r\n      let backgroundImageActive = { backgroundImage: `url(${activeHeartIcon})`};\r\n      let backgroundImage = {\r\n        backgroundImage: `url(${photo})`,\r\n      };\r\n    return (\r\n      <Consumer>\r\n        {({uid,userData,clickHeartIconHandle,filterFavorite,language}) => {\r\n          let languageStatus;\r\n          let detailsTitleClass;\r\n          language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\r\n          language === 'zh-TW' ? detailsTitleClass = 'details-title' : detailsTitleClass = 'details-title en';\r\n          MRT && (this.filterMRTLine(MRT,language))[0] && (MRTLine = (this.filterMRTLine(MRT,language))[0].line) && (MRTColor = this.switchMRTLine(MRTLine,language));\r\n          return (\r\n            <div className=\"attraction-info-wrap\">\r\n              <div className=\"attraction-img\" style={ backgroundImage }>\r\n                <button className=\"attractionCard-heart\" data-id={_id} onClick={(e) => clickHeartIconHandle(e,uid,userData)}>\r\n                  <div className=\"heart\" data-id={_id} style={ filterFavorite(userData,_id) ? backgroundImageActive : null }></div>  \r\n                </button>\r\n              </div>\r\n              <div className={language === 'zh-TW' ? 'attraction-info' : 'attraction-info en'} dangerouslySetInnerHTML={{ __html: newXbody}}></div>\r\n              <div className=\"attraction-detailsInfo-wrap\">\r\n                <div className=\"attraction-details-title title\">{languageStatus.attractionPage.infoTitle}</div>\r\n                <ul className=\"attraction-details-item d-flex\">\r\n                  <li className={detailsTitleClass}>{languageStatus.attractionPage.tag}</li>\r\n                  <li className=\"dtails-content-text\"><FontAwesome name=\"tag\" className=\"tag\"/>{CAT2.replace(/\\s*/g,\"\")}</li>\r\n                </ul>\r\n                {target ? (\r\n                  <ul className=\"attraction-details-item d-flex\">\r\n                    <li className={detailsTitleClass}>{languageStatus.attractionPage.category}</li>\r\n                    {target.map(item => (\r\n                      <li className=\"dtails-content-text target\" key={item.id}><FontAwesome name=\"map-pin\" className=\"map-pin\"/>{item.name}</li>\r\n                    ))}\r\n                  </ul>\r\n                ) : null}\r\n                {address ? (\r\n                  <ul className=\"attraction-details-item d-flex\">\r\n                    <li className={detailsTitleClass}>{languageStatus.attractionPage.address}</li>\r\n                    <li className=\"dtails-content-text\"><FontAwesome name=\"map-marker\" className=\"map-marker\"/>{address}</li>\r\n                  </ul>\r\n                ) : null}\r\n                {months ? (\r\n                  <ul className=\"attraction-details-item d-flex h-align-items-center\">\r\n                    <li className={detailsTitleClass}>{languageStatus.attractionPage.month}</li>\r\n                    <li className=\"dtails-content-text d-flex h-flex-wrap\">{this.monthsWordHandle(months).map((item, index) => <span className=\"dtails-months d-flex h-justify-content-center\" key={index}>{item}</span>)}</li>\r\n                  </ul>\r\n                ) : null}\r\n                <ul className=\"attraction-details-item d-flex\">\r\n                  <li className={detailsTitleClass}>{languageStatus.attractionPage.openTime}</li>\r\n                  <li className=\"dtails-content-text\">{ opening_hours ? (opening_hours.map((item,index) => {\r\n                    return <span className=\"d-block opentTime-list\" key={index}>{item}</span>\r\n                  })): languageStatus.card.openAllDay}</li>\r\n                </ul>\r\n                {newOpenTime ? (\r\n                  <ul className=\"attraction-details-item d-flex\">\r\n                    <li className={detailsTitleClass}>{languageStatus.attractionPage.openRemind}</li>\r\n                    <li className=\"dtails-content-text\" dangerouslySetInnerHTML={{ __html: newOpenTime}} ></li>\r\n                  </ul>\r\n                ) : null}\r\n                {newRemind ? (\r\n                  <ul className=\"attraction-details-item d-flex\">\r\n                    <li className={detailsTitleClass}>{languageStatus.attractionPage.Remind}</li>\r\n                    <li className=\"dtails-content-text\" dangerouslySetInnerHTML={{ __html: newRemind}}></li>\r\n                  </ul>\r\n                ) : null}\r\n                {ticket ? (\r\n                  <ul className=\"attraction-details-item d-flex\">\r\n                    <li className={detailsTitleClass}>{languageStatus.attractionPage.ticket}</li>\r\n                    <li className=\"dtails-content-text\" dangerouslySetInnerHTML={{ __html: newTicket}}></li>\r\n                  </ul>\r\n                ) : null}\r\n                {service ? (\r\n                  <ul className=\"attraction-details-item d-flex\">\r\n                    <li className={detailsTitleClass}>{languageStatus.attractionPage.service}</li>\r\n                    <li className=\"dtails-content-text\">{service.map(item => <span className=\"details-service\" key={item.id}><FontAwesome name=\"check-square\" className=\"check-square\" />{item.name}</span> )}</li>\r\n                  </ul>\r\n                ) : null}\r\n                {official_site ? (\r\n                  <ul className=\"attraction-details-item d-flex\">\r\n                    <li className={detailsTitleClass}>{languageStatus.attractionPage.web}</li>\r\n                    <a href={official_site} target=\"_blank\" className=\"details-official-site\" rel=\"noopener noreferrer\">{language === 'zh-TW' ? stitle : stitle_en}</a>\r\n                  </ul>\r\n                ) : null}\r\n                {tel ? (\r\n                  <ul className=\"attraction-details-item d-flex h-align-items-center\">\r\n                    <li className={detailsTitleClass}>{languageStatus.attractionPage.tel}</li>\r\n                    <a href={`tel:${tel}`} className=\"details-official-site\" rel=\"noopener noreferrer\">\r\n                      <FontAwesome name=\"phone\" className=\"phone\"/>{tel}\r\n                    </a>\r\n                  </ul>\r\n                ) : null}\r\n                {MRTLine ? (\r\n                  <ul className=\"attraction-details-item d-flex h-align-items-center\">\r\n                    <li className={detailsTitleClass}>{languageStatus.attractionPage.mrt}</li>\r\n                    <li className=\"dtails-content-text mobile-MRT\"><span className={`MRT-line ${MRTColor}`}>{MRTLine}</span><span>{MRT}</span></li>\r\n                  </ul>\r\n                  ) : null}\r\n                <ul className=\"attraction-details-item d-flex h-align-items-center\">\r\n                  <li className={detailsTitleClass}>{languageStatus.attractionPage.traffic}</li>\r\n                  <li className=\"dtails-content-text\"><a href={`https://www.google.com/maps?daddr=${latitude},${longitude}&hl=${language}`}\r\n                    target=\"_blank\" rel=\"noopener noreferrer\" className=\"googleMap-link\">{languageStatus.attractionPage.trafficContentText}</a></li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          )\r\n        }}\r\n      </Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AttractionDetailsInfo;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport FontAwesome from \"react-fontawesome\";\r\nimport './ErrorMessage.scss';\r\n\r\nclass ErrorMessage extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"errorMessage-wrp\">\r\n          <div className=\"errorMessage d-flex h-align-items-center h-flex-column h-justify-content-center\">\r\n            <FontAwesome name=\"exclamation-triangle\" className=\"errorMessage-exclamation-triangle\" />\r\n            <h3 className=\"errorMessage-title\">Oops，此頁面並不存在</h3>\r\n            <p className=\"errorMessage-text\">點擊確認回到首頁</p>\r\n            <Link to=\"/\" className=\"backHomePage-btn\">確認</Link>\r\n          </div>\r\n        </div>\r\n        <div className=\"errorMessage-bg\"></div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ErrorMessage;\r\n","import React, { Component } from 'react';\r\nimport FontAwesome from \"react-fontawesome\";\r\nimport GoogleMap from './components/GoogleMap';\r\nimport AttractionOpinion from './components/AttractionOpinion';\r\nimport AttractionCard from '../homePage/components/AttractionCard';\r\nimport WeatherWrap from './components/WeatherWrap';\r\nimport { Consumer } from \"../../context/DataContext\";\r\nimport firebase from \"../../config/firebase\";\r\nimport MessageBraftEditor from './components/MessageBraftEditor';\r\nimport BraftEditor from 'braft-editor';\r\nimport './index.scss';\r\nimport LanguageZhTW from '../../language/zh-TW';\r\nimport LanguageEn from '../../language/en';\r\nimport AttractionDetailsInfo from '../../pages/attractionPage/components/AttractionDetailsInfo';\r\nimport ErrorMessage from '../../components/ErrorMessage';\r\n\r\nconst api = 'https://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=e6831708-02b4-4ef8-98fa-4b4ce53459d9&q=%E8%87%BA%E5%8C%97%E5%B8%82';\r\n\r\nclass AttractionPage extends Component {\r\n  state = {\r\n    nearbyAllData: null,\r\n    weather: null,\r\n    currentTemperature: null,\r\n    showMessageTextarea: false,\r\n    editorState: BraftEditor.createEditorState(null),\r\n    messageData: null,\r\n    star: 0,\r\n    totalStarScore: 0,\r\n    editId: null,\r\n  }\r\n  componentDidMount() {\r\n    this.getNearbyDataFromFirebase();\r\n    this.getWeatherData(api);\r\n  }\r\n  componentDidUpdate() {\r\n    this.getMessageData();\r\n  }\r\n  getNearbyDataFromFirebase = () => {\r\n    let dataRef = firebase.database().ref('FilterNearbyAttractions');\r\n    dataRef.once('value',(snapshot) => {\r\n      this.setState({\r\n        nearbyAllData: snapshot.val()\r\n      })\r\n    })\r\n  }\r\n  getWeatherData = (url) => {\r\n    fetch(url).then(rs => {\r\n      if (rs.status >= 200 && rs.status < 300) {\r\n        return rs.json();\r\n      } else {\r\n        var error = new Error(rs.statusText)\r\n        error.rs = rs\r\n        throw error\r\n      }\r\n    }).then(data => {\r\n      const result = data.result.results;\r\n      let week = [];\r\n      result.length > 0 && result.forEach(item => {\r\n        let objectDay = {};\r\n        objectDay.temperature = `${item.parameterName3}~${item.parameterName2}`;\r\n        objectDay.situation = item.parameterName1;\r\n        objectDay.id = item._id;\r\n        const startTime = new Date(item.startTime).getHours();\r\n        const month = new Date(item.startTime).getMonth();\r\n        const date = new Date(item.startTime).getDate();\r\n        const day =  new Date(item.startTime).getDay();\r\n        let newDay;\r\n        switch (day) {\r\n          case 1:\r\n            newDay = '星期一'\r\n            break;\r\n          case 2:\r\n            newDay = '星期二'\r\n            break;\r\n          case 3:\r\n            newDay = '星期三'\r\n            break;\r\n          case 4:\r\n            newDay = '星期四'\r\n            break;\r\n          case 5:\r\n            newDay = '星期五'\r\n            break;\r\n          case 6:\r\n            newDay = '星期六'\r\n            break;\r\n          default:\r\n            newDay = '星期日'\r\n            break;\r\n        }\r\n        let timeSlot;\r\n        if (startTime === 18) {\r\n          timeSlot = 'nightDay';\r\n        } else if (startTime === 6) {\r\n          timeSlot = 'morningDay';\r\n        } else {\r\n          timeSlot = 'midnightDay';\r\n        }\r\n        objectDay[timeSlot] = `${ month+1 < 10 ? '0'+(month+1) : month+1 }/${date < 10 ? '0'+date : date}${newDay}`;\r\n        week.push(objectDay);\r\n      })\r\n      const filterWeek = week.filter((item,index) => item.morningDay || item.id === 1 & !item.midnightDay);\r\n      const newWeek = filterWeek.filter((item,index) => index < 7);\r\n      this.setState({\r\n        weather: newWeek,\r\n      })\r\n    })\r\n  }\r\n  getCurrenIdNearbyId = (id) => {\r\n    let data = [];\r\n    let filterData = this.state.nearbyAllData.filter((item, index) => {\r\n      return index === id\r\n    })\r\n    for(let key in filterData[0]) {\r\n      data.push(filterData[0][key])\r\n    }\r\n    return data;\r\n  }\r\n  getNearbyData = (allData,id) => {\r\n    return allData.filter(item => {\r\n      return item._id === id\r\n    })\r\n  }\r\n  showMessageTextarea = () => {\r\n    this.editorHandleChange(BraftEditor.createEditorState(null));\r\n    this.setState({\r\n      showMessageTextarea: !this.state.showMessageTextarea,\r\n      editId: null,\r\n      star: 0\r\n    })\r\n  }\r\n  editorHandleChange = (editorState) => {\r\n    this.setState({ editorState })\r\n  }\r\n  clickStarHandle = (e) => {\r\n    this.setState({ star: e.target.value })\r\n  }\r\n  sendMessageHandle = (e,_id,name,userId,star,setState) => {\r\n    if(this.state.editorState.toHTML() === '<p></p>') { return };\r\n    const currentAttractionId = e.target.dataset.currentid;\r\n    const { editId } = this.state;\r\n    const MessageData = {\r\n      message: this.state.editorState.toHTML(),\r\n      userName: name,\r\n      userId: userId,\r\n      star: star,\r\n      time: +new Date()\r\n    }\r\n    setState({ showRemindModel: 4 });\r\n    this.showMessageTextarea();\r\n    document.querySelector('.attraction-opinion-wrap').scrollIntoView({\r\n      block: 'start',\r\n      behavior: 'smooth'\r\n    });\r\n\r\n    if (editId) {\r\n      let MessageRef = `/TouristMessage/${currentAttractionId}/${editId}`;\r\n      firebase.database().ref(MessageRef).set(MessageData).then(() => {\r\n        this.editFirebaseDateHandle(_id);\r\n      });\r\n    } else {\r\n      let MessageRef = `/TouristMessage/${_id}`;\r\n      firebase.database().ref(MessageRef).push(MessageData).then(() => {\r\n        this.editFirebaseDateHandle(_id);\r\n      });\r\n    }\r\n  }\r\n  editFirebaseDateHandle = (_id) => {\r\n    this.setState({ editId: null }); \r\n    firebase.database().ref(`taipeiData/${_id}/star_rating`).set(this.state.totalStarScore);\r\n    firebase.database().ref(`taipeiData/${_id}/message_num`).set(this.state.messageData.length);\r\n    firebase.database().ref(`taipeiData_EN/${_id}/star_rating`).once('value', (snapshot) => {\r\n      if(snapshot.val()) {\r\n        firebase.database().ref(`taipeiData_EN/${_id}/star_rating`).set(this.state.totalStarScore);\r\n        firebase.database().ref(`taipeiData_EN/${_id}/message_num`).set(this.state.messageData.length);\r\n      }\r\n    })\r\n  }\r\n  editMessageHandle = e => {\r\n    const id = e.target.dataset.id;\r\n    const currentAttractionId = e.target.dataset.currentid;\r\n    firebase.database().ref(`/TouristMessage/${currentAttractionId}/${id}`).once('value', (snapshot) => {\r\n      const message = snapshot.val().message;\r\n      const star = snapshot.val().star;\r\n      this.editorHandleChange(BraftEditor.createEditorState(`${message}`));\r\n      this.setState({ editId: id, showMessageTextarea: true, star })\r\n    })\r\n  }\r\n  deleteMessageHandle = (e,setState,_id) => {\r\n    const id = e.target.dataset.id;\r\n    const currentAttractionId = e.target.dataset.currentid;\r\n    setState({ showRemindModel: 7 });\r\n    firebase.database().ref(`/TouristMessage/${currentAttractionId}/${id}`).remove().then(() => {\r\n      firebase.database().ref(`taipeiData/${_id}/star_rating`).set(this.state.totalStarScore);\r\n      firebase.database().ref(`taipeiData/${_id}/message_num`).set(this.state.messageData.length);\r\n      firebase.database().ref(`taipeiData_EN/${_id}/star_rating`).once('value', (snapshot) => {\r\n        if(snapshot.val()) {\r\n          firebase.database().ref(`taipeiData_EN/${_id}/star_rating`).set(this.state.totalStarScore);\r\n          firebase.database().ref(`taipeiData_EN/${_id}/message_num`).set(this.state.messageData.length);\r\n        } \r\n      })\r\n    });\r\n  }\r\n  getMessageData = () => {\r\n    const id = this.props.id;\r\n    const dataRef = firebase.database().ref(`/TouristMessage/${id}`);\r\n    dataRef.on('value', (snapshot) => {\r\n      const data = snapshot.val();\r\n      let messageData = [];\r\n      for(let key in data) {\r\n        data[key].id = key;\r\n        messageData.push(data[key]);\r\n      }\r\n      messageData.reverse();\r\n      const starList = messageData.map(item => Object.values(item)[1]);\r\n      let totalStarScore;\r\n      if (starList.length) {\r\n        totalStarScore = Math.round(starList.reduce((prev,item) => +prev + +item, 0) / starList.length);\r\n      } else {\r\n        totalStarScore = 0;\r\n      }\r\n      this.state.messageData !== messageData && this.state.totalStarScore !== totalStarScore && this.setState({ messageData,totalStarScore });\r\n    })\r\n  }\r\n  render() {\r\n    if (this.props.data.length === 0) { return <ErrorMessage /> }\r\n    const { stitle, stitle_en, _id} = this.props.data[0];\r\n    const { nearbyAllData, weather, currentTemperature, showMessageTextarea, editorState, messageData, star, totalStarScore } = this.state;\r\n    const starIcons = [1,2,3,4,5];\r\n    let currenIdNearbyData;\r\n    nearbyAllData && (currenIdNearbyData =  this.getCurrenIdNearbyId(_id));\r\n    return (\r\n      <Consumer>\r\n      {({uid,userData,language,setState,results}) => {\r\n        let languageStatus;\r\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\r\n        return (\r\n          <section>\r\n            <div className=\"container\">\r\n              <div className=\"attraction-wrap\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"attraction-title d-flex h-align-items-center\">\r\n                      <div className=\"title-wrap\">\r\n                        <FontAwesome name=\"map\" className=\"map\"/>\r\n                        {language === 'zh-TW' ? stitle : stitle_en}\r\n                      </div>\r\n                      <span className=\"attraction-star d-flex h-align-items-center\">\r\n                        <span className=\"start-wrap\">\r\n                          {starIcons.map(item => <FontAwesome name={item <= totalStarScore ? 'star active' : 'star'} className=\"star\" key={item} />)}\r\n                        </span>\r\n                        <span className=\"starNum\">({messageData ? messageData.length : 0})</span>\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <AttractionDetailsInfo data={this.props.data[0]} />\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"google-map\">\r\n                      <div className=\"google-map-tilte\">{languageStatus.attractionPage.mapTitle}</div>\r\n                      <GoogleMap data={this.props.data[0]} language={language} />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <WeatherWrap data={weather} currentTemperature={currentTemperature}/>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"attraction-opinion-wrap\">\r\n                      <div className=\"attraction-opinion-title\">\r\n                        {languageStatus.attractionPage.messageTitle}\r\n                        <span className=\"attraction-message-num\">({messageData ? messageData.length : 0})</span>\r\n                      </div>\r\n                      {messageData && messageData.map(item => {\r\n                        return <AttractionOpinion data={item} key={item.id} editMessageHandle={this.editMessageHandle} \r\n                          currentAttractionId={_id} deleteMessageHandle={this.deleteMessageHandle}/>\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    {showMessageTextarea && <MessageBraftEditor editorState={editorState} \r\n                      editorHandleChange={this.editorHandleChange}\r\n                      clickStarHandle={this.clickStarHandle}\r\n                      star={star} />}\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12 d-flex h-justify-content-center\">\r\n                    {uid && (\r\n                      <button className=\"messageBtn\" onClick={this.showMessageTextarea}>\r\n                        <FontAwesome name=\"comments\" className=\"comments\"/>\r\n                        {showMessageTextarea ? languageStatus.attractionPage.cancelMessage : languageStatus.attractionPage.leaveComments}\r\n                      </button>\r\n                      )}\r\n                    {showMessageTextarea ? (\r\n                      <button className=\"senMessageBtn\" data-id={uid} data-currentid={_id} onClick={ (e) => this.sendMessageHandle(e,_id,userData.nickName,uid,star,setState) } >\r\n                        <FontAwesome name=\"paper-plane\" className=\"paper-plane\"/>\r\n                        {languageStatus.attractionPage.sendMessage}\r\n                      </button>\r\n                    ) : null }\r\n                  </div>\r\n                </div>\r\n                {currenIdNearbyData && currenIdNearbyData.length ? (\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                      <h1 className=\"nearby-title\">\r\n                        <FontAwesome name=\"street-view\" className=\"street-view\"/>\r\n                        {languageStatus.attractionPage.nearbyAttractions}\r\n                      </h1>\r\n                    </div>\r\n                  </div>\r\n                ) : null }\r\n                <div className=\"row\">\r\n                  {currenIdNearbyData && currenIdNearbyData.map(item => <AttractionCard  key={item.id} data={(this.getNearbyData(results, item.id))[0]} strTmp={item.strTmp} />)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        );\r\n      }}\r\n      </Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AttractionPage;","import React, { Component } from 'react';\r\nimport BouncingLoader from '../../../components/BouncingLoader';\r\nimport './AttracionPageLoad.scss';\r\n\r\n\r\nclass AttractionPageLoad extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12 d-flex h-justify-content-center\">\r\n            <div className=\"attraction-load-wrap\">\r\n              <BouncingLoader />\r\n            </div>\r\n            <div className=\"attraction-load-bg\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AttractionPageLoad;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Consumer } from '../context/DataContext';\r\nimport { fireAuth } from '../config/firebase.js';\r\nimport FontAwesome  from 'react-fontawesome';\r\nimport memberIcon from '../img/member-icon.svg';\r\nimport languageIcon from '../img/language-icon.svg';\r\nimport LanguageEn from '../language/en';\r\nimport LanguageZhTW from '../language/zh-TW';\r\nimport './Header.scss';\r\n\r\nclass Header extends Component {\r\n  state = {\r\n    mobileMenu: false,\r\n    languageSelect: false,\r\n    languageMobileMenu: false,\r\n  }\r\n  signOutHandle = (setState) => {\r\n    fireAuth.signOut();\r\n    setState({ showRemindModel: 2 });\r\n  }\r\n  errorReminModelHandle = (uid,setState) => {\r\n    !uid && setState({ showErrorReminModel: true });\r\n  }\r\n  mobileMenuHandle = () => {\r\n    this.setState({\r\n      mobileMenu: !this.state.mobileMenu,\r\n      languageMobileMenu: false,\r\n    })\r\n  }\r\n  showLanguageSelectHandle = (e) => {\r\n    const currentActiveClassName = e.target.className;\r\n    currentActiveClassName === 'menuLink-text' | currentActiveClassName === 'icon' \r\n      && this.setState({ languageSelect: !this.state.languageSelect });\r\n  }\r\n  showLanguageSelectModelHandle = () => {\r\n    this.setState({ languageMobileMenu: !this.state.languageMobileMenu })\r\n  }\r\n  setCookieLanguage = (language) => {\r\n    const expires = new Date();\r\n    expires.setTime(expires.getTime() + 1*24*60*60*1000);\r\n    document.cookie = `language=${language}; max-age=${expires}; path=/`;\r\n    this.setState({ languageSelect: false });\r\n    window.location.reload();\r\n  }\r\n  render() {\r\n    const { mobileMenu,languageSelect,languageMobileMenu } = this.state;\r\n    return (\r\n      <Consumer>\r\n        {({ setState,uid,userData,resetSearchInput,getTaipeiDate,changeLanguageMRT,language,changeLanguageAdvance}) => {\r\n          let languageStatus;\r\n          language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\r\n          return (\r\n            <>\r\n              <header className=\"header d-flex h-align-items-center\">\r\n                <div className=\"container\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                      <nav className=\"nav d-flex h-justify-content-md-between h-align-items-center\">\r\n                        <Link to=\"/\" className=\"logo d-inline-block\" onClick={resetSearchInput}></Link>\r\n                        <div className=\"menu-wrap d-none d-md-flex h-align-items-center\">\r\n                          {userData ? <span className=\"header-name\">{`Hi，${userData.nickName}`}</span> : null}\r\n                          <Link to={uid ? '/myHeart' : '/' } className=\"menuLink d-flex h-align-items-center\" onClick={() => this.errorReminModelHandle(uid,setState)}>\r\n                            <FontAwesome name=\"heart\" className=\"heart icon\"/>\r\n                            <span className=\"menuLink-text\">{languageStatus.navbar.favorite}</span>\r\n                          </Link>\r\n                          <span className=\"menuLink d-flex h-align-items-center\" onClick={uid ? () => this.signOutHandle(setState) : e => {e.preventDefault(); setState({ showSignInModel: true });} }>\r\n                            <img className=\"icon\" src={memberIcon} alt=\"\"/>\r\n                            {uid ? (\r\n                              <span className=\"menuLink-text\">{languageStatus.navbar.signOut}</span>\r\n                            ) : (\r\n                              <span className=\"menuLink-text\">\r\n                                {languageStatus.navbar.signIn}\r\n                              </span>\r\n                            )}\r\n                          </span>\r\n                          <span className=\"menuLink d-flex h-align-items-center\" onClick={this.showLanguageSelectHandle}>\r\n                            <img className=\"icon\" src={languageIcon} alt=\"\"/>\r\n                            <span className=\"menuLink-text\">Language</span>\r\n                            <ul className={languageSelect ? 'language-select show' : 'language-select'}>\r\n                              <li className=\"language-select-item\" onClick={() => this.setCookieLanguage('zh-TW')}>中文(繁)</li>\r\n                              <li className=\"language-select-item\" onClick={() => this.setCookieLanguage('en')}>English</li>\r\n                            </ul>\r\n                          </span>\r\n                        </div>\r\n                        <div className={mobileMenu ? 'menu-mobile-btn d-flex h-flex-column h-justify-content-between d-md-none h-align-items active' : 'menu-mobile-btn d-flex h-flex-column h-justify-content-between h-align-items d-md-none'} onClick={this.mobileMenuHandle}>\r\n                          <span className=\"d-inline-block\"></span>\r\n                          <span className=\"d-inline-block\"></span>\r\n                          <span className=\"d-inline-block\"></span>\r\n                        </div>\r\n                        <div className=\"memberIcon-mobile-wrap d-md-none\" onClick={uid ? () => this.signOutHandle(setState) : () => setState({showSignInModel: true})}>\r\n                          <img className=\"memberIcon d-inline-block\" src={memberIcon} alt=\"\" />\r\n                          <span className=\"mobile-text\">{uid ? languageStatus.navbar.signOutModel : languageStatus.navbar.signInModel}</span>\r\n                        </div>\r\n                      </nav>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </header>\r\n              <nav className={mobileMenu ? 'mobile-menu-wrap d-md-none show' : 'mobile-menu-wrap d-md-none'}>\r\n                <div className=\"container\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                      <Link to={uid ? '/myHeart' : '/' } className=\"menuLink d-flex h-align-items-center\" onClick={() => this.errorReminModelHandle(uid,setState)}>\r\n                        <span className=\"menuLink-text\" onClick={() => this.setState({ mobileMenu: false })}>{languageStatus.navbar.favorite}</span>\r\n                      </Link>\r\n                      <div className=\"menuLink itemLink-2\" onClick={this.showLanguageSelectModelHandle}>Language</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </nav>\r\n              <nav className={languageMobileMenu ? 'mobile-menu-wrap language d-md-none show' : 'mobile-menu-wrap language d-md-none'}>\r\n                <div className=\"container\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                      <div className=\"language-wrap\">\r\n                        <div className=\"menuLink language-item\" onClick={() => this.setCookieLanguage('zh-TW',setState,getTaipeiDate,changeLanguageMRT,changeLanguageAdvance,true)}>中文(繁體)</div>\r\n                        <div className=\"menuLink language-item\" onClick={() => this.setCookieLanguage('en',setState,getTaipeiDate,changeLanguageMRT,changeLanguageAdvance,true)}>English</div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </nav>\r\n            </>\r\n          )\r\n        }}\r\n      </Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Header;","import React, { Component } from 'react';\r\nimport FontAwesome from \"react-fontawesome\";\r\nimport './Footer.scss';\r\nimport { Consumer } from \"../context/DataContext\";\r\nimport LanguageZhTW from '../language/zh-TW';\r\nimport LanguageEn from '../language/en';\r\n\r\nclass Footer extends Component {\r\n  render() {\r\n    return (\r\n      <Consumer>\r\n      {({language}) => {\r\n        let languageStatus;\r\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\r\n        return (\r\n          <footer className=\"footer-bg\">\r\n            <div className=\"footer\">\r\n              <div className=\"container d-flex h-flex-column h-flex-sm-row h-align-items-center h-align-items-sm-end h-justify-content-between\">\r\n                <div className=\"logo-wrap d-flex\">\r\n                  <div className=\"logo\"></div>\r\n                  <div className=\"footer-info d-none d-md-block\">\r\n                    <div>{languageStatus.footer.address}</div>\r\n                    <div>{languageStatus.footer.tel}</div>\r\n                    <div>{languageStatus.footer.serviceTime}</div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"footer-link-wrap d-flex h-flex-column\">\r\n                  <div className=\"footer-icon-wrap d-none d-sm-flex\">\r\n                    <FontAwesome name=\"github\" className=\"github\"/>\r\n                    <FontAwesome name=\"facebook-square\" className=\"facebook-square\"/>\r\n                  </div>\r\n                  <div className=\"copyright\">COPYRIGHT © 2019 TAIPEIGO All rights reserved.</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </footer>\r\n        )\r\n      }}\r\n      </Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Footer;","import React, { Component } from 'react';\r\nimport FontAwesome from 'react-fontawesome';\r\nimport firebase, { fireAuth } from '../config/firebase.js';\r\nimport { Consumer } from '../context/DataContext';\r\nimport LanguageZhTW from '../language/zh-TW';\r\nimport LanguageEn from '../language/en';\r\n\r\nclass SigninContent extends Component {\r\n  state = {\r\n    email: '',\r\n    password: '',\r\n    emailInputError: false,\r\n    passwordInputError: false,\r\n  }\r\n  emailInputHandle = (e) => {\r\n    this.setState({\r\n      email: e.target.value\r\n    })\r\n  }\r\n  passwordInputHandle = (e) => {\r\n    this.setState({\r\n      password: e.target.value\r\n    })\r\n  }\r\n  signInHandle = (e) => {\r\n    if(e.target.className !== 'signIn' && e.keyCode !== 13) return;\r\n    e.preventDefault();\r\n    const { email,password } = this.state;\r\n    if(email === '' || password === '') {\r\n      this.props.signUpErrorHandle('請填寫，不能為空值');\r\n      email === '' ? this.setState({ emailInputError: true }) : this.setState({ emailInputError: false });\r\n      password === '' ? this.setState({ passwordInputError: true }) : this.setState({ passwordInputError: false });\r\n      return;\r\n    }\r\n    fireAuth.signInWithEmailAndPassword(email, password).then((user) => {\r\n      console.log(user,'登入');\r\n    }).catch((error) => {\r\n      const {  message:errorMessage } = error;\r\n      this.props.signUpErrorHandle(errorMessage);\r\n      errorMessage === 'The email address is badly formatted.' && this.setState({ emailInputError: true });\r\n      errorMessage === 'The password is invalid or the user does not have a password.' && this.setState({ passwordInputError: true });\r\n      errorMessage === 'There is no user record corresponding to this identifier. The user may have been deleted.' && this.setState({ emailInputError: true, passwordInputError: true });\r\n    })\r\n  }\r\n  googleSignInHandle = () => {\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n    fireAuth.signInWithPopup(provider).then((result) => {\r\n      const { displayName:nickName,email,uid } = result.user;\r\n      const userRef = firebase.database().ref(`/user/${uid}`);\r\n      const userData = {\r\n        email,\r\n        nickName,\r\n        uid,\r\n        favorite: [0]\r\n      }\r\n      userRef.once('value', (snapshot) => {\r\n        const user = snapshot.val();\r\n        !user && userRef.set(userData);\r\n      });\r\n    }).catch((error) => {\r\n      const { code:errorCode, message:errorMessage } = error;\r\n      console.log('errorCode',errorCode,'errorMessage',errorMessage);\r\n    });  \r\n  }\r\n  render() {\r\n    const {email,password,emailInputError,passwordInputError} = this.state;\r\n    return (\r\n      <Consumer>\r\n      {({language}) => {\r\n        let languageStatus;\r\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\r\n        return (\r\n          <div className=\"signIn-content d-flex h-flex-column\">\r\n            <div className=\"signIn-email-wrap d-flex h-flex-column h-align-items-center h-justify-content-center\">\r\n              <h2 className=\"signIn-title\">{languageStatus.model.signInSubTitle}</h2>\r\n              <form action=\"\" className=\"form d-flex h-flex-column h-align-items-center\">\r\n                <div className=\"signIn-input-wrap\">\r\n                  <input type=\"text\" className={ emailInputError ? 'signIn-input error' : 'signIn-input' } value={email} onChange={this.emailInputHandle}/>\r\n                  {!email && (\r\n                    <span className=\"placeholder d-flex h-align-items-center\">\r\n                      <FontAwesome name=\"envelope\" className=\"envelope\"/>\r\n                      {languageStatus.model.emailInput}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <div className=\"signIn-input-wrap\">\r\n                  <input type=\"password\" className={ passwordInputError ? 'signIn-input error' : 'signIn-input' } value={password} onChange={this.passwordInputHandle}/>\r\n                  {!password && (\r\n                    <span className=\"placeholder d-flex h-align-items-center\">\r\n                      <FontAwesome name=\"lock\" className=\"lock\" />\r\n                      {languageStatus.model.passwordInput}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <button className=\"signIn\" onClick={this.signInHandle}>{languageStatus.model.signInTitle}</button>\r\n              </form>\r\n            </div>\r\n            <div className=\"signIn-google-wrap d-flex h-flex-column h-align-items-center h-justify-content-center\">\r\n              <h2 className=\"signIn-title\">{languageStatus.model.googleSignIn}</h2>\r\n              <button className=\"siginIn-google\" onClick={this.googleSignInHandle}>\r\n                <FontAwesome name=\"google\" className=\"google\"/>\r\n                {languageStatus.model.googleSignInBtn}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )\r\n      }}\r\n      </Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SigninContent\r\n","import React, { Component } from 'react';\r\nimport FontAwesome from 'react-fontawesome';\r\nimport firebase, { fireAuth } from '../config/firebase.js';\r\nimport { Consumer } from '../context/DataContext';\r\nimport LanguageZhTW from '../language/zh-TW';\r\nimport LanguageEn from '../language/en';\r\n\r\n\r\nclass SignupContent extends Component {\r\n  state = {\r\n    nickName: '',\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    passwordInputError: false,\r\n    confirmPasswordInputError: false,\r\n    nickNameInputError: false,\r\n    emailInputError: false,\r\n  }\r\n  nickNameInputHandle = (e) => {\r\n    this.setState({\r\n      nickName: e.target.value\r\n    })\r\n  }\r\n  emailInputHandle = (e) => {\r\n    this.setState({\r\n      email: e.target.value\r\n    })\r\n  }\r\n  passwordInputHandle = (e) => {\r\n    this.setState({\r\n      password: e.target.value\r\n    })\r\n  }\r\n  confirmPasswordInputHandle = (e) => {\r\n    this.setState({\r\n      confirmPassword: e.target.value\r\n    })\r\n  }\r\n  signUpHandle = (e,setState) => {\r\n    e.preventDefault();\r\n    if(e.keyCode !== 13 && e.target.className !== 'signUp') return;\r\n    const { email, password, confirmPassword, nickName } = this.state;\r\n    if(password !== confirmPassword) {\r\n      this.props.signUpErrorHandle('密碼和確認密碼不一致');\r\n      this.setState({\r\n        passwordInputError: true,\r\n        confirmPasswordInputError: true,\r\n      })\r\n      return;\r\n    } else {\r\n      this.setState({\r\n        passwordInputError: false,\r\n        confirmPasswordInputError: false,\r\n      })\r\n    }\r\n    if(nickName === '' || email === '' || password === ''|| confirmPassword === '') {\r\n      this.props.signUpErrorHandle('請填寫，不能為空值');\r\n      nickName === '' ? this.setState({ nickNameInputError: true}) : this.setState({ nickNameInputError: false});\r\n      email === '' ? this.setState({ emailInputError: true }) : this.setState({ emailInputError: false });\r\n      password === '' ? this.setState({ passwordInputError: true }) : this.setState({ passwordInputError: false });\r\n      confirmPassword === '' ? this.setState({ confirmPasswordInputError: true }) : this.setState({ confirmPasswordInputError: false });\r\n      return;\r\n    }\r\n    this.signUpFirebase(email, password, nickName, setState);\r\n  }\r\n  signUpFirebase = (email, password, nickName, setState) => {\r\n    fireAuth.createUserWithEmailAndPassword(email,password).then((user) => {\r\n      const uid = user.user.uid;\r\n      const userData = {\r\n        email,\r\n        nickName,\r\n        uid,\r\n        favorite: [0]\r\n      }\r\n      setState({ showRemindModel: 3 })\r\n      firebase.database().ref(`/user/${uid}`).set(userData);\r\n    }).catch((error) => {\r\n      const errorCode = error.code;\r\n      const errorMessage = error.message;\r\n      if (errorMessage === 'The email address is badly formatted.' \r\n        || errorMessage === 'The email address is already in use by another account.') {\r\n          this.setState({ emailInputError: true })\r\n      }\r\n      if (errorMessage === 'Password should be at least 6 characters') {\r\n        this.setState({ \r\n          passwordInputError: true,\r\n          confirmPasswordInputError: true, \r\n        })\r\n      } else {\r\n        this.setState({ \r\n          passwordInputError: false, \r\n          confirmPasswordInputError: false, \r\n        });\r\n      }\r\n      this.props.signUpErrorHandle(errorMessage);\r\n      console.log('errorCode',errorCode,'errorMessage',errorMessage);\r\n    })\r\n  }\r\n  render() {\r\n    const { nickName,email,password,\r\n      confirmPassword,passwordInputError,\r\n      confirmPasswordInputError,nickNameInputError,emailInputError } = this.state;\r\n    return (\r\n      <Consumer>\r\n        {({ setState, language }) => {\r\n          let languageStatus;\r\n          language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\r\n          return (\r\n            <div className=\"signup-content d-flex h-align-items-center\">\r\n              <div className=\"signup-wrap d-flex h-flex-column h-align-items-center\">\r\n                <h2 className=\"signup-title\">{languageStatus.model.signUpSubTitle}</h2>\r\n                <form action=\"\" onSubmit={(e) => this.signUpHandle(e,setState)} className=\"form d-flex h-flex-column h-align-items-center\">\r\n                  <div className=\"signup-input-wrap\">\r\n                    <input type=\"text\" className={ nickNameInputError ? 'signIn-input error' : 'signIn-input' } value={nickName} \r\n                      onChange={this.nickNameInputHandle} />\r\n                    {!nickName && (\r\n                      <span className=\"placeholder d-flex h-align-items-center\">\r\n                        <FontAwesome name=\"user\" className=\"user\"/>\r\n                        {languageStatus.model.nickNameInput}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"signup-input-wrap\">\r\n                    <input type=\"text\" className={ emailInputError ? 'signIn-input error' : 'signIn-input' } value={email} \r\n                      onChange={this.emailInputHandle}/>\r\n                    {!email && (\r\n                      <span className=\"placeholder d-flex h-align-items-center\">\r\n                        <FontAwesome name=\"envelope\" className=\"envelope\"/>\r\n                        {languageStatus.model.emailInput}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"signIn-input-wrap\">\r\n                    <input type=\"password\" className={passwordInputError ? 'signIn-input error' : 'signIn-input'} \r\n                      value={password} onChange={this.passwordInputHandle} />\r\n                    {!password && (\r\n                      <span className=\"placeholder d-flex h-align-items-center\">\r\n                        <FontAwesome name=\"lock\" className=\"lock\" />\r\n                        {languageStatus.model.passwordInput}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"signIn-input-wrap\">\r\n                    <input type=\"password\" className={confirmPasswordInputError ? 'signIn-input error' : 'signIn-input'} \r\n                      value={confirmPassword} onChange={this.confirmPasswordInputHandle}/>\r\n                    {!confirmPassword && (\r\n                      <span className=\"placeholder d-flex h-align-items-center\">\r\n                        <FontAwesome name=\"lock\" className=\"lock\" />\r\n                        {languageStatus.model.checkPasswordInput}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  <button className=\"signUp\" onClick={(e) => this.signUpHandle(e,setState)}>{languageStatus.model.signUpTitle}</button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          )\r\n        }}\r\n      </Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SignupContent;\r\n","import React, { Component } from 'react';\r\nimport { Consumer } from '../context/DataContext';\r\nimport SigninContent from './SigninContent';\r\nimport SignupContent from './SignupContent';\r\nimport LanguageZhTW from '../language/zh-TW';\r\nimport LanguageEn from '../language/en';\r\nimport './SigninModel.scss';\r\n\r\nclass SigninModel extends Component {\r\n  state = {\r\n    signinBtnActive: true,\r\n    signInErrorMessage: null,\r\n    signUpErrorMessage: null,\r\n    language: 'zh-TW',\r\n  }\r\n  signUpErrorHandle = (message) => {\r\n    let errorMessage;\r\n    const { language } = this.props;\r\n    if (language === 'zh-TW') {\r\n      switch(message) {\r\n        case '請填寫，不能為空值':\r\n          errorMessage = '請填寫，不能為空值'\r\n          break;\r\n        case '密碼和確認密碼不一致':\r\n          errorMessage = '密碼和確認密碼不一致'\r\n          break;\r\n        case 'The email address is already in use by another account.':\r\n          errorMessage = '此信箱已經註冊過'\r\n          break;\r\n        case 'The email address is badly formatted.':\r\n          errorMessage = '信箱格式錯誤'\r\n          break;\r\n        case 'There is no user record corresponding to this identifier. The user may have been deleted.':\r\n          errorMessage = '沒有此信箱的會員資料，請註冊'\r\n          break;\r\n        case 'The password is invalid or the user does not have a password.':\r\n          errorMessage = '密碼錯誤，或是帳戶無效'\r\n          break;\r\n        default:\r\n          errorMessage = '密碼必須為六位數'\r\n          break;\r\n      }\r\n    } else {\r\n      switch(message) {\r\n        case '請填寫，不能為空值':\r\n          errorMessage = 'Please fill in the content'\r\n          break;\r\n        case '密碼和確認密碼不一致':\r\n          errorMessage = 'Inconsistent password and confirmation password'\r\n          break;\r\n        case 'The email address is already in use by another account.':\r\n          errorMessage = 'The email address is already in use'\r\n          break;\r\n        case 'The email address is badly formatted.':\r\n          errorMessage = 'The email address is badly formatted'\r\n          break;\r\n        case 'There is no user record corresponding to this identifier. The user may have been deleted.':\r\n          errorMessage = 'The user may have been deleted'\r\n          break;\r\n        case 'The password is invalid or the user does not have a password.':\r\n          errorMessage = 'The password is invalid'\r\n          break;\r\n        default:\r\n          errorMessage = 'Password must be six digits'\r\n          break;\r\n      }\r\n    }\r\n    this.setState({\r\n      signUpErrorMessage: errorMessage\r\n    })\r\n  }\r\n  render() {\r\n    const { signinBtnActive,signUpErrorMessage } = this.state;\r\n    return (\r\n      <Consumer>\r\n      {({ setState, language }) => {\r\n        let languageStatus;\r\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\r\n        return (\r\n          <div className=\"signIn-wrap\">\r\n            <div className=\"signIn-box\">\r\n              <div className=\"button-wrap\">\r\n                <button className={ signinBtnActive ? 'signIn-select select-btn active' : 'signIn-select select-btn' }\r\n                  onClick={ () => {\r\n                    this.setState({ signinBtnActive: true, signUpErrorMessage: null })\r\n                  }}>{languageStatus.model.signInTitle}</button>\r\n                <button className={ signinBtnActive ? 'signUp-select select-btn' : 'signUp-select select-btn active' }\r\n                  onClick={ () => {\r\n                    this.setState({ signinBtnActive: false, signUpErrorMessage: null })\r\n                  }}>{languageStatus.model.signUpTitle}</button>\r\n              </div>\r\n              {signinBtnActive ? <SigninContent signUpErrorHandle={this.signUpErrorHandle} /> : <SignupContent signUpErrorHandle={this.signUpErrorHandle} /> }\r\n              {signUpErrorMessage ? (\r\n                <div className=\"error-message d-flex h-align-items-center h-justify-content-center\">{signUpErrorMessage}</div>\r\n                ) : null}\r\n            </div>\r\n            <div className=\"cover-bg\" onClick={ e => {\r\n              e.preventDefault();\r\n              setState({ showSignInModel: false })\r\n            }}></div>\r\n        </div>\r\n        )\r\n      }}\r\n      </Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SigninModel;\r\n","import React, { Component } from 'react';\r\nimport AttractionCard from '../homePage/components/AttractionCard';\r\nimport FontAwesome from \"react-fontawesome\";\r\nimport { Consumer } from \"../../context/DataContext\";\r\nimport LanguageZhTW from '../../language/zh-TW';\r\nimport LanguageEn from '../../language/en';\r\nimport './index.scss';\r\n\r\nclass CollectionPage extends Component {\r\n  checkSigninStateus = (uid) => {\r\n    !uid && (window.location.href='/');\r\n  }\r\n  favoriteDataHandle = (userData,results) => {\r\n    let favoriteFilterData;\r\n    userData && (favoriteFilterData =  userData.favorite.filter(item => item !== 0));\r\n    let filterResultes = [];\r\n    results && results.forEach(resultesItem => {\r\n      favoriteFilterData && favoriteFilterData.forEach(item => {\r\n        resultesItem._id === +item && filterResultes.push(resultesItem);\r\n      })\r\n    })\r\n    return filterResultes;\r\n  }\r\n  filterTagData = (userFavoriteData,tag) => {\r\n    const favoriteTag = userFavoriteData.filter(item => item.CAT2 === tag);\r\n    return favoriteTag.length\r\n  }\r\n  render() {\r\n    return (\r\n      <Consumer>\r\n      {({ userData,uid,results,language }) => {\r\n        const userFavoriteData = this.favoriteDataHandle(userData,results);\r\n        let languageStatus;\r\n        let addCategoryClass;\r\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\r\n        language === 'zh-TW' ? addCategoryClass = '' : addCategoryClass = ' en';\r\n        return(\r\n          <section>\r\n            <div className=\"container\">\r\n              <div className=\"collection-wrap\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"collection-title\">\r\n                      <FontAwesome name=\"heart\" className=\"collection-heart-icon\" />\r\n                      {languageStatus.favoritePage.title}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                  <div className=\"collection-member-wrap\">\r\n                    <div className=\"member-info d-flex h-align-items-center\">\r\n                      <FontAwesome name=\"user\" className=\"collection-user\" />\r\n                      <span className=\"member-name\">{userData && userData.nickName}</span>\r\n                    </div>\r\n                    <div className=\"member-collectionNum\">\r\n                      <div className=\"collectionNum-title\">{languageStatus.favoritePage.subTitle}</div>\r\n                      <ul className={`collection-category-wrap d-flex${addCategoryClass}`}>\r\n                        <li className={`category-item all${addCategoryClass}`}>{userFavoriteData.length}</li>\r\n                        <li className={`category-item item-0${addCategoryClass}`}>{this.filterTagData(userFavoriteData, languageStatus.favoritePage.tagTheme[0])}</li>\r\n                        <li className={`category-item item-1${addCategoryClass}`}>{this.filterTagData(userFavoriteData, languageStatus.favoritePage.tagTheme[1])}</li>\r\n                        <li className={`category-item item-2${addCategoryClass}`}>{this.filterTagData(userFavoriteData, languageStatus.favoritePage.tagTheme[2])}</li>\r\n                        <li className={`category-item item-3${addCategoryClass}`}>{this.filterTagData(userFavoriteData, languageStatus.favoritePage.tagTheme[3])}</li>\r\n                        <li className={`category-item item-4${addCategoryClass}`}>{this.filterTagData(userFavoriteData, languageStatus.favoritePage.tagTheme[4])}</li>\r\n                        <li className={`category-item item-5${addCategoryClass}`}>{this.filterTagData(userFavoriteData, languageStatus.favoritePage.tagTheme[5])}</li>\r\n                        <li className={`category-item item-6${addCategoryClass}`}>{this.filterTagData(userFavoriteData, languageStatus.favoritePage.tagTheme[6])}</li>\r\n                        <li className={`category-item item-7${addCategoryClass}`}>{this.filterTagData(userFavoriteData, languageStatus.favoritePage.tagTheme[7])}</li>\r\n                        <li className={`category-item item-8${addCategoryClass}`}>{this.filterTagData(userFavoriteData, languageStatus.favoritePage.tagTheme[8])}</li>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"collection-cards\">\r\n                  <div className=\"row\">\r\n                    { userFavoriteData.map(item => <AttractionCard data={item} key={item._id} /> )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        )\r\n      }}\r\n      </Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CollectionPage;\r\n","import { Component } from 'react';\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass ScrollToTop extends Component {\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.location.pathname !== prevProps.location.pathname) {\r\n      window.scrollTo(0, 0);\r\n    }\r\n  }\r\n  render() {\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default withRouter(ScrollToTop)","import React, { Component } from 'react';\r\nimport './RemindMessage.scss';\r\nimport { Consumer } from '../context/DataContext';\r\nimport FontAwesome from 'react-fontawesome';\r\nimport LanguageZhTW from '../language/zh-TW';\r\nimport LanguageEn from '../language/en';\r\n\r\nclass RemindMessage extends Component {\r\n  changeTitleHandle = (modelStatus,language) => {\r\n    let text;\r\n    if (language === 'zh-TW') {\r\n      switch (modelStatus) {\r\n        case 1:\r\n          text = '登入成功，歡迎您'\r\n          break;\r\n        case 2:\r\n          text = '已成功登出'\r\n          break;\r\n        case 3:\r\n          text = '註冊成功，歡迎加入'\r\n          break;\r\n        case 4:\r\n          text = '已成功送出評價'\r\n          break;\r\n        case 5:\r\n          text = '已成功加入最愛'\r\n          break;\r\n        case 6:\r\n          text = '已成功移除最愛'\r\n          break;\r\n        default:\r\n          text = '已成功刪除留言'\r\n          break;\r\n        }\r\n    } else {\r\n      switch (modelStatus) {\r\n        case 1:\r\n          text = 'Login is successful, welcome'\r\n          break;\r\n        case 2:\r\n          text = 'Successfully logged out'\r\n          break;\r\n        case 3:\r\n          text = 'Registration is successful, welcome to join'\r\n          break;\r\n        case 4:\r\n          text = 'Successfully sent a rating'\r\n          break;\r\n        case 5:\r\n          text = 'successfully joined the favorite'\r\n          break;\r\n        case 6:\r\n          text = 'Successfully removed favorite'\r\n          break;\r\n        default:\r\n          text = 'Message deleted successfully'\r\n          break;\r\n        }\r\n    }\r\n    return text;\r\n  }\r\n  modelStatusHandle = (showErrorReminModel,setState) => {\r\n    showErrorReminModel \r\n    ? setState({ showErrorReminModel:false, showSignInModel: 1 }) \r\n    :setState({ showRemindModel:false })\r\n  }\r\n  render() {\r\n    return (\r\n      <Consumer>\r\n      {({ setState,showRemindModel,userName,showErrorReminModel,language}) => {\r\n        let languageStatus;\r\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\r\n        return (\r\n          <div className=\"remind-wrap\" onClick={() => setState({ showErrorReminModel: false })}>\r\n            <div className=\"remind-box d-flex h-align-items-center h-flex-column h-justify-content-center\">\r\n              <div className=\"content-wrap d-flex h-flex-column\">\r\n                {showErrorReminModel ? <FontAwesome name=\"exclamation-circle\" className=\"exclamation-circle\"/> : <div className=\"checkmark\"></div>}\r\n                <h1 className=\"remind-title\">{showErrorReminModel ? languageStatus.remindModel.signInRemind : this.changeTitleHandle(showRemindModel,language)}</h1> \r\n                <button className=\"remind-btn\" onClick={ () => this.modelStatusHandle(showErrorReminModel,setState) }>{languageStatus.remindModel.btn}</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      }}\r\n      </Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default RemindMessage;\r\n","import React, { Component } from \"react\";\r\nimport HomePage from \"./pages/homePage\";\r\nimport AttractionPage from \"./pages/attractionPage\";\r\nimport AttractionPageLoad from './pages/attractionPage/components/AttractionPageLoad';\r\nimport Header from \"./components/Header\";\r\nimport Footer from \"./components/Footer\";\r\nimport SigninModel from './components/SigninModel';\r\nimport CollectionPage from './pages/collectionPage';\r\nimport { Provider } from \"./context/DataContext\";\r\nimport { HashRouter, Route, Switch  } from 'react-router-dom';\r\nimport firebase, { fireAuth } from './config/firebase.js';\r\nimport TaipeiMRT from \"./taipei-MRT\";\r\nimport TaipeiMRT_EN from './taipei-MRT_EN';\r\nimport touristOpenTime from \"./tourist.json\";\r\nimport touristOpenTime_en from './tourist_en.json';\r\nimport ScrollToTop from \"./components/ScrollToTop\";\r\nimport RemindModel from './components/RemindMessage';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    results: null,\r\n    resultsSortmode: 'star',\r\n    currentResult: null,\r\n    count: null,\r\n    pageNum: [],\r\n    currentPage: 1,\r\n    groupCount: 5,\r\n    startPage: 1,\r\n    pageAllGroup: null,\r\n    TaipeiMRT,\r\n    searchInput: \"\",\r\n    searchMRT: null,\r\n    searchDay: null,\r\n    currentDay: null,\r\n    tagTheme: [\r\n      { name: \"養生溫泉\", active: false, id: 0 },\r\n      { name: \"單車遊蹤\", active: false, id: 1 },\r\n      { name: \"歷史建築\", active: false, id: 2 },\r\n      { name: \"宗教信仰\", active: false, id: 3 },\r\n      { name: \"藝文館所\", active: false, id: 4 },\r\n      { name: \"公共藝術\", active: false, id: 5 },\r\n      { name: \"藍色公路\", active: false, id: 6 },\r\n      { name: \"親子共遊\", active: false, id: 7 },\r\n      { name: \"戶外踏青\", active: false, id: 8 },\r\n    ],\r\n    areaTheme: [\r\n      { name: \"北投區\", active: false, id: 0 },\r\n      { name: \"士林區\", active: false, id: 1 },\r\n      { name: \"內湖區\", active: false, id: 2 },\r\n      { name: \"松山區\", active: false, id: 3 },\r\n      { name: \"中山區\", active: false, id: 4 },\r\n      { name: \"大同區\", active: false, id: 5 },\r\n      { name: \"南港區\", active: false, id: 6 },\r\n      { name: \"信義區\", active: false, id: 7 },\r\n      { name: \"大安區\", active: false, id: 8 },\r\n      { name: \"中正區\", active: false, id: 9 },\r\n      { name: \"萬華區\", active: false, id: 10 },\r\n      { name: \"文山區\", active: false, id: 11 }\r\n    ],\r\n    currentTagThemes: [],\r\n    currentAreaThemes: [],\r\n    searchData: null,\r\n    showSearchAdvancedMobile: false,\r\n    showSignInModel: false,\r\n    showRemindModel: false,\r\n    showErrorReminModel: false,\r\n    uid: null,\r\n    userData: null,\r\n    language: 'zh-TW',\r\n    hasError: false,\r\n  };\r\n  componentDidMount() {\r\n    this.checkSigninStatus();\r\n    this.getCookieByName('language');\r\n  }\r\n  getCookieByName = (name) => {\r\n    let cookie;\r\n    const reg = new RegExp(`(^| )${name}=([^;]*)(;|$)`);\r\n    if((cookie=document.cookie.match(reg))){\r\n      this.setState({ language:cookie[2]},() => {\r\n        this.getTaipeiDate(this.state.language);\r\n        this.changeLanguageMRT(this.state.language);\r\n        this.changeLanguageAdvance(this.state.language);\r\n      });\r\n    } else {\r\n      this.getTaipeiDate(this.state.language);\r\n    }\r\n  }\r\n  changeLanguageMRT = (language) => {\r\n    language === 'zh-TW' ? this.setState({ TaipeiMRT }) : this.setState({ TaipeiMRT:TaipeiMRT_EN  });\r\n  }\r\n  changeLanguageAdvance = (language) => {\r\n    if (language === 'zh-TW') {\r\n      this.setState({\r\n        tagTheme: [\r\n          { name: \"養生溫泉\", active: false, id: 0 },\r\n          { name: \"單車遊蹤\", active: false, id: 1 },\r\n          { name: \"歷史建築\", active: false, id: 2 },\r\n          { name: \"宗教信仰\", active: false, id: 3 },\r\n          { name: \"藝文館所\", active: false, id: 4 },\r\n          { name: \"公共藝術\", active: false, id: 5 },\r\n          { name: \"藍色公路\", active: false, id: 6 },\r\n          { name: \"親子共遊\", active: false, id: 7 },\r\n          { name: \"戶外踏青\", active: false, id: 8 },\r\n        ],\r\n        areaTheme: [\r\n          { name: \"北投區\", active: false, id: 0 },\r\n          { name: \"士林區\", active: false, id: 1 },\r\n          { name: \"內湖區\", active: false, id: 2 },\r\n          { name: \"松山區\", active: false, id: 3 },\r\n          { name: \"中山區\", active: false, id: 4 },\r\n          { name: \"大同區\", active: false, id: 5 },\r\n          { name: \"南港區\", active: false, id: 6 },\r\n          { name: \"信義區\", active: false, id: 7 },\r\n          { name: \"大安區\", active: false, id: 8 },\r\n          { name: \"中正區\", active: false, id: 9 },\r\n          { name: \"萬華區\", active: false, id: 10 },\r\n          { name: \"文山區\", active: false, id: 11 }\r\n        ]\r\n      })\r\n    } else {\r\n      this.setState({\r\n        tagTheme: [\r\n          { name: \"SPA\", active: false, id: 0 },\r\n          { name: \"Cycling\", active: false, id: 1 },\r\n          { name: \"Historic Buildings\", active: false, id: 2 },\r\n          { name: \"Faith\", active: false, id: 3 },\r\n          { name: \"Art Gallery\", active: false, id: 4 },\r\n          { name: \"Public Art\", active: false, id: 5 },\r\n          { name: \"Bule Highway\", active: false, id: 6 },\r\n          { name: \"Family Activities\", active: false, id: 7 },\r\n          { name: \"Outdoor Walking\", active: false, id: 8 },\r\n        ],\r\n        areaTheme: [\r\n          { name: \"Beitou Dist.\", active: false, id: 0 },\r\n          { name: \"Shilin Dist.\", active: false, id: 1 },\r\n          { name: \"Neihu Dist.\", active: false, id: 2 },\r\n          { name: \"Songshan Dist.\", active: false, id: 3 },\r\n          { name: \"Zhongshan Dist.\", active: false, id: 4 },\r\n          { name: \"Datong Dist.\", active: false, id: 5 },\r\n          { name: \"Nangang Dist.\", active: false, id: 6 },\r\n          { name: \"Xinyi Dist.\", active: false, id: 7 },\r\n          { name: \"Da'an Dist\", active: false, id: 8 },\r\n          { name: \"Zhongzheng Dist.\", active: false, id: 9 },\r\n          { name: \"Wanhua Dist.\", active: false, id: 10 },\r\n          { name: \"Wenshan Dist.\", active: false, id: 11 }\r\n        ]\r\n      })\r\n    }\r\n  }\r\n  changeInputHandle = e => {\r\n    this.setState({\r\n      searchInput: e.target.value\r\n    });\r\n  };\r\n  selectMrtOptionHandle = e => {\r\n    e.target.textContent && this.setState({\r\n      searchMRT: e.target.textContent\r\n    });\r\n    !e.target.textContent && this.setState({\r\n      searchMRT: null\r\n    })\r\n  };\r\n  selectDayOptionHandle = e => {\r\n    e.target.textContent && this.setState({\r\n      searchDay: e.target.textContent\r\n    })\r\n    !e.target.textContent && this.setState({\r\n      searchDay: null\r\n    })\r\n  }\r\n  changePageNum = (currentPage) => {\r\n    this.setState({\r\n      currentPage\r\n    });\r\n    document.querySelector('.attraction-texts').scrollIntoView({\r\n      block: 'start',\r\n      behavior: 'auto'\r\n    });\r\n  };\r\n  selectTagThemes = e => {\r\n    let filterTagThems;\r\n    let currentIndex = e.target.dataset.index;\r\n    let newTagTheme = this.state.tagTheme.map((item, index) => {\r\n      parseInt(currentIndex) === index && (item.active = !item.active);\r\n      return item;\r\n    });\r\n    this.setState({\r\n      tagTheme: newTagTheme\r\n    });\r\n\r\n    this.state.currentTagThemes.indexOf(e.target.textContent) < 0 &&\r\n      this.setState({\r\n        currentTagThemes: [...this.state.currentTagThemes, e.target.textContent]\r\n      });\r\n    this.state.currentTagThemes.indexOf(e.target.textContent) > -1 &&\r\n      (filterTagThems = this.state.currentTagThemes.filter(\r\n        item => item !== e.target.textContent\r\n      )) &&\r\n      this.setState({\r\n        currentTagThemes: filterTagThems\r\n      });\r\n  };\r\n  selectAreaThemes = e => {\r\n    let filterAreaThemes;\r\n    let currentIndex = e.target.dataset.index;\r\n    let newAreaThemes = this.state.areaTheme.map((item, index) => {\r\n      parseInt(currentIndex) === index && (item.active = !item.active);\r\n      return item;\r\n    });\r\n    this.setState({\r\n      areaTheme: newAreaThemes\r\n    });\r\n\r\n    this.state.currentAreaThemes.indexOf(e.target.textContent) < 0 &&\r\n      this.setState({\r\n        currentAreaThemes: [\r\n          ...this.state.currentAreaThemes,\r\n          e.target.textContent\r\n        ]\r\n      });\r\n    this.state.currentAreaThemes.indexOf(e.target.textContent) > -1 &&\r\n      (filterAreaThemes = this.state.currentAreaThemes.filter(\r\n        item => item !== e.target.textContent\r\n      )) &&\r\n      this.setState({\r\n        currentAreaThemes: filterAreaThemes\r\n      });\r\n  };\r\n  removeSelectItem = (theme) => {\r\n    const newTagThemes = this.state.tagTheme.map(item => {\r\n      item.active = false\r\n      return item\r\n    });\r\n    const newAreaThemes = this.state.areaTheme.map(item => {\r\n      item.active = false\r\n      return item\r\n    })\r\n    switch (theme) {\r\n      case 'tag':\r\n        this.setState({ \r\n          currentTagThemes: [],\r\n          tagTheme: newTagThemes,\r\n        })\r\n        break;\r\n      default:\r\n        this.setState({ \r\n          currentAreaThemes: [],\r\n          areaTheme: newAreaThemes,\r\n        })\r\n        break;\r\n    }\r\n  }\r\n  searchAdvancedMobileHandle = (e) => {\r\n    let className = e.target.className;\r\n    let showSearchAdvancedMobile;\r\n    switch(className) {\r\n      case 'searchAdvanced-searchBtn':\r\n        showSearchAdvancedMobile = false\r\n        break;\r\n      case 'mobile-searchAdvanced-bg':\r\n        showSearchAdvancedMobile = false\r\n        break;\r\n      case 'searchAdvanced-btn':\r\n        showSearchAdvancedMobile = true\r\n        break;\r\n      default:\r\n        showSearchAdvancedMobile = false\r\n        break;\r\n    }\r\n    this.setState({\r\n      showSearchAdvancedMobile: showSearchAdvancedMobile,\r\n    })\r\n  }\r\n  searchHandle = (e) => {\r\n    e.preventDefault();\r\n    if (!this.state.searchInput.trim()) {\r\n      this.setState({\r\n        searchData: null,\r\n        currentPage: 1\r\n      });\r\n    }\r\n    this.searchAdvancedMobileHandle(e);\r\n    this.setState({\r\n      currentDay: this.state.searchDay\r\n    })\r\n    document.querySelector('.attraction-texts').scrollIntoView({\r\n      block: 'start',\r\n      behavior: 'smooth'\r\n    });\r\n    let filterTextData = this.searchTextHandle();\r\n    let filterMrtData = this.searchMrtHandle();\r\n    let filterTagData = this.searchTagHandle();\r\n    let filterAreaData = this.searchAreaHandle();\r\n\r\n    this.state.searchInput && this.filterDataHandle(filterTextData);\r\n    this.state.searchMRT && this.filterDataHandle(filterMrtData);\r\n    this.state.searchInput && this.state.searchMRT &&\r\n      this.filterDataHandle(this.searchTextHandle(filterMrtData));\r\n    this.state.currentTagThemes.length && this.filterDataHandle(filterTagData);\r\n    this.state.currentTagThemes.length && this.state.searchMRT &&\r\n      this.filterDataHandle(this.searchMrtHandle(filterTagData));\r\n    this.state.currentTagThemes.length &&\r\n      this.state.searchMRT &&\r\n      this.state.searchInput && \r\n      this.filterDataHandle(this.searchTextHandle(this.searchMrtHandle(filterTagData)));\r\n    this.state.currentAreaThemes.length && this.filterDataHandle(filterAreaData);\r\n    this.state.currentAreaThemes.length && this.state.searchMRT &&\r\n      this.filterDataHandle(this.searchMrtHandle(filterAreaData))\r\n    this.state.currentAreaThemes.length && \r\n      this.state.searchInput &&\r\n      this.state.searchMRT  &&\r\n      this.filterDataHandle(this.searchTextHandle(this.searchMrtHandle(filterAreaData)))\r\n    !this.state.currentAreaThemes.length && \r\n      !this.state.currentTagThemes.length &&\r\n      !this.state.searchMRT &&\r\n      !this.state.searchInput &&\r\n      this.filterDataHandle()\r\n  };\r\n  searchTextHandle = (data = this.state.results) => {\r\n    let searchStitle;\r\n    this.state.language === 'zh-TW' ? searchStitle = 'stitle' : searchStitle = 'stitle_en';\r\n    let filterTextData = data.filter(item =>{\r\n        return item[searchStitle].toUpperCase().includes((this.state.searchInput).toUpperCase())\r\n      }\r\n    );\r\n    return filterTextData;\r\n  };\r\n  searchMrtHandle = (data = this.state.results) => {\r\n    let filterMRTData = data.filter(item => item.MRT === this.state.searchMRT);\r\n    return filterMRTData;\r\n  };\r\n  searchTagHandle = (data = this.state.results) => {\r\n    let filterTagData = [];\r\n    data.forEach(item => {\r\n      this.state.currentTagThemes.forEach(tagItem =>\r\n        tagItem === item.CAT2 ? filterTagData.push(item) : null\r\n      );\r\n    });\r\n    return filterTagData;\r\n  };\r\n  searchAreaHandle = (data = this.state.results) => {\r\n    let filterAreaData = [];\r\n    data.forEach(item => {\r\n      this.state.currentAreaThemes.forEach(areaItem => (\r\n        areaItem === item.area ? filterAreaData.push(item) : null\r\n      ));\r\n    });\r\n    return filterAreaData;\r\n  }\r\n  filterDataHandle = (filterData = this.state.results) => {\r\n    let pageNumArray = [];\r\n    let pageNum = Math.ceil(+filterData.length / 21);\r\n    for (let i = 1; i <= pageNum; i++) {\r\n      pageNumArray.push(i);\r\n    }\r\n    filterData && this.setState({\r\n      searchData: filterData,\r\n      currentPage: 1,\r\n      startPage: 1,\r\n      pageNum: pageNumArray\r\n    });\r\n  };\r\n  filterCurrentAttraction =(id) => {\r\n    if(!id) return;\r\n    let currentAttraction;\r\n    this.state.results && (currentAttraction = this.state.results.filter(item => {\r\n      return item._id === +id\r\n    }))\r\n    return currentAttraction;\r\n  }\r\n  resetSearchInput = () => {\r\n    this.setState({\r\n      searchInput: '',\r\n      searchMRT: null,\r\n      searchDay: null,\r\n      searchData: null,\r\n      currentTagThemes: [],\r\n      currentAreaThemes: [],\r\n    })\r\n    this.filterDataHandle();\r\n  }\r\n  checkSigninStatus = () => {\r\n    fireAuth.onAuthStateChanged((user) => {\r\n      if ( this.state.uid !== user && user !== null ) {\r\n        let reminStatus;\r\n        this.state.showRemindModel === 3 ? reminStatus = 3 : reminStatus = 1\r\n        this.setState({ \r\n          uid: user.uid,\r\n          showRemindModel: reminStatus,\r\n        });\r\n        this.getUserData(user.uid)\r\n      }\r\n      if (this.state.uid !== user && user === null) {\r\n        this.setState({\r\n          uid: user,\r\n          showSignInModel: false,\r\n          userData: null,\r\n        })\r\n      }\r\n    })\r\n  }\r\n  getUserData = (id) => {\r\n    const userIdRef = firebase.database().ref(`user/${id}`);\r\n    userIdRef.on('value', (snapshot) => {\r\n      this.setState({ userData: snapshot.val() })\r\n    })\r\n  }\r\n  getTaipeiDate = (language) => {\r\n    let DataRef;\r\n    let openTimeData;\r\n    if (language === 'zh-TW') {\r\n      DataRef = firebase.database().ref('taipeiData');\r\n      openTimeData = touristOpenTime;\r\n    } else if (language === 'en') {\r\n      DataRef = firebase.database().ref('taipeiData_EN');\r\n      openTimeData = touristOpenTime_en;\r\n    }\r\n    DataRef.on('value', (snapshot) => {\r\n      const taipeiData = snapshot.val();\r\n      let pageNumArray = [];\r\n      taipeiData.forEach(item => {\r\n        openTimeData.Tourist.forEach(touristItem => {\r\n          +item._id === +touristItem.id && (item.opening_hours = touristItem.opening_hours)\r\n        });\r\n      })\r\n      const newTaipeiData = taipeiData.filter(item => item !== null);\r\n      const count = newTaipeiData.length;\r\n      let pageNum = Math.ceil(+count / 21);\r\n      for (let i = 1; i <= pageNum; i++) { pageNumArray.push(i) };\r\n      newTaipeiData.sort((a, b) => b.star_rating > a.star_rating ? 1 : -1);\r\n      this.setState({\r\n        results: newTaipeiData,\r\n        count,\r\n        pageNum: pageNumArray,\r\n      }, () => this.setPageAllGroup(this.state.pageNum));\r\n    }, (error) => {\r\n      console.log(error,'error');\r\n    });\r\n  }\r\n  setPageAllGroup = (pageNum) => {\r\n    let pageAllGroup = [];\r\n    for(let i=0; i<pageNum.length; i+=5) {\r\n      pageAllGroup.push(pageNum.slice(i,i+5))\r\n    }\r\n    this.setState({ pageAllGroup })\r\n  }\r\n  changeTaipeiDataSortHandle = (mode) => {\r\n    const taipeiData = this.state.results;\r\n    switch (mode) {\r\n      case 'star':\r\n        taipeiData.sort((a, b) => b.star_rating > a.star_rating ? 1 : -1);\r\n        this.setState({ resultsSortmode: 'star' });\r\n        break;\r\n      default:\r\n      taipeiData.sort((a, b) => b.message_num > a.message_num ? 1 : -1);\r\n      this.setState({ resultsSortmode: 'message' });\r\n        break;\r\n    }\r\n    this.setState({ results: taipeiData });\r\n  }\r\n  clickHeartIconHandle = (e,uid,userData) => {\r\n    const activeCurrentClassName = e.target.className;\r\n    const activeCurrentId = e.target.dataset.id;\r\n    if (activeCurrentClassName === 'attractionCard-heart' || activeCurrentClassName === 'heart') {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      if (uid) {\r\n        let favoriteArray;\r\n        let filterFavoriteArray;\r\n        userData.favorite && (favoriteArray = [...userData.favorite]);\r\n        if (favoriteArray.includes(activeCurrentId)) {\r\n          filterFavoriteArray = favoriteArray.filter(item => item !== activeCurrentId);\r\n          this.setState({ showRemindModel: 6 });\r\n        } else {\r\n          filterFavoriteArray = [...favoriteArray,activeCurrentId]\r\n          this.setState({ showRemindModel: 5 })        \r\n        }\r\n        firebase.database().ref(`/user/${uid}/favorite`).set(filterFavoriteArray);\r\n      } else {\r\n        this.setState({ showErrorReminModel: true })\r\n      }\r\n    }\r\n  }\r\n  filterFavorite = (userData,id) => {\r\n    let favorite;\r\n    userData && (favorite = userData.favorite);\r\n    return favorite && favorite.some(item => {\r\n      return +item === +id\r\n    })\r\n  }\r\n  render() {\r\n    const contextValue = {\r\n      ...this.state,\r\n      changePageNum: this.changePageNum,\r\n      changeInputHandle: this.changeInputHandle,\r\n      selectTagThemes: this.selectTagThemes,\r\n      selectAreaThemes: this.selectAreaThemes,\r\n      searchHandle: this.searchHandle,\r\n      selectMrtOptionHandle: this.selectMrtOptionHandle,\r\n      selectDayOptionHandle: this.selectDayOptionHandle,\r\n      filterOpenTime: this.filterOpenTime,\r\n      searchAdvancedMobileHandle: this.searchAdvancedMobileHandle,\r\n      removeSelectItem: this.removeSelectItem,\r\n      clickHeartIconHandle: this.clickHeartIconHandle,\r\n      filterFavorite: this.filterFavorite,\r\n      resetSearchInput: this.resetSearchInput,\r\n      changeTaipeiDataSortHandle: this.changeTaipeiDataSortHandle,\r\n      getTaipeiDate: this.getTaipeiDate,\r\n      changeLanguageMRT: this.changeLanguageMRT,\r\n      changeLanguageAdvance: this.changeLanguageAdvance,\r\n      setState: this.setState.bind(this),\r\n    };\r\n    return (\r\n      <HashRouter>\r\n        <ScrollToTop>\r\n          <Provider value={contextValue}>\r\n            <Header />\r\n            {this.state.showRemindModel || this.state.showErrorReminModel ? <RemindModel /> : null}\r\n            {this.state.showSignInModel && !this.state.uid ? <SigninModel language={this.state.language} /> : null }\r\n            <Switch>\r\n              <Route exact path=\"/\" render={() => <HomePage /> }/>\r\n              <Route exact path=\"/attraction/:id\" render={({ match }) => {\r\n                const currentData = this.filterCurrentAttraction((match.params.id));\r\n                return currentData ? <AttractionPage data={currentData} id={match.params.id}/> : <AttractionPageLoad />;\r\n              }}/>\r\n              <Route exact path=\"/myHeart\" render={() => <CollectionPage /> }/>\r\n              <Route exact path='/myHeart/*' component={CollectionPage} />\r\n              <Route path='*' component={HomePage} />\r\n            </Switch>\r\n            <Footer />\r\n          </Provider>\r\n        </ScrollToTop>\r\n      </HashRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./scss/config.scss\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n","module.exports = __webpack_public_path__ + \"static/media/heart-hover-icon.935a5551.svg\";"],"sourceRoot":""}