{"version":3,"sources":["img/member-icon.svg","img/square.svg","img/language-icon.svg","pages/attractionPage/components/GoogleMap.js","context/DataContext.js","language/zh-TW.js","language/en.js","pages/homePage/components/SearchBarWeb.js","pages/homePage/components/SearchAdvancedMobile.js","pages/homePage/components/SearchBarMobile.js","pages/homePage/components/Hero.js","pages/homePage/components/AttractionCardStraight.js","pages/homePage/components/AttractionCardHorizontal.js","pages/homePage/components/AttractionCard.js","pages/homePage/components/PageNumber.js","components/BouncingLoader.js","pages/homePage/components/AttractionsSection.js","pages/homePage/index.js","pages/attractionPage/components/AttractionOpinion.js","pages/attractionPage/components/WeatherItem.js","pages/attractionPage/components/WeatherWrap.js","config/firebase.js","pages/attractionPage/components/MessageBraftEditor.js","pages/attractionPage/index.js","components/Header.js","components/Footer.js","components/SigninContent.js","components/SignupContent.js","components/SigninModel.js","pages/collectionPage/index.js","components/ScrollToTop.js","components/RemindMessage.js","App.js","index.js","img/heart-hover-icon.svg"],"names":["module","exports","__webpack_require__","p","openwindow","createContext","Provider","Consumer","zh_TW","navbar","favorite","signIn","signOut","signInModel","signOutModel","hero","title","search","date","MRT","searchBtn","advancedSearchBtn","district","themed","searchAdvancedClearBtn","searchAdvancedSerchBtn","contentSection","mostScore","mostComment","searchNothing","card","detailsBtn","openAllDay","model","signInTitle","signUpTitle","signInSubTitle","signUpSubTitle","emailInput","passwordInput","googleSignIn","googleSignInBtn","nickNameInput","checkPasswordInput","remindModel","btn","signInRemind","attractionPage","infoTitle","tag","category","address","month","web","tel","openTime","service","mrt","traffic","trafficContentText","openRemind","Remind","mapTitle","messageTitle","nearbyAttractions","ticket","cancelMessage","leaveComments","sendMessage","footer","serviceTime","favoritePage","subTitle","tagTheme","editor","placeholder","editMessage","deleteMessage","en","SearchBarWeb","_this$props","this","props","showOptionDate","optionDateShow","closeOptionDate","showOptionMRT","week","optionMRTShow","toggleSearchAdvanced","searchAdvanced","currentThemeIsTag","changeCurrentTheme","react_default","a","createElement","_ref","languageStatus","theme","searchInput","changeInputHandle","language","selectDayOptionHandle","selectMrtOptionHandle","searchDay","searchMRT","TaipeiMRT","searchHandle","selectTagThemes","selectAreaThemes","areaTheme","removeSelectItem","LanguageZhTW","LanguageEn","className","type","value","onChange","lib_default","name","onFocus","onClick","map","item","index","key","id","active","data-index","Component","SearchAdvancedMobile","searchAdvancedMobileHandle","Fragment","SearchBarMobile","closeOptionDateOnSection","showSearchAdvancedMobile","homePage_components_SearchAdvancedMobile","onTouchStart","Hero","state","currentSelectMRT","weekEn","_this","setState","e","stopPropagation","target","closeOptionMRT","_this2","components_SearchBarWeb","homePage_components_SearchBarMobile","AttractionCardStraight","strTmpLanguageHandle","strTmp","includes","match","_this$props$data","data","contentText","backgroundImage","opentTIme","MRTColor","CAT2","_id","stitle","stitle_en","area","currentDay","currentActiveDay","backgroundImageActive","strTmpText","addClass","uid","userData","clickHeartIconHandle","filterFavorite","data-id","react_router_dom","to","concat","style","replace","AttractionCardHorizontal","console","log","AttractionCard","getDay","day","Date","filterMRTLine","MRTName","TaipeiMRT_EN","filter","switchMRTLine","MRTLine","currentMRTLineColor","filterOpenTime","opentTime","filterTime","arguments","length","undefined","substr","contentTextBreakLineHandle","text","split","photo","xbody","images","opening_hours","language_status","cardIsRow","src","activeHeartIcon","line","AttractionCardHorizontal_AttractionCardHorizontal","components_AttractionCardStraight","PageNumber","groupCount","startPage","goPrev","currentPage","totalPage","changePageNum","preventDefault","go","goNext","creatFivePages","pages","_loop","i","classNames","push","pageNum","_this2$state","fivePages","data-num","listNum","BouncingLoader","AttractionsSection","currentDataHandle","results","searchData","defaultPage","changeCardArrangement","square","currentCount","currentData","currentCountText","count","resultsSortmode","changeTaipeiDataSortHandle","homePage_components_AttractionCard","src_components_BouncingLoader","homePage_components_PageNumber","HomePage","homePage_components_Hero","homePage_components_AttractionsSection","GoogleMap","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","createMap","tempArr","latitude","longitude","window","google","maps","Map","mapRef","current","setCenter","lat","lng","setZoom","markers","marker","Marker","position","animation","Animation","DROP","infowindow","InfoWindow","content","addListener","close","open","React","createRef","$script","ref","AttractionOpinion","editMessageHandle","currentAttractionId","deleteMessageHandle","time","star","userName","message","userId","starArray","messageTime","toLocaleString","_ref2","LanguageEN","data-userid","dangerouslySetInnerHTML","__html","data-currentid","WeatherItem","dateLanguageHandle","newDay","class","icon","temperature","status","WeatherWrap","currentTemperature","timeSlot","currentStatus","currentHours","getHours","situation","addCalss","lineCalss","react","components_WeatherItem","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","fireAuth","auth","controls","MessageBraftEditor","starIons","editorState","editorHandleChange","clickStarHandle","htmlFor","dist_default","AttractionPage","nearbyAllData","weather","showMessageTextarea","BraftEditor","createEditorState","messageData","totalStarScore","editId","getNearbyDataFromFirebase","database","once","snapshot","val","getWeatherData","url","fetch","then","rs","json","error","Error","statusText","getCurrenIdNearbyId","filterData","getNearbyData","allData","sendMessageHandle","toHTML","dataset","currentid","MessageData","showRemindModel","document","querySelector","scrollIntoView","block","behavior","set","remove","getMessageData","on","reverse","starList","values","Math","round","reduce","prev","TextBreakLineHandle","smallBreak","textArrayFilter","join","monthsWordHandle","months","sort","currenIdNearbyData","_this$props$data$","open_time","official_site","remind","_this$state","starIcons","newXbody","newOpenTime","newRemind","newTicket","detailsTitleClass","href","rel","components_GoogleMap","attractionPage_components_WeatherWrap","components_AttractionOpinion","MessageBraftEditor_MessageBraftEditor","nickName","Header","mobileMenu","languageSelect","languageMobileMenu","signOutHandle","errorReminModelHandle","showErrorReminModel","mobileMenuHandle","showLanguageSelectHandle","currentActiveClassName","showLanguageSelectModelHandle","setCookieLanguage","getTaipeiDate","changeLanguageMRT","changeLanguageAdvance","isMobile","expires","setTime","getTime","cookie","resetSearchInput","memberIcon","alt","showSignInModel","languageIcon","Footer","SigninContent","email","password","emailInputError","passwordInputError","emailInputHandle","passwordInputHandle","signInHandle","signUpErrorHandle","signInWithEmailAndPassword","user","catch","errorCode","code","errorMessage","googleSignInHandle","provider","GoogleAuthProvider","signInWithPopup","result","_result$user","displayName","userRef","_this$state2","SignupContent","confirmPassword","confirmPasswordInputError","nickNameInputError","nickNameInputHandle","confirmPasswordInputHandle","signUpHandle","signUpFirebase","createUserWithEmailAndPassword","_this$state3","SigninModel","signinBtnActive","signInErrorMessage","signUpErrorMessage","components_SigninContent","components_SignupContent","CollectionPage","checkSigninStateus","location","favoriteDataHandle","favoriteFilterData","filterResultes","forEach","resultesItem","filterTagData","userFavoriteData","addCategoryClass","ScrollToTop","prevProps","pathname","scrollTo","children","withRouter","RemindMessage","changeTitleHandle","modelStatus","modelStatusHandle","App","currentResult","pageAllGroup","currentPageGroup","currentTagThemes","currentAreaThemes","getCookieByName","reg","RegExp","textContent","filterTagThems","currentIndex","newTagTheme","parseInt","indexOf","toConsumableArray","filterAreaThemes","newAreaThemes","newTagThemes","trim","filterTextData","searchTextHandle","filterMrtData","searchMrtHandle","searchTagHandle","filterAreaData","searchAreaHandle","filterDataHandle","searchStitle","toUpperCase","tagItem","areaItem","pageNumArray","ceil","filterCurrentAttraction","currentAttraction","checkSigninStatus","onAuthStateChanged","reminStatus","getUserData","DataRef","openTimeData","touristOpenTime","touristOpenTime_en","taipeiData","Tourist","touristItem","newTaipeiData","b","star_rating","setPageAllGroup","slice","mode","message_num","favoriteArray","filterFavoriteArray","activeCurrentClassName","activeCurrentId","some","contextValue","objectSpread","bind","components_ScrollToTop","src_components_Header","src_components_RemindMessage","src_components_SigninModel","react_router","exact","path","render","homePage","params","pages_attractionPage","pages_collectionPage","src_components_Footer","ReactDOM","src_App","getElementById"],"mappings":"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","file":"static/js/main.bb533fee.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/member-icon.71f1e9dc.svg\";","module.exports = __webpack_public_path__ + \"static/media/square.6a389b27.svg\";","module.exports = __webpack_public_path__ + \"static/media/language-icon.debcbd9f.svg\";","import React, { Component } from \"react\";\nimport $script from \"scriptjs\";\n\nvar openwindow;\n\nclass GoogleMap extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      map: {},\n      markers: [],\n      language: this.props.language\n    };\n    this.mapRef = React.createRef();\n  }\n  componentDidMount() {\n    $script(\n      `https://maps.googleapis.com/maps/api/js?key=AIzaSyBBMko9344y32hbPtFedASD3zGcWrx_gus&language=${this.state.language}`,\n      this.createMap\n    );\n  }\n\n  createMap = () => {\n    const { stitle, latitude, longitude } = this.props.data;\n    this.setState({\n      map: new window.google.maps.Map(this.mapRef.current)\n    });\n    this.state.map.setCenter({ lat: +latitude, lng: +longitude });\n    this.state.map.setZoom(17);\n\n    let tempArr;\n    tempArr = this.state.markers;\n    let marker = new window.google.maps.Marker({\n      position: { lat: +latitude, lng: +longitude },\n      map: this.state.map,\n      animation: window.google.maps.Animation.DROP\n    });\n    let infowindow = new window.google.maps.InfoWindow({\n      content: \"<h4>\" + stitle + \"</h4>\"\n    });\n    marker.addListener(\"click\", e => {\n      if (openwindow) {\n        openwindow.close();\n      }\n      openwindow = infowindow;\n      infowindow.open(this.state.map, marker);\n    });\n    tempArr.push(marker);\n    this.setState({ markers: tempArr });\n  };\n  render() {\n    return <div className={`google-map-show ${this.props.language}`} ref={this.mapRef} />\n  }\n}\n\nexport default GoogleMap;\n","import { createContext } from \"react\";\n\nexport const { Provider, Consumer } = createContext({});","export default {\n  navbar: {\n    favorite: '',\n    signIn: '',\n    signOut: '',\n    signInModel: '',\n    signOutModel: '',\n  },\n  hero: {\n    title: '',\n    search: '?',\n    date: '',\n    MRT: '',\n    searchBtn: '',\n    advancedSearchBtn: '',\n    district: '',\n    themed: '',\n    searchAdvancedClearBtn: '',\n    searchAdvancedSerchBtn: '',\n  },\n  contentSection: {\n    title: '',\n    mostScore: '',\n    mostComment: '',\n    searchNothing: '',\n  },\n  card: {\n    detailsBtn: '',\n    openAllDay: '',\n  },\n  model: {\n    signInTitle: ' ',\n    signUpTitle: ' ',\n    signInSubTitle: '',\n    signUpSubTitle: '',\n    emailInput: '',\n    passwordInput: '',\n    googleSignIn: ' Google ',\n    googleSignInBtn: ' Google ',\n    nickNameInput: '',\n    checkPasswordInput: '',\n  },\n  remindModel: {\n    btn: '',\n    signInRemind: '',\n  },\n  attractionPage: {\n    infoTitle: '',\n    tag: '',\n    category: '',\n    address: '',\n    month: '',\n    web: '',\n    tel: '',\n    openTime: '',\n    service: '',\n    mrt: '',\n    traffic: '',\n    trafficContentText: '',\n    openRemind: '',\n    Remind: '',\n    mapTitle: '',\n    messageTitle: '',\n    nearbyAttractions: '',\n    ticket: '',\n    cancelMessage: '',\n    leaveComments: '',\n    sendMessage: '',\n  },\n  footer: {\n    address: ' : 11008 14',\n    tel: ' :  02-27208889',\n    serviceTime: ' : : 08:30-12:30 13:30-17:30',\n  },\n  favoritePage: {\n    title: '',\n    subTitle: '',\n    tagTheme: [\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n      \"\",\n    ]\n  },\n  editor: {\n    title: '',\n    placeholder: '',\n    editMessage: '',\n    deleteMessage: ''\n  }\n}","export default {\n  navbar: {\n    favorite: 'Favorite',\n    signIn: 'Sign In',\n    signOut: 'Sign Out',\n    signInModel: 'Sign In',\n    signOutModel: 'Sign Out',\n  },\n  hero: {\n    title: 'Impression of Taipei',\n    search: 'Do you want to go?',\n    date: 'Date',\n    MRT: 'MRT Station',\n    searchBtn: 'Search',\n    advancedSearchBtn: 'Advance',\n    district: 'District',\n    themed: 'Themed Attractions',\n    searchAdvancedClearBtn: 'Clear All',\n    searchAdvancedSerchBtn: 'Search',\n  },\n  contentSection: {\n    title: 'Taipei Attractions List',\n    mostScore: 'Most Rated',\n    mostComment: 'Most comments',\n    searchNothing: 'Attractions Not Found',\n  },\n  card: {\n    detailsBtn: 'Details',\n    openAllDay: 'Open all day',\n  },\n  model: {\n    signInTitle: 'Sign In',\n    signUpTitle: 'Sign Up',\n    signInSubTitle: 'Collection of attractions, starting from login',\n    signUpSubTitle: 'Start collecting attractions after registration',\n    emailInput: 'Enter your email',\n    passwordInput: 'Enter your password',\n    googleSignIn: 'Sign in with Google',\n    googleSignInBtn: 'Sign in with your Google Account',\n    nickNameInput: 'Please enter a nickname',\n    checkPasswordInput: 'confirm password',\n  },\n  remindModel: {\n    btn: 'Confirm',\n    signInRemind: 'Please login first',\n  },\n  attractionPage: {\n    infoTitle: 'Attractions information',\n    tag: 'Themed',\n    category: 'Subject',\n    address: 'Address',\n    month: 'Suggested Months',\n    web: 'Official Website',\n    tel: 'Phone Number',\n    openTime: 'Opening Hours',\n    service: 'Services',\n    mrt: 'Nearby MRT',\n    traffic: 'Transportaiton',\n    trafficContentText: 'Choose a transportation method',\n    openRemind: 'Open Time',\n    Remind: 'Reminder',\n    mapTitle: 'Attractions map',\n    messageTitle: 'Attractions Reviews',\n    nearbyAttractions: 'Recommended nearby attractions',\n    ticket: 'Ticket information',\n    cancelMessage: 'Cancel',\n    leaveComments: 'Leave Comments',\n    sendMessage: 'Send',\n  },\n  footer: {\n    address: '4F., No. 1, Shifu Rd., Xinyi Dist., Taipei City 110, Taiwan (R.O.C.)',\n    tel: 'Phone : 02-27208889',\n    serviceTime: 'Service Hours : Monday to Friday: 08:30-12:30 13:30-17:30',\n  },\n  favoritePage: {\n    title: 'Member Centre',\n    subTitle: 'My favorite spots',\n    tagTheme: [\n      \"SPA\",\n      \"Cycling\",\n      \"Historic Buildings\",\n      \"Faith\",\n      \"Art Gallery\",\n      \"Public Art\",\n      \"Bule Highway\",\n      \"Family Activities\",\n      \"Outdoor Walking\",\n    ],\n  },\n  editor: {\n    title: 'Give a rating',\n    placeholder: 'Write a review!',\n    editMessage: 'Edit',\n    deleteMessage: 'Delete'\n  }\n}","import React, { Component } from 'react';\nimport FontAwesome from \"react-fontawesome\";\nimport { Consumer } from \"../../../context/DataContext\";\nimport LanguageZhTW from '../../../language/zh-TW';\nimport LanguageEn from '../../../language/en';\nclass SearchBarWeb extends Component {\n  render() {\n    const { showOptionDate,optionDateShow,\n            closeOptionDate,showOptionMRT,week,\n            optionMRTShow,toggleSearchAdvanced,searchAdvanced,\n            currentThemeIsTag,changeCurrentTheme \n          } = this.props; \n    return (\n      <Consumer>\n      {({searchInput, changeInputHandle, language, selectDayOptionHandle, selectMrtOptionHandle, searchDay,\n        searchMRT, TaipeiMRT, searchHandle, selectTagThemes, tagTheme, selectAreaThemes, areaTheme, removeSelectItem }) => {\n        let languageStatus;\n        let theme;\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;  \n        currentThemeIsTag ? theme = 'tag' : theme = 'area';\n        return (\n          <div className=\"searchBar-wrap\">\n            <div className=\"search-wrap\">\n              <input\n                type=\"text\"\n                className=\"search\"\n                value={searchInput}\n                onChange={changeInputHandle}\n              />\n              {!searchInput && (\n              <span className=\"placeholder d-flex h-align-items-center\">\n                <FontAwesome name=\"compass\" className=\"compass\" />\n                {languageStatus.hero.search}\n              </span>\n              )}\n            </div>\n            <div className=\"select-wrap\">\n              <button\n                className=\"select d-flex h-align-items-center\"\n                onFocus={showOptionDate}\n                onClick={selectDayOptionHandle}/>\n              <div className=\"placeholder d-flex h-align-items-center\">\n                <FontAwesome name=\"calendar\" className=\"calendar\" />\n                <span className=\"select-text\">{searchDay ? searchDay : languageStatus.hero.date}</span>\n                <FontAwesome\n                  name=\"chevron-down\"\n                  className=\"chevron-down\"\n                />\n              </div>\n              <ul className={ optionDateShow ? \"option\" : \"option d-none\"} onClick={closeOptionDate}>\n                {week.map((item, index) => <li key={index} onClick={selectDayOptionHandle}>{item}</li>)}\n              </ul>\n            </div>\n            <div className=\"select-wrap\">\n              <button\n                className=\"select d-flex h-align-items-center\"\n                onFocus={showOptionMRT}\n                onClick={selectMrtOptionHandle}/>\n              <div className=\"placeholder d-flex h-align-items-center\">\n                <FontAwesome name=\"location-arrow\" className=\"location-arrow\"/>\n                <span className=\"select-text\">\n                  {!searchMRT ? languageStatus.hero.MRT : searchMRT}\n                </span>\n                <FontAwesome name=\"chevron-down\" className=\"chevron-down\"/>\n              </div>\n              <ul className={ optionMRTShow && !searchMRT ? \"option\" : \"option d-none\" }>\n                {TaipeiMRT.map(item => (\n                  <li key={item.id} onClick={selectMrtOptionHandle}>\n                    {item.name}\n                  </li>\n                ))}\n              </ul>\n            </div>\n            <button className=\"search-btn\" onClick={searchHandle}>{languageStatus.hero.searchBtn}</button>\n            <button className=\"searchAdvanced-btn\" onClick={toggleSearchAdvanced}>\n              <FontAwesome name=\"sliders\" className=\"sliders\" />\n              {languageStatus.hero.advancedSearchBtn}\n            </button>\n            <div className={ searchAdvanced ? \"searchAdvanced-content-wrap\" : \"searchAdvanced-content-wrap d-none\" }>\n              <div className=\"searchAdvanced-selectBtns-wrap d-flex h-align-items-center h-justify-content-center\">\n                <button\n                  className={ currentThemeIsTag ? \"tag-btn active\" : \"tag-btn\"}\n                  onClick={changeCurrentTheme}>\n                  {languageStatus.hero.themed}\n                </button>\n                <button\n                  className={ !currentThemeIsTag ? \"area-btn active\" : \"area-btn\" }\n                  onClick={changeCurrentTheme}>\n                  {languageStatus.hero.district}\n                </button>\n              </div>\n              <div className=\"searchAdvanced-content d-flex h-flex-column h-align-items-center h-justify-content-center\">\n                <div className=\"searchAdvanced-items-wrap d-flex h-justify-content-center h-flex-wrap\">\n                  {currentThemeIsTag && tagTheme.map(item => (\n                    <button className={ item.active ? \"searchAdvanced-item active\" : \"searchAdvanced-item\" }\n                      key={item.id}\n                      data-index={item.id}\n                      onClick={selectTagThemes}>\n                      {item.name}\n                    </button>\n                  ))}\n                  {!currentThemeIsTag && areaTheme.map(item => (\n                    <button\n                      className={ item.active ? \"searchAdvanced-item active\" : \"searchAdvanced-item\" }\n                      key={item.id}\n                      data-index={item.id}\n                      onClick={selectAreaThemes}>\n                        {item.name}\n                    </button>\n                  ))}\n                </div>\n                <div className=\"searchAdvanced-wrap\">\n                  <button className=\"searchAdvanced-clear\" onClick={() => { removeSelectItem(theme) }}>{languageStatus.hero.searchAdvancedClearBtn}</button>\n                  <button className=\"searchAdvanced-serch\" onClick={searchHandle}>{languageStatus.hero.searchAdvancedSerchBtn}</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )\n      }}\n      </Consumer>\n      \n    )\n  }\n}\n\nexport default SearchBarWeb;\n","import React, { Component } from 'react';\nimport { Consumer } from \"../../../context/DataContext\";\nimport './SearchAdvancedMobile.scss';\nimport LanguageZhTW from '../../../language/zh-TW';\nimport LanguageEn from '../../../language/en';\n\nclass SearchAdvancedMobile extends Component {\n  render() {\n    const { currentThemeIsTag,changeCurrentTheme } = this.props;\n    return (\n      <Consumer>\n      {({selectTagThemes, tagTheme, selectAreaThemes, areaTheme, searchHandle, searchAdvancedMobileHandle, language}) => {\n        let languageStatus;\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\n        return (\n          <>\n            <div className=\"mobile searchAdvanced-content-wrap\">\n              <div className=\"searchAdvanced-selectBtns-wrap d-flex h-align-items-center h-justify-content-center\">\n                <button className={ currentThemeIsTag ? \"tag-btn active\" : \"tag-btn\"}\n                  onClick={changeCurrentTheme}>{languageStatus.hero.themed}</button>\n                <button className={!currentThemeIsTag ? \"area-btn active\" : \"area-btn\"}\n                  onClick={changeCurrentTheme}>{languageStatus.hero.district}</button>\n              </div>\n              <div className=\"searchAdvanced-content d-flex h-flex-column h-align-items-center h-justify-content-center\">\n                <div className=\"searchAdvanced-items-wrap d-flex h-justify-content-center h-flex-wrap\">\n                  {currentThemeIsTag ? (currentThemeIsTag && tagTheme.map(item => {\n                    return (\n                      <button className={ item.active ? 'searchAdvanced-item active' : 'searchAdvanced-item' }\n                        key={item.id}\n                        data-index={item.id}\n                        onClick={selectTagThemes}>\n                          {item.name}\n                      </button>\n                    );\n                  })) : (areaTheme.map(item => {\n                    return (\n                      <button\n                        className={ item.active ? \"searchAdvanced-item active\" : \"searchAdvanced-item\"}\n                        key={item.id}\n                        data-index={item.id}\n                        onClick={selectAreaThemes}>\n                          {item.name}\n                      </button>);\n                  }))}\n                </div>\n                <button className=\"searchAdvanced-searchBtn\" onClick={searchHandle}>{languageStatus.hero.searchAdvancedSerchBtn}</button>\n              </div>\n            </div>\n            <div className=\"cover-bg\" onClick={searchAdvancedMobileHandle}></div>\n          </>\n        )\n      }}\n      </Consumer>\n    )\n  }\n}\n\nexport default SearchAdvancedMobile;\n","import React, { Component } from 'react';\nimport FontAwesome  from 'react-fontawesome'; \nimport { Consumer } from \"../../../context/DataContext\";\nimport SearchAdvancedMobile from './SearchAdvancedMobile';\nimport LanguageZhTW from '../../../language/zh-TW';\nimport LanguageEn from '../../../language/en';\nimport './SearchBarMobile.scss';\n\nclass SearchBarMobile extends Component {\n  render() {\n    const { showOptionDate,optionDateShow,\n      closeOptionDate,showOptionMRT,week,\n      optionMRTShow,currentThemeIsTag,\n      changeCurrentTheme, closeOptionDateOnSection \n    } = this.props; \n    return (\n      <Consumer>\n      {({showSearchAdvancedMobile, searchInput, changeInputHandle, selectDayOptionHandle,\n      selectMrtOptionHandle, searchDay, searchMRT, TaipeiMRT, searchHandle, searchAdvancedMobileHandle, language}) => {\n        let languageStatus;\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;  \n        return (\n          <section className=\"searchBar-wrap-mobile h-align-items-center\" onClick={closeOptionDateOnSection}>\n            <div className=\"container\">\n              {showSearchAdvancedMobile\n                  ? <SearchAdvancedMobile currentThemeIsTag={currentThemeIsTag} changeCurrentTheme={changeCurrentTheme}/> \n                  : null}\n              <div className=\"row\">\n                <div className=\"col-12\">\n                <div className=\"search-wrap\">\n                  <input type=\"text\" className=\"search\" value={searchInput} onChange={changeInputHandle}/>\n                    {!searchInput && (\n                      <span className=\"placeholder d-flex h-align-items-center\">\n                        <FontAwesome name=\"compass\" className=\"compass\" />\n                        {languageStatus.hero.search}\n                      </span>\n                    )}\n                </div>\n                </div>\n                <div className=\"col-12\">\n                  <div className=\"select-wrap\">\n                    <button className=\"select d-flex h-align-items-center\"\n                      onFocus={showOptionDate}\n                      onClick={selectDayOptionHandle}\n                      onTouchStart={showOptionDate}\n                      >\n                    </button>\n                    <div className=\"placeholder d-flex h-align-items-center\">\n                      <FontAwesome name=\"calendar\" className=\"calendar\" />\n                      <span className=\"select-text\">{searchDay ? searchDay : languageStatus.hero.date}</span>\n                      <FontAwesome name=\"chevron-down\" className=\"chevron-down\" />\n                    </div>\n                    <ul className={ optionDateShow ? \"option\" : \"option d-none\"} onClick={closeOptionDate}>\n                      { week.map((item, index) => {\n                        return <li key={index} onClick={selectDayOptionHandle}>{item}</li>\n                      }) }\n                    </ul>\n                  </div>\n                </div>\n                <div className=\"col-12\">\n                  <div className=\"select-wrap\">\n                    <button className=\"select d-flex h-align-items-center\"\n                      onFocus={showOptionMRT}\n                      onClick={selectMrtOptionHandle}\n                      onTouchStart={showOptionMRT}\n                      >\n                    </button>\n                    <div className=\"placeholder d-flex h-align-items-center\">\n                      <FontAwesome name=\"location-arrow\" className=\"location-arrow\" />\n                      <span className=\"select-text\">{!searchMRT ? languageStatus.hero.MRT : searchMRT}</span>\n                      <FontAwesome name=\"chevron-down\" className=\"chevron-down\" />\n                    </div>\n                    <ul className={ optionMRTShow && !searchMRT ? \"option\" : \"option d-none\" }>\n                      {TaipeiMRT.map(item => (\n                        <li key={item.id} onClick={selectMrtOptionHandle}>\n                          {item.name}\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                </div>\n                <div className=\"col-12\">\n                  <div className=\"search-btn-wrap d-flex\">\n                    <button className=\"search-btn\" onClick={searchHandle}>{languageStatus.hero.searchBtn}</button>\n                    <button className=\"searchAdvanced-btn\" onClick={searchAdvancedMobileHandle}>\n                      <FontAwesome name=\"sliders\" className=\"sliders\" />\n                      {languageStatus.hero.advancedSearchBtn}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </section>\n        )\n      }}\n      </Consumer>\n    )\n  }\n}\n\nexport default SearchBarMobile;","import React, { Component } from \"react\";\nimport SearchBarWeb from './SearchBarWeb';\nimport SearchBarMobile from \"./SearchBarMobile\";\nimport { Consumer } from \"../../../context/DataContext\";\nimport \"./Hero.scss\";\nimport LanguageZhTW from '../../../language/zh-TW';\nimport LanguageEn from '../../../language/en';\n\nclass Hero extends Component {\n  state = {\n    optionDateShow: false,\n    optionMRTShow: false,\n    searchAdvanced: false,\n    currentThemeIsTag: true,\n    currentSelectMRT: null,\n    week: ['', '', '', '', '', '', ''],\n    weekEn: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],\n    \n  };\n  showOptionDate = () => {\n    this.setState({\n      optionDateShow: true,\n      searchAdvanced: false,\n      optionMRTShow: false\n    });\n  };\n  closeOptionDate = (e) => {\n    e.stopPropagation();\n    this.setState({\n      optionDateShow: false\n    });\n  };\n  closeOptionDateOnSection = (e) => {\n    if (e.target.className === 'select d-flex h-align-items-center') return;\n    this.setState({\n      optionDateShow: false,\n      optionMRTShow: false\n    });\n  }\n  showOptionMRT = () => {\n    this.setState({\n      optionMRTShow: true,\n      searchAdvanced: false,\n      optionDateShow: false,\n    });\n  };\n  closeOptionMRT = () => {\n    this.setState({\n      optionMRTShow: false\n    });\n  };\n  toggleSearchAdvanced = () => {\n    this.setState({\n      searchAdvanced: !this.state.searchAdvanced,\n      optionMRTShow: false,\n      optionDateShow: false,\n    });\n  };\n  changeCurrentTheme = () => {\n    this.setState({\n      currentThemeIsTag: !this.state.currentThemeIsTag\n    });\n  };\n  render() {\n    return (\n      <Consumer>\n      {({language}) => {\n        let languageStatus;\n        let week;\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\n        language === 'zh-TW' ? week = this.state.week : week = this.state.weekEn\n        return (\n          <>\n            <section className=\"hero d-flex h-align-items-center\" onClick={this.closeOptionDateOnSection}>\n              <div className=\"container\">\n                <div className=\"row\">\n                  <div className=\"col-12\">\n                    <h1 className=\"hero-title\">{languageStatus.hero.title}</h1>\n                    <p className=\"hero-subtitle\">\n                      What is your impression of Taipei?\n                      <br />\n                      Everyone has an unique story to tell about the wondrous Taipei\n                      thats\n                      <br />\n                      definitely worth telling. Lets hear about what celebrities\n                      have to say\n                      <br />\n                      about Taipei, and unleash our imagination!\n                      <br />\n                    </p>\n                  </div>\n                  <div className=\"col-12 d-flex h-justify-content-center\">\n                    <SearchBarWeb showOptionDate={this.showOptionDate} optionDateShow={this.state.optionDateShow} \n                      closeOptionDate={this.closeOptionDate} showOptionMRT={this.showOptionMRT} week={week}\n                      optionMRTShow={this.state.optionMRTShow} toggleSearchAdvanced={this.toggleSearchAdvanced}\n                      searchAdvanced={this.state.searchAdvanced} currentThemeIsTag={this.state.currentThemeIsTag}\n                      changeCurrentTheme={this.changeCurrentTheme}\n                    />\n                  </div>\n                </div>\n              </div>\n            </section>\n            <SearchBarMobile showOptionDate={this.showOptionDate} optionDateShow={this.state.optionDateShow} \n              closeOptionDate={this.closeOptionDate} showOptionMRT={this.showOptionMRT} week={week}\n              optionMRTShow={this.state.optionMRTShow} toggleSearchAdvanced={this.toggleSearchAdvanced}\n              searchAdvanced={this.state.searchAdvanced} currentThemeIsTag={this.state.currentThemeIsTag}\n              changeCurrentTheme={this.changeCurrentTheme} closeOptionDateOnSection={this.closeOptionDateOnSection}/>\n          </>\n        )\n      }}\n      </Consumer>\n    );\n  }\n}\n\nexport default Hero;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport FontAwesome from 'react-fontawesome';\nimport { Consumer } from '../../../context/DataContext';\nimport LanguageZhTW from '../../../language/zh-TW';\nimport LanguageEn from '../../../language/en';\n\nclass AttractionCardStraight extends Component {\n  strTmpLanguageHandle = (strTmp) => {\n    if (strTmp.includes('')) {\n      return strTmp.match(/\\d+(.\\d+)?/g) + ' KM';\n    } else if (strTmp.includes('')) {\n      return strTmp.match(/\\d+(.\\d+)?/g) + 'M';\n    }\n  }\n  render() {\n    const { contentText,backgroundImage,opentTIme,MRTColor,strTmp,CAT2, _id, stitle, stitle_en, MRT, address,area,currentDay,currentActiveDay } = this.props.data;\n    const { backgroundImageActive } = this.props;\n    return (\n      <Consumer>\n      {({uid,userData,clickHeartIconHandle,filterFavorite,language}) => {\n        let languageStatus;\n        let strTmpText;\n        let addClass;\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\n        strTmp && (language === 'zh-TW' ? strTmpText = strTmp : strTmpText = this.strTmpLanguageHandle(strTmp));\n        language === 'zh-TW' ? addClass = '' : addClass = ' en';\n        return (\n          <div className=\"col-lg-4\" data-id={_id}>\n            <Link to={`/attraction/${_id}`} className=\"attractionCard d-flex d-lg-block\">\n              <div className=\"attractionCard-photo\" style={ backgroundImage }>\n                { MRT && (\n                  <div className={`attractionCard-MRT d-flex ${MRTColor}`}>\n                    <div className=\"attractionCard-MRT-icon\"></div>\n                    <span>{MRT}</span>\n                  </div>\n                )}\n                {strTmp ? (\n                  <div className=\"attractionCard-dist d-flex h-align-items-center\">\n                    <FontAwesome name=\"map-marker\" className=\"map-marker\"/>\n                    {strTmpText}\n                  </div>) \n                  : null }\n                <button className=\"attractionCard-heart\" data-id={_id} onClick={(e) => clickHeartIconHandle(e,uid,userData)} >\n                  <div className=\"heart\" data-id={_id} style={ filterFavorite(userData,_id) ? backgroundImageActive : null }></div>\n                </button>\n              </div>\n              <div className=\"attractionCard-content\">\n                <div className={language === 'zh-TW' ? 'attractionCard-tag h-align-items-center h-justify-content-center' : 'attractionCard-tag en h-align-items-center h-justify-content-center'}>\n                  <span className=\"tagText-wrap\">{language && language === 'zh-TW' ? CAT2.replace(/\\s*/g,\"\") : CAT2}</span>\n                </div>\n                <div className=\"attractionCard-content-title-wrap\">\n                  <h1 className= 'attractionCard-content-title d-inline-block'>\n                    {language === 'zh-TW' ? stitle : stitle_en}\n                  </h1>\n                </div>\n                <p className=\"attractionCard-content-subtilte d-flex h-align-items-center\"><FontAwesome name=\"map-marker\" className=\"map-marker\"/>{area}</p>\n                <div className=\"attractionCard-content-addres-wrap\"><p className=\"attractionCard-content-addres d-sm-none\">{address}</p></div>\n                <p className={`attractionCard-content-texts d-none d-sm-block${addClass}`}>{`${contentText}....`}</p>\n                <div className=\"attractionCard-details-wrap d-flex h-align-items-center h-justify-content-between\">\n                  <button className=\"attractionCard-details-btn\">{languageStatus.card.detailsBtn}</button>\n                  <div className=\"attractionCard-details-time d-flex h-align-items-center\">{opentTIme ? \n                    <p>{opentTIme}</p> : <p>{currentDay ? currentDay+` : ${languageStatus.card.openAllDay}` : currentActiveDay+` : ${languageStatus.card.openAllDay}`}</p>}\n                  </div>\n                </div>\n              </div>\n            </Link>\n          </div>\n        )\n      }}\n      </Consumer>\n    )\n  }\n}\n\nexport default AttractionCardStraight;\n","import React, { Component } from 'react';\nimport FontAwesome from 'react-fontawesome';\nimport { Link } from 'react-router-dom';\nimport './AttractionCardHorizontal.scss';\nimport { Consumer } from '../../../context/DataContext';\nimport LanguageZhTW from '../../../language/zh-TW';\nimport LanguageEn from '../../../language/en';\n\nexport default class AttractionCardHorizontal extends Component {\n  render() {\n    const { contentText,backgroundImage,opentTIme,MRTColor,CAT2, _id, stitle, MRT, address,area,currentDay,currentActiveDay, stitle_en } = this.props.data;\n    const { backgroundImageActive } = this.props;\n    console.log(opentTIme,'opentTIme');\n    return (\n      <Consumer>\n      {({uid,userData,clickHeartIconHandle,filterFavorite,language}) => {\n        let languageStatus;\n        let addClass;\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\n        language === 'zh-TW' ? addClass = '' : addClass = ' en';\n        return (\n          <div className=\"col-12 col-lg-6\" data-id={_id}>\n            <Link to={`/attraction/${_id}`}>\n              <div className=\"attractionCard Horizontal d-flex\">\n                <div className=\"attractionCard-photo\" style={ backgroundImage }>\n                  { MRT && (\n                    <div className={`attractionCard-MRT d-flex ${MRTColor}`}>\n                      <div className=\"attractionCard-MRT-icon\"></div>\n                      <span>{MRT}</span>\n                    </div>\n                  )}\n                  <button className=\"attractionCard-heart\" data-id={_id} onClick={(e) => clickHeartIconHandle(e,uid,userData)} >\n                    <div className=\"heart\" data-id={_id} style={ filterFavorite(userData,_id) ? backgroundImageActive : null }></div>\n                  </button>\n                </div>\n                <div className=\"attractionCard-content\">\n                  <div className={language === 'zh-TW' ? 'attractionCard-tag h-align-items-center h-justify-content-center' : 'attractionCard-tag en h-align-items-center h-justify-content-center'}>\n                    <span className=\"tagText-wrap\">{language === 'zh-TW' ? CAT2.replace(/\\s*/g,\"\") : CAT2}</span>\n                  </div>\n                  <div className=\"attractionCard-content-title-wrap\">\n                    <h1 className={language === 'zh-TW' ? 'attractionCard-content-title d-inline-block' : 'attractionCard-content-title en d-inline-block'}>\n                      {language === 'zh-TW' ? stitle : stitle_en}\n                    </h1>\n                  </div>\n                  <p className=\"attractionCard-content-subtilte d-flex h-align-items-center\"><FontAwesome name=\"map-marker\" className=\"map-marker\"/>{area}</p>\n                  <div className=\"attractionCard-content-addres-wrap\"><p className=\"attractionCard-content-addres d-sm-none\">{address}</p></div>\n                  <p className={`attractionCard-content-texts d-none d-sm-block${addClass}`}>{`${contentText}....`}</p>\n                  <div className=\"attractionCard-details-wrap d-flex h-align-items-center h-justify-content-between\">\n                    <button className=\"attractionCard-details-btn\">{languageStatus.card.detailsBtn}</button>\n                    <div className=\"attractionCard-details-time d-flex\">{opentTIme ? \n                      <p>{opentTIme}</p> : <p>{currentDay ? currentDay+` : ${languageStatus.card.openAllDay}` : currentActiveDay+` : ${languageStatus.card.openAllDay}`}</p>}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </Link>\n          </div> \n        )\n      }}\n      </Consumer>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Consumer } from \"../../../context/DataContext\";\nimport TaipeiMRT from '../../../taipei-MRT.json';\nimport TaipeiMRT_EN from '../../../taipei-MRT_EN.json';\nimport activeHeartIcon from '../../../img/heart-hover-icon.svg';\nimport './AttractionCard.scss';\nimport AttractionCardStraight from './AttractionCardStraight';  \nimport AttractionCardHorizontal from './AttractionCardHorizontal';\n\nclass AttractionCard extends Component {\n  getDay = (language) => {\n    const time = new Date();\n    const day = time.getDay();\n    let currentDay;\n    if (language === 'zh-TW') {\n      switch (day) {\n        case 0:\n          currentDay = ''\n          break;\n        case 1:\n          currentDay = ''\n          break;\n        case 2:\n          currentDay = ''\n          break;\n        case 3:\n          currentDay = ''\n          break;\n        case 4:\n          currentDay = ''\n          break;\n        case 5:\n          currentDay = ''\n          break;\n        default:\n          currentDay = ''\n          break;\n      }\n    } else {\n      switch (day) {\n        case 0:\n          currentDay = 'Sunday'\n          break;\n        case 1:\n          currentDay = 'Monday'\n          break;\n        case 2:\n          currentDay = 'Tuesday'\n          break;\n        case 3:\n          currentDay = 'Wednesday'\n          break;\n        case 4:\n          currentDay = 'Thursday'\n          break;\n        case 5:\n          currentDay = 'Friday'\n          break;\n        default:\n          currentDay = 'Saturday'\n          break;\n      }\n    }\n    \n    return currentDay;\n  }\n  filterMRTLine = (MRTName, language) => {\n    let TaipeiMRTData;\n    language === 'zh-TW' ? TaipeiMRTData = TaipeiMRT : TaipeiMRTData = TaipeiMRT_EN;\n    return TaipeiMRTData.filter(item => {\n      return item.name === MRTName\n    })\n  }\n  switchMRTLine = (MRTLine, language) => {\n    let currentMRTLineColor;\n    if (language === 'zh-TW') {\n      switch (MRTLine) {\n        case '' :\n          currentMRTLineColor = 'MRT-brown'\n          break;\n        case '' :\n          currentMRTLineColor = 'MRT-red'\n          break;\n        case '' :\n          currentMRTLineColor = 'MRT-green'\n          break;\n        case '' :\n          currentMRTLineColor = 'MRT-yellow'\n          break;\n        default:\n          currentMRTLineColor = 'MRT-blue'\n          break;\n      }\n    } else {\n      switch (MRTLine) {\n        case 'Wenhu Line':\n          currentMRTLineColor = 'MRT-brown'\n          break;\n        case 'Tamsui-Xinyi Line':\n          currentMRTLineColor = 'MRT-red'\n          break;\n        case 'Songshan-Xindian Line':\n          currentMRTLineColor = 'MRT-green'\n          break;\n        case 'Zhonghe-Xinlu Line':\n          currentMRTLineColor = 'MRT-yellow'\n          break;\n        default:\n          currentMRTLineColor = 'MRT-blue'\n          break;\n      }\n    }\n    return currentMRTLineColor;\n  }\n  filterOpenTime = (opentTime, searchDay = this.getDay(), language) => {\n    if (!opentTime) return;\n    let filterTime;\n    if ( opentTime && language === 'zh-TW') {\n      filterTime = opentTime.filter(item => {\n        let day = item.substr(0,3);\n        return searchDay === day\n      })\n    } else if (opentTime && language !== 'zh-TW') {\n      filterTime = opentTime.filter(item => item.includes(searchDay))\n    }\n    return filterTime[0]\n  }\n  contentTextBreakLineHandle = (text) => {\n    const textArray = text.split(/[\\r\\n]/);\n    const textArrayFilter = textArray.filter(item => item.length && item !== '&nbsp;');\n    return textArrayFilter;\n  }\n  render() {\n    if(!this.props.data) { return null }\n    const { CAT2, _id, stitle, stitle_en, MRT, address, xbody, images, area, opening_hours, language_status } = this.props.data;\n    const { cardIsRow, strTmp } = this.props;\n    let MRTLine;\n    let MRTColor;\n    let photo;\n    images && (photo = images[0].src);\n    let backgroundImage = { backgroundImage: `url(${photo})` };\n    let backgroundImageActive = { backgroundImage: `url(${activeHeartIcon})`};\n    return (\n      <Consumer>\n        {({ currentDay,language }) => {\n          let opentTIme;\n          let currentActiveDay = this.getDay(language);\n          let contentText;\n          xbody && (language === 'zh-TW' ? contentText = (this.contentTextBreakLineHandle(xbody))[0].substr(0, 40) : contentText = this.contentTextBreakLineHandle(xbody.substr(0, 30)));\n          MRT && (this.filterMRTLine(MRT, language))[0] && (MRTLine = (this.filterMRTLine(MRT, language))[0].line) && (MRTColor = this.switchMRTLine(MRTLine, language));\n          !currentDay && (opentTIme = this.filterOpenTime(opening_hours));\n          currentDay && (opentTIme = this.filterOpenTime(opening_hours, currentDay));\n          let data = {contentText,backgroundImage,opentTIme,MRTColor,strTmp,CAT2, _id, stitle, stitle_en, MRT, address,area,currentDay,currentActiveDay};\n          return (\n            cardIsRow ? <AttractionCardHorizontal data={data} contentText={contentText} backgroundImageActive={backgroundImageActive}/> \n              : <AttractionCardStraight data={data} contentText={contentText} backgroundImageActive={backgroundImageActive}/>\n          )\n        }}\n      </Consumer>\n    )\n  }\n}\nexport default AttractionCard;","import React, { Component } from \"react\";\nimport FontAwesome from \"react-fontawesome\";\nimport { Consumer } from \"../../../context/DataContext\";\nimport \"./PageNumber.scss\";\n\nclass PageNumber extends Component {\n  state = {\n    groupCount: 5,\n    startPage: 1,\n  }\n  go(currentPage, totalPage, changePageNum) {\n    const { groupCount } = this.state;\n    // \n    currentPage % groupCount === 1 && this.setState({startPage: currentPage});\n    currentPage % groupCount === 0 && this.setState({startPage: currentPage - groupCount + 1});\n    totalPage - currentPage < 1 && this.setState({startPage: totalPage - groupCount});\n    changePageNum(currentPage);\n  }\n  // \n  goPrev = (e, currentPage, totalPage, changePageNum) => {\n    e.preventDefault();\n    if (--currentPage === 0) return;\n    this.go(currentPage, totalPage, changePageNum);\n  };\n  // \n  goNext = (e, currentPage, totalPage, changePageNum) => {\n    e.preventDefault();\n    if (++currentPage > totalPage) return;\n    this.go(currentPage, totalPage, changePageNum);\n  };\n  creatFivePages = (startPage,currentPage,totalPage,changePageNum) => {\n    let pages = [];\n    for (let i = startPage; i < 5 + startPage; i++) {\n      let classNames = 'pageNum-li d-flex h-align-items-center h-justify-content-center';\n      currentPage === i ? (classNames += ' active') : (classNames += '');\n      i<=totalPage - 1 && (pages.push(\n        <li className={classNames}\n          key={i}\n          onClick={() => this.go(i, totalPage, changePageNum)}>\n            {i}\n        </li>\n      ))\n    }\n    return pages;\n  }\n  render() {\n    return (\n      <Consumer>\n        {({currentPage, changePageNum, pageNum}) => {\n          const totalPage = pageNum.length;\n          const { startPage, groupCount} = this.state;\n          const fivePages = this.creatFivePages(startPage,currentPage,totalPage,changePageNum);\n          if (!pageNum.length) {return}\n          return (\n            <div className=\"container\">\n              <div className=\"row\">\n                <div className=\"col-12\">\n                  <div className=\"pageNum-wrap d-flex h-justify-content-center h-align-items-center\">\n                    <FontAwesome name=\"angle-left\" \n                      className=\"angle-left\" \n                      data-num={currentPage-1} \n                      onClick={(e) => this.goPrev(e, currentPage, totalPage, changePageNum)}/>\n                    {totalPage <= 10 ? (\n                      <ul className=\"pageNum-ul d-flex h-flex-wrap\">\n                        {pageNum.map((listNum, index) => {\n                          let classNames = 'pageNum-li d-flex h-align-items-center h-justify-content-center';\n                          currentPage === index+1 ? (classNames += ' active') : (classNames += '');\n                          return (\n                            <li className={classNames}\n                              key={listNum}\n                              onClick={() => this.go(index+1, totalPage, changePageNum)}>\n                                {listNum}\n                            </li>);\n                          })}\n                      </ul>\n                    ) : (\n                      <ul className=\"pageNum-ul d-flex h-flex-wrap\">\n                        {startPage > groupCount && (\n                          <>\n                            <li className={currentPage === 1 ? 'pageNum-li d-flex h-align-items-center h-justify-content-center active'\n                              :'pageNum-li d-flex h-align-items-center h-justify-content-center'}\n                              key={0}\n                              onClick={e => this.go(1, totalPage, changePageNum)}>\n                                1\n                            </li>\n                            <li className=\"ellipsis d-flex h-align-items-center\" key={-2}>\n                              <span className=\"btn btn-sm btn-outline-primary text-primary\"\n                                onClick={() => this.go(this.state.startPage - 5, totalPage, changePageNum)}>\n                                \n                              </span>\n                            </li>\n                          </>\n                        )}\n                        {fivePages}\n                        {totalPage - startPage > groupCount && (\n                          <li className=\"ellipsis d-flex h-align-items-center\" key={-1}>\n                            <span className=\"btn btn-sm btn-outline-primary text-primary\"\n                              onClick={() => this.go(this.state.startPage + 5, totalPage, changePageNum)}>\n                              \n                            </span>\n                          </li>\n                        )}\n                        <li className={currentPage === totalPage ? 'pageNum-li d-flex h-align-items-center h-justify-content-center active'\n                              :'pageNum-li d-flex h-align-items-center h-justify-content-center'}\n                          key={0}\n                          onClick={() => this.go(totalPage, totalPage, changePageNum)}>\n                            {totalPage}\n                        </li>\n                      </ul>\n                    )}\n                    <FontAwesome name=\"angle-right\" \n                      className=\"angle-right\" \n                      data-num={currentPage+1}\n                      onClick={e => this.goNext(e, currentPage, totalPage, changePageNum)}/>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )\n        }}\n      </Consumer>\n    );\n  }\n}\n\nexport default PageNumber;","import React from 'react';\nimport './BouncingLoader.scss'\n\nconst BouncingLoader = () => {\n  return (\n    <div className=\"bouncing-loader\">\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  )\n}\n\nexport default BouncingLoader;\n","import React, { Component } from \"react\";\nimport FontAwesome from \"react-fontawesome\";\nimport { Consumer } from \"../../../context/DataContext\";\nimport AttractionCard from \"./AttractionCard\";\nimport PageNumber from \"./PageNumber\";\nimport BouncingLoader from '../../../components/BouncingLoader';\nimport square from '../../../img/square.svg';\nimport LanguageZhTW from '../../../language/zh-TW';\nimport LanguageEn from '../../../language/en';\nimport \"./AttractionsSection.scss\";\n\nclass AttractionsSection extends Component {\n  state = {\n    cardIsRow: false,\n  }\n  currentDataHandle = (results, searchData, currentPage) => {\n    let data;\n    searchData ? data = searchData : data = results;\n    return data.filter((item, index) => {\n      let defaultPage;\n      defaultPage = (currentPage - 1)*21;\n      return (\n        defaultPage <= index && index <= defaultPage + 20\n      );\n    });\n  }\n  changeCardArrangement = () => {\n    this.setState({\n      cardIsRow: !this.state.cardIsRow\n    })\n  }\n  render() {\n    const { cardIsRow } = this.state\n    let backgroundImage = {\n      backgroundImage: `url(${square})`,\n    };\n    return (\n      <Consumer>\n      {({count, searchData, resultsSortmode,changeTaipeiDataSortHandle, results, currentPage, language}) => {\n        let currentCount;\n        let currentData;\n        let languageStatus;\n        let currentCountText;\n        results && (currentData = this.currentDataHandle(results, searchData, currentPage));\n        searchData ? (currentCount = searchData.length) : (currentCount = count);\n        !currentCount && (currentCount = 0);\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\n        language === 'zh-TW' ? currentCountText = ` ${currentCount} ` : currentCountText = `${currentCount} Attractions`;\n        return (\n          <section>\n            <div className=\"container\">\n              <main className=\"attractions-wrap\">\n                <div className=\"row\">\n                  <div className=\"col-12\">\n                    <div className=\"attraction-texts\">\n                      <h1 className=\"title\">{languageStatus.contentSection.title}</h1>\n                      {<div className=\"subtitle\">{currentCountText}</div>}\n                      <button className=\"changeList\" onClick={this.changeCardArrangement}>\n                        {cardIsRow ? <div className=\"list-icon\" style={backgroundImage}></div> \n                          : <FontAwesome name=\"list\" />}\n                      </button>\n                    </div>\n                    <div className=\"hr\" />\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-12\">\n                    <div className=\"order d-flex h-align-items-center\">\n                      <span className=\"sort-amount-down d-inline-block\" />\n                      <button className={resultsSortmode === 'star' ? 'mostScore active' : 'mostScore'} onClick={() => (changeTaipeiDataSortHandle('star'))}>{languageStatus.contentSection.mostScore}</button>\n                      <button className={resultsSortmode === 'message' ? 'mostComment active' : 'mostComment'} onClick={() => (changeTaipeiDataSortHandle('message'))}>{languageStatus.contentSection.mostComment}</button>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  {!results ? <BouncingLoader /> : (\n                    currentData.length ? (currentData.map(item => <AttractionCard key={item._id} data={item} cardIsRow={cardIsRow} />)) : (\n                      <div className=\"container\">\n                        <div className=\"row\">\n                          <div className=\"col-12\">\n                            <h2 className=\"srarch-results\"><FontAwesome name=\"exclamation-triangle\" className=\"exclamation-triangle\" />{languageStatus.contentSection.searchNothing}</h2>\n                          </div>\n                        </div>\n                      </div>)\n                  )}\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-12\">\n                    <PageNumber />\n                  </div>\n                </div>\n              </main>\n            </div>\n          </section>\n        )\n      }}\n      </Consumer>\n    );\n  }\n}\n\nexport default AttractionsSection;\n","import React, { Component } from 'react';\nimport Hero from './components/Hero';\nimport AttractionsSection from './components/AttractionsSection';\n\nclass HomePage extends Component {\n  render() {\n    return (\n      <>\n        <Hero />\n        <AttractionsSection />\n      </>\n    )\n  }\n}\n\nexport default HomePage;","import React from 'react';\nimport FontAwesome from \"react-fontawesome\";\nimport { Consumer } from '../../../context/DataContext';\nimport LanguageZhTW from '../../../language/zh-TW';\nimport LanguageEN from '../../../language/en';\n\nconst AttractionOpinion = ({data,editMessageHandle,currentAttractionId,deleteMessageHandle}) => {\n  const { time,star,id,userName,message,userId } = data;\n  const starArray = [1,2,3,4,5];\n  const messageTime =  (new Date(time)).toLocaleString('zh');\n  return (\n    <Consumer>\n    {({userData,setState,language}) => {\n      let languageStatus;\n      let addClass;\n      language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEN;\n      language === 'zh-TW' ? addClass = '' : addClass = ' en';\n      return (\n        <div className=\"attraction-opinion-item\" data-userid={userId}>\n          <div className=\"attraction-opinion-infos d-flex\">\n            <span className=\"attraction-opinion-name\">{userName}</span>\n            <span className=\"attraction-opinion-stars\">\n              {starArray.map(item => (\n                <FontAwesome name=\"star\" className={item <= star ? 'star active' : 'star'} key={item}/>\n              ))}\n            </span>\n            <span className=\"attraction-option-date\">{messageTime}</span>\n          </div>\n          <div className=\"attraction-opinion-message\" dangerouslySetInnerHTML={{ __html: message}}></div>\n          {userData && userData.uid === userId && <button className=\"delet\" data-id={id} data-currentid={currentAttractionId}\n            onClick={(e) => deleteMessageHandle(e,setState,currentAttractionId)}>{languageStatus.editor.deleteMessage}</button>}\n          {userData && userData.uid === userId && <button className={`edit${addClass}`} data-id={id} data-currentid={currentAttractionId} \n            onClick={editMessageHandle} >{languageStatus.editor.editMessage}</button>}\n        </div>\n      )\n    }}\n    </Consumer>\n  )\n}\n\nexport default AttractionOpinion\n\n","import React, { Component } from 'react';\nimport { Consumer } from '../../../context/DataContext';\n\nclass WeatherItem extends Component {\n  dateLanguageHandle = (day) => {\n    let newDay;\n    switch (day) {\n      case '':\n        newDay = 'Monday'\n        break;\n      case '':\n        newDay = 'Tuesday'\n        break;\n      case '':\n        newDay = 'Wednesday'\n        break;\n      case '':\n        newDay = 'Thursday'\n        break;\n      case '':\n        newDay = 'Friday'\n        break;\n      case '':\n        newDay = 'Saturday'\n        break;\n      default:\n        newDay = 'Sunday'\n        break;\n    }\n    return newDay\n  }\n  render() {\n    return (\n      <Consumer>\n      {({language}) => (\n        <div className={`weather-item h-flex-column h-justify-content-center h-align-items-center ${this.props.class}`}>\n          <div className=\"weather-date d-inline-block\">{this.props.date}</div>\n          <div className={`weather-icon ${this.props.icon}`}></div>\n          <div className=\"temperature\">{this.props.temperature}</div>\n          <div className=\"weather-day\">{language === 'zh-TW' ? this.props.day : this.dateLanguageHandle(this.props.day)}</div>\n          {language === 'zh-TW' ? <p className=\"weatherStatus\">{this.props.status}</p> : null}\n        </div>\n      )}\n      </Consumer>\n    )\n  }\n}\n\nexport default WeatherItem;\n","import React, { Component, Fragment } from 'react';\nimport WeatherItem from './WeatherItem'\nimport './WeatherWrap.scss';\n\nclass WeatherWrap extends Component {\n\n  render() {\n    const { data,currentTemperature } = this.props;\n    return (\n      <div className=\"col-12\">\n        <div className=\"attraction-weather-wrap d-flex h-justify-content-between h-align-items-center\">\n          {data && data.map((item,index) => {\n            const { day } = item;\n            const currentTime = new Date();\n            const currentHours = currentTime.getHours();\n            let timeSlot;\n            let currentStatus;       \n            (currentHours <= 18 && currentHours >= 6) ? (timeSlot = 'morning') : (timeSlot = 'night');\n            item[timeSlot].situation.includes('') && (currentStatus = 'wearth-cloudy-day');\n            item[timeSlot].situation.includes('') && (currentStatus = 'wearth-rain');\n            item[timeSlot].situation.includes('') && (currentStatus = 'wearth-thunderstorm');\n\n            let date = day.substr(0,5);\n            let addCalss = '';\n            let lineCalss ='line';\n            index === 2 && (lineCalss+=' d-none d-sm-inline-block');\n            index === 3 && (addCalss+=' d-none d-sm-flex') && (lineCalss+=' d-none d-md-inline-block');\n            index === 4 && (addCalss+=' d-none d-md-flex') && (lineCalss+=' d-none d-lg-inline-block');\n            index === 5 | index === 6 && (addCalss+=' d-none d-lg-flex') && (lineCalss+=' d-none d-lg-inline-block');\n            return (\n              <Fragment key={index}>\n                <WeatherItem class={addCalss} temperature={item[timeSlot].temperature} \n                  date={date} status={item[timeSlot].situation} day={day.substr(5,8)} icon={currentStatus}/>\n                {index < 6 ? <span className={ lineCalss }></span> : null}\n              </Fragment>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default WeatherWrap;","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\n\nvar config = {\n  apiKey: \"AIzaSyBn3pXilO3MKEkuclWVN5cjZqzV-e4L3kM\",\n  authDomain: \"test-36e1e.firebaseapp.com\",\n  databaseURL: \"https://test-36e1e.firebaseio.com\",\n  projectId: \"test-36e1e\",\n  storageBucket: \"test-36e1e.appspot.com\",\n  messagingSenderId: \"1093187294145\"\n};\n\nfirebase.initializeApp(config);\n\nexport const fireAuth = firebase.auth();\nexport default firebase;\n\n","import React, { Fragment } from 'react';\nimport BraftEditor from 'braft-editor';\nimport 'braft-editor/dist/index.css';\nimport './MessageBraftEditor.css';\nimport { Consumer } from '../../../context/DataContext';\nimport LanguageZhTW from '../../../language/zh-TW';\nimport LanguageEn from '../../../language/en';\n\nconst controls =[\n  'undo', 'redo', 'separator',\n  'font-size', 'line-height', 'letter-spacing', 'separator',\n  'text-color', 'bold', 'italic', 'underline', 'strike-through', 'separator',\n  'remove-styles', 'emoji',  'separator', 'text-indent', 'text-align', 'separator',\n  'list-ul', 'list-ol', 'blockquote', 'separator',\n  'link', 'separator', 'hr', 'separator',\n  'separator',\n  'clear'\n]\n\nexport default class MessageBraftEditor extends React.Component {\n  state = {\n    starIons: [5,4,3,2,1]\n  }\n  render () {\n    const { editorState, editorHandleChange, clickStarHandle, star } = this.props;\n    const { starIons } = this.state;\n    console.log(star,'star')\n    return (\n      <Consumer>\n      {({language}) => {\n        let languageStatus;\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\n        return (\n          <div className=\"editor-wrap\">\n            <span className=\"editor-start-wrap d-flex\">\n              <p>{`${languageStatus.editor.title} :`}</p>\n              <div className=\"rating\">\n                {starIons.map((item, index) => (\n                  <Fragment key={item}>\n                    <input type=\"radio\" id={`star${item}`} name=\"rating\" value={item} onClick={clickStarHandle}/>\n                    <label className={ star >= item ? 'full active' : 'full' } htmlFor={`star${item}`}></label>\n                  </Fragment>\n                ))}\n              </div>\n            </span>\n            <BraftEditor value={editorState} onChange={editorHandleChange} \n              language={language === 'zh-TW' ? 'zh-hant' : 'en'} placeholder={languageStatus.editor.placeholder} controls={controls} />\n          </div>\n        )\n      }}\n      </Consumer>\n    )\n  }\n\n}","import React, { Component } from 'react';\nimport FontAwesome from \"react-fontawesome\";\nimport TaipeiMRT from '../../taipei-MRT.json';\nimport TaipeiMRT_EN from '../../taipei-MRT_EN';\nimport GoogleMap from './components/GoogleMap';\nimport AttractionOpinion from './components/AttractionOpinion';\nimport AttractionCard from '../homePage/components/AttractionCard';\nimport WeatherWrap from './components/WeatherWrap';\nimport { Consumer } from \"../../context/DataContext\";\nimport firebase from \"../../config/firebase\";\nimport MessageBraftEditor from './components/MessageBraftEditor';\nimport activeHeartIcon from '../../img/heart-hover-icon.svg';\nimport BraftEditor from 'braft-editor';\nimport './index.scss';\nimport LanguageZhTW from '../../language/zh-TW';\nimport LanguageEn from '../../language/en';\n\n// const api = 'https://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=e6831708-02b4-4ef8-98fa-4b4ce53459d9&q=%E8%87%BA%E5%8C%97%E5%B8%82';\nconst api = 'https://weather.yfxie.com/api?region=taipei_city&_=1555515701988';\n\nclass AttractionPage extends Component {\n  state = {\n    nearbyAllData: null,\n    weather: null,\n    currentTemperature: null,\n    showMessageTextarea: false,\n    editorState: BraftEditor.createEditorState(null),\n    messageData: null,\n    star: 0,\n    totalStarScore: 0,\n    editId: null,\n  }\n  componentDidMount() {\n    this.getNearbyDataFromFirebase();\n    this.getWeatherData(api);\n    this.getMessageData();\n  }\n  getNearbyDataFromFirebase = () => {\n    let dataRef = firebase.database().ref('FilterNearbyAttractions');\n    dataRef.once('value',(snapshot) => {\n      this.setState({\n        nearbyAllData: snapshot.val()\n      })\n    })\n  }\n  getWeatherData = (url) => {\n    fetch(url).then(rs => {\n      if (rs.status >= 200 && rs.status < 300) {\n        return rs.json();\n      } else {\n        var error = new Error(rs.statusText)\n        error.rs = rs\n        throw error\n      }\n    }).then(data => {\n      console.log(data);\n      const { currentTemperature, week } = data;\n      this.setState({\n        weather: week,\n        currentTemperature\n      })\n    })\n  }\n  getCurrenIdNearbyId = (id) => {\n    let data = [];\n    let filterData = this.state.nearbyAllData.filter((item, index) => {\n      return index === id\n    })\n    for(let key in filterData[0]) {\n      data.push(filterData[0][key])\n    }\n    return data;\n  }\n  getNearbyData = (allData,id) => {\n    return allData.filter(item => {\n      return item._id === id\n    })\n  }\n  filterMRTLine = (MRTName, language) => {\n    let TaipeiMRTData;\n    language === 'zh-TW' ? TaipeiMRTData = TaipeiMRT : TaipeiMRTData = TaipeiMRT_EN;\n    return TaipeiMRTData.filter(item => {\n      return item.name === MRTName\n    })\n  }\n  switchMRTLine = (MRTLine, language) => {\n    let currentMRTLineColor;\n    if (language === 'zh-TW') {\n      switch (MRTLine) {\n        case '' :\n          currentMRTLineColor = 'MRT-brown'\n          break;\n        case '' :\n          currentMRTLineColor = 'MRT-red'\n          break;\n        case '' :\n          currentMRTLineColor = 'MRT-green'\n          break;\n        case '' :\n          currentMRTLineColor = 'MRT-yellow'\n          break;\n        default:\n          currentMRTLineColor = 'MRT-blue'\n          break;\n      }\n    } else {\n      switch (MRTLine) {\n        case 'Wenhu Line':\n          currentMRTLineColor = 'MRT-brown'\n          break;\n        case 'Tamsui-Xinyi Line':\n          currentMRTLineColor = 'MRT-red'\n          break;\n        case 'Songshan-Xindian Line':\n          currentMRTLineColor = 'MRT-green'\n          break;\n        case 'Zhonghe-Xinlu Line':\n          currentMRTLineColor = 'MRT-yellow'\n          break;\n        default:\n          currentMRTLineColor = 'MRT-blue'\n          break;\n      }\n    }\n    return currentMRTLineColor;\n  }\n  showMessageTextarea = () => {\n    this.editorHandleChange(BraftEditor.createEditorState(null));\n    this.setState({\n      showMessageTextarea: !this.state.showMessageTextarea,\n      editId: null,\n      star: 0\n    })\n  }\n  editorHandleChange = (editorState) => {\n    this.setState({ editorState })\n  }\n  clickStarHandle = (e) => {\n    this.setState({ star: e.target.value })\n  }\n  sendMessageHandle = (e,_id,name,userId,star,setState) => {\n    if(this.state.editorState.toHTML() === '<p></p>') { return };\n    const currentAttractionId = e.target.dataset.currentid;\n    const { editId } = this.state;\n    const MessageData = {\n      message: this.state.editorState.toHTML(),\n      userName: name,\n      userId: userId,\n      star: star,\n      time: +new Date()\n    }\n    setState({ showRemindModel: 4 });\n    this.showMessageTextarea();\n    document.querySelector('.attraction-opinion-wrap').scrollIntoView({\n      block: 'start',\n      behavior: 'smooth'\n    });\n    if (editId) {\n      firebase.database().ref(`/TouristMessage/${currentAttractionId}/${editId}`).set(MessageData).then(() => {\n        this.setState({ editId: null }); \n        firebase.database().ref(`taipeiData/${_id}/star_rating`).set(this.state.totalStarScore);\n        firebase.database().ref(`taipeiData/${_id}/message_num`).set(this.state.messageData.length);\n        firebase.database().ref(`taipeiData_EN/${_id}/star_rating`).once('value', (snapshot) => {\n          if(snapshot.val()) {\n            firebase.database().ref(`taipeiData_EN/${_id}/star_rating`).set(this.state.totalStarScore);\n            firebase.database().ref(`taipeiData_EN/${_id}/message_num`).set(this.state.messageData.length);\n          }\n        })\n      });\n    } else {\n      firebase.database().ref(`/TouristMessage/${_id}`).push(MessageData).then(() => {\n        firebase.database().ref(`taipeiData/${_id}/star_rating`).set(this.state.totalStarScore);\n        firebase.database().ref(`taipeiData/${_id}/message_num`).set(this.state.messageData.length);\n        firebase.database().ref(`taipeiData_EN/${_id}/star_rating`).once('value', (snapshot) => {\n          if(snapshot.val()) {\n            firebase.database().ref(`taipeiData_EN/${_id}/star_rating`).set(this.state.totalStarScore);\n            firebase.database().ref(`taipeiData_EN/${_id}/message_num`).set(this.state.messageData.length);\n          } \n        })\n      })\n    }\n  }\n  editMessageHandle = e => {\n    const id = e.target.dataset.id;\n    const currentAttractionId = e.target.dataset.currentid;\n    firebase.database().ref(`/TouristMessage/${currentAttractionId}/${id}`).once('value', (snapshot) => {\n      const message = snapshot.val().message;\n      const star = snapshot.val().star;\n      this.editorHandleChange(BraftEditor.createEditorState(`${message}`));\n      this.setState({ editId: id, showMessageTextarea: true, star })\n    })\n  }\n  deleteMessageHandle = (e,setState,_id) => {\n    const id = e.target.dataset.id;\n    const currentAttractionId = e.target.dataset.currentid;\n    console.log(id, currentAttractionId);\n    setState({ showRemindModel: 7 });\n    firebase.database().ref(`/TouristMessage/${currentAttractionId}/${id}`).remove().then(() => {\n      firebase.database().ref(`taipeiData/${_id}/star_rating`).set(this.state.totalStarScore);\n      firebase.database().ref(`taipeiData/${_id}/message_num`).set(this.state.messageData.length);\n      firebase.database().ref(`taipeiData_EN/${_id}/star_rating`).once('value', (snapshot) => {\n        if(snapshot.val()) {\n          firebase.database().ref(`taipeiData_EN/${_id}/star_rating`).set(this.state.totalStarScore);\n          firebase.database().ref(`taipeiData_EN/${_id}/message_num`).set(this.state.messageData.length);\n        } \n      })\n    });\n  }\n  getMessageData = () => {\n    const id = this.props.id;\n    const dataRef = firebase.database().ref(`/TouristMessage/${id}`);\n    dataRef.on('value', (snapshot) => {\n      const data = snapshot.val();\n      let messageData = [];\n      for(let key in data) {\n        data[key].id = key;\n        messageData.push(data[key]);\n      }\n      messageData.reverse();\n      const starList = messageData.map(item => Object.values(item)[1]);\n      let totalStarScore;\n      if (starList.length) {\n        totalStarScore = Math.round(starList.reduce((prev,item) => +prev + +item, 0) / starList.length);\n      } else {\n        totalStarScore = 0;\n      }\n      this.setState({ messageData,totalStarScore });\n    })\n  }\n  TextBreakLineHandle = (text, smallBreak = false) => {\n    const textArray = text.split(/[\\r\\n]/);\n    const textArrayFilter = textArray.filter(item => item.length && item !== '&nbsp;');\n    return smallBreak ? textArrayFilter.join('<br />') : textArrayFilter.join('<br /><br />');\n  }\n  monthsWordHandle = (months) => {\n    return months.split(',').sort();\n  }\n  render() {\n    if(!this.props.data) { return null };\n    console.log(this.props.data,'currentData');\n    const { stitle, stitle_en, xbody, CAT2, images, address, MRT, opening_hours, latitude, longitude, _id, open_time, official_site, remind, ticket, target, months, tel, service } = this.props.data[0];\n    const { nearbyAllData, weather, currentTemperature, showMessageTextarea, editorState, messageData, star, totalStarScore } = this.state;\n    const starIcons = [1,2,3,4,5];\n    let MRTLine;\n    let MRTColor;\n    let currenIdNearbyData;\n    let photo;\n    images && (photo = images[0].src);\n    nearbyAllData && (currenIdNearbyData =  this.getCurrenIdNearbyId(_id));\n    let newXbody =  this.TextBreakLineHandle(xbody);\n    let newOpenTime = this.TextBreakLineHandle(open_time,true);\n    let newRemind = this.TextBreakLineHandle(remind,true);\n    let newTicket = this.TextBreakLineHandle(ticket,true);\n    let backgroundImageActive = { backgroundImage: `url(${activeHeartIcon})`};\n    let backgroundImage = {\n      backgroundImage: `url(${photo})`,\n    };\n    return (\n      <Consumer>\n      {({uid,userData,clickHeartIconHandle,filterFavorite,language,setState,results}) => {\n        MRT && (this.filterMRTLine(MRT,language))[0] && (MRTLine = (this.filterMRTLine(MRT,language))[0].line) && (MRTColor = this.switchMRTLine(MRTLine,language));\n        let languageStatus;\n        let detailsTitleClass;\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\n        language === 'zh-TW' ? detailsTitleClass = 'details-title' : detailsTitleClass = 'details-title en';\n        return (\n          <section>\n            <div className=\"container\">\n              <div className=\"attraction-wrap\">\n                <div className=\"row\">\n                  <div className=\"col-12\">\n                    <div className=\"attraction-title d-flex h-align-items-center\">\n                      <div className=\"title-wrap\">\n                        <FontAwesome name=\"map\" className=\"map\"/>\n                        {language === 'zh-TW' ? stitle : stitle_en}\n                      </div>\n                      <span className=\"attraction-star d-flex h-align-items-center\">\n                        <span className=\"start-wrap\">\n                          {starIcons.map(item => <FontAwesome name={item <= totalStarScore ? 'star active' : 'star'} className=\"star\" key={item} />)}\n                        </span>\n                        <span className=\"starNum\">({messageData && messageData.length})</span>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-12\">\n                    <div className=\"attraction-info-wrap\">\n                      <div className=\"attraction-img\" style={ backgroundImage }>\n                        <button className=\"attractionCard-heart\" data-id={_id} onClick={(e) => clickHeartIconHandle(e,uid,userData)}>\n                          <div className=\"heart\" data-id={_id} style={ filterFavorite(userData,_id) ? backgroundImageActive : null }></div>  \n                        </button>\n                      </div>\n                      <div className={language === 'zh-TW' ? 'attraction-info' : 'attraction-info en'} dangerouslySetInnerHTML={{ __html: newXbody}}></div>\n                      <div className=\"attraction-detailsInfo-wrap\">\n                        <div className=\"attraction-details-title title\">{languageStatus.attractionPage.infoTitle}</div>\n                        <ul className=\"attraction-details-item d-flex\">\n                          <li className={detailsTitleClass}>{languageStatus.attractionPage.tag}</li>\n                          <li className=\"dtails-content-text\"><FontAwesome name=\"tag\" className=\"tag\"/>{CAT2.replace(/\\s*/g,\"\")}</li>\n                        </ul>\n                        {target ? (\n                          <ul className=\"attraction-details-item d-flex\">\n                            <li className={detailsTitleClass}>{languageStatus.attractionPage.category}</li>\n                            {target.map(item => (\n                              <li className=\"dtails-content-text target\" key={item.id}><FontAwesome name=\"map-pin\" className=\"map-pin\"/>{item.name}</li>\n                            ))}\n                          </ul>\n                        ) : null}\n                        {address ? (\n                          <ul className=\"attraction-details-item d-flex\">\n                            <li className={detailsTitleClass}>{languageStatus.attractionPage.address}</li>\n                            <li className=\"dtails-content-text\"><FontAwesome name=\"map-marker\" className=\"map-marker\"/>{address}</li>\n                          </ul>\n                        ) : null}\n                        {months ? (\n                          <ul className=\"attraction-details-item d-flex h-align-items-center\">\n                            <li className={detailsTitleClass}>{languageStatus.attractionPage.month}</li>\n                            <li className=\"dtails-content-text d-flex h-flex-wrap\">{this.monthsWordHandle(months).map((item, index) => <span className=\"dtails-months d-flex h-justify-content-center\" key={index}>{item}</span>)}</li>\n                          </ul>\n                        ) : null}\n                        <ul className=\"attraction-details-item d-flex\">\n                          <li className={detailsTitleClass}>{languageStatus.attractionPage.openTime}</li>\n                          <li className=\"dtails-content-text\">{ opening_hours ? (opening_hours.map((item,index) => {\n                            return <span className=\"d-block opentTime-list\" key={index}>{item}</span>\n                          })): languageStatus.card.openAllDay}</li>\n                        </ul>\n                        {newOpenTime ? (\n                          <ul className=\"attraction-details-item d-flex\">\n                            <li className={detailsTitleClass}>{languageStatus.attractionPage.openRemind}</li>\n                            <li className=\"dtails-content-text\" dangerouslySetInnerHTML={{ __html: newOpenTime}} ></li>\n                          </ul>\n                        ) : null}\n                        {newRemind ? (\n                          <ul className=\"attraction-details-item d-flex\">\n                            <li className={detailsTitleClass}>{languageStatus.attractionPage.Remind}</li>\n                            <li className=\"dtails-content-text\" dangerouslySetInnerHTML={{ __html: newRemind}}></li>\n                          </ul>\n                        ) : null}\n                        {ticket ? (\n                          <ul className=\"attraction-details-item d-flex\">\n                            <li className={detailsTitleClass}>{languageStatus.attractionPage.ticket}</li>\n                            <li className=\"dtails-content-text\" dangerouslySetInnerHTML={{ __html: newTicket}}></li>\n                          </ul>\n                        ) : null}\n                        {service ? (\n                          <ul className=\"attraction-details-item d-flex\">\n                            <li className={detailsTitleClass}>{languageStatus.attractionPage.service}</li>\n                            <li className=\"dtails-content-text\">{service.map(item => <span className=\"details-service\" key={item.id}><FontAwesome name=\"check-square\" className=\"check-square\" />{item.name}</span> )}</li>\n                          </ul>\n                        ) : null}\n                        {official_site ? (\n                          <ul className=\"attraction-details-item d-flex\">\n                            <li className={detailsTitleClass}>{languageStatus.attractionPage.web}</li>\n                            <a href={official_site} target=\"_blank\" className=\"details-official-site\" rel=\"noopener noreferrer\">{language === 'zh-TW' ? stitle : stitle_en}</a>\n                          </ul>\n                        ) : null}\n                        {tel ? (\n                          <ul className=\"attraction-details-item d-flex h-align-items-center\">\n                            <li className={detailsTitleClass}>{languageStatus.attractionPage.tel}</li>\n                            <a href={`tel:${tel}`} className=\"details-official-site\" rel=\"noopener noreferrer\">\n                              <FontAwesome name=\"phone\" className=\"phone\"/>{tel}\n                            </a>\n                          </ul>\n                        ) : null}\n                        {MRTLine ? (\n                          <ul className=\"attraction-details-item d-flex h-align-items-center\">\n                            <li className={detailsTitleClass}>{languageStatus.attractionPage.mrt}</li>\n                            <li className=\"dtails-content-text mobile-MRT\"><span className={`MRT-line ${MRTColor}`}>{MRTLine}</span><span>{MRT}</span></li>\n                          </ul>\n                          ) : null}\n                        <ul className=\"attraction-details-item d-flex h-align-items-center\">\n                          <li className={detailsTitleClass}>{languageStatus.attractionPage.traffic}</li>\n                          <li className=\"dtails-content-text\"><a href={`https://www.google.com/maps?daddr=${latitude},${longitude}&hl=${language}`}\n                            target=\"_blank\" rel=\"noopener noreferrer\" className=\"googleMap-link\">{languageStatus.attractionPage.trafficContentText}</a></li>\n                        </ul>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-12\">\n                    <div className=\"google-map\">\n                      <div className=\"google-map-tilte\">{languageStatus.attractionPage.mapTitle}</div>\n                      <GoogleMap data={this.props.data[0]} language={language} />\n                      {/* <iframe style={{ width:\"600\",height:\"450\",frameborder:\"0\" }} src=\"https://www.google.com/maps/embed/v1/place?q=place_id:ChIJ604BuRapQjQR6JNutnPhit0&key=AIzaSyBBMko9344y32hbPtFedASD3zGcWrx_gus&language\" allowfullscreen></iframe> */}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <WeatherWrap data={weather} currentTemperature={currentTemperature}/>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-12\">\n                    <div className=\"attraction-opinion-wrap\">\n                      <div className=\"attraction-opinion-title\">\n                        {languageStatus.attractionPage.messageTitle}\n                        <span className=\"attraction-message-num\">({messageData ? messageData.length : 0})</span>\n                      </div>\n                      {messageData && messageData.map(item => {\n                        console.log(item)\n                        return <AttractionOpinion data={item} key={item.id} editMessageHandle={this.editMessageHandle} \n                          currentAttractionId={_id} deleteMessageHandle={this.deleteMessageHandle}/>\n                      })}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-12\">\n                    {showMessageTextarea && <MessageBraftEditor editorState={editorState} \n                      editorHandleChange={this.editorHandleChange}\n                      clickStarHandle={this.clickStarHandle}\n                      star={star} />}\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-12 d-flex h-justify-content-center\">\n                    {uid && (\n                      <button className=\"messageBtn\" onClick={this.showMessageTextarea}>\n                        <FontAwesome name=\"comments\" className=\"comments\"/>\n                        {showMessageTextarea ? languageStatus.attractionPage.cancelMessage : languageStatus.attractionPage.leaveComments}\n                      </button>\n                      )}\n                    {showMessageTextarea ? (\n                      <button className=\"senMessageBtn\" data-id={uid} data-currentid={_id} onClick={ (e) => this.sendMessageHandle(e,_id,userData.nickName,uid,star,setState) } >\n                        <FontAwesome name=\"paper-plane\" className=\"paper-plane\"/>\n                        {languageStatus.attractionPage.sendMessage}\n                      </button>\n                    ) : null }\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-12\">\n                    <h1 className=\"nearby-title\">\n                      <FontAwesome name=\"street-view\" className=\"street-view\"/>\n                      {languageStatus.attractionPage.nearbyAttractions}\n                    </h1>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  {currenIdNearbyData && currenIdNearbyData.map(item => <AttractionCard  key={item.id} data={(this.getNearbyData(results, item.id))[0]} strTmp={item.strTmp} />)}\n                </div>\n              </div>\n            </div>\n          </section>\n        );\n      }}\n      </Consumer>\n    )\n  }\n}\n\nexport default AttractionPage;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Consumer } from '../context/DataContext';\nimport { fireAuth } from '../config/firebase.js';\nimport FontAwesome  from 'react-fontawesome';\nimport memberIcon from '../img/member-icon.svg';\nimport languageIcon from '../img/language-icon.svg';\nimport LanguageEn from '../language/en';\nimport LanguageZhTW from '../language/zh-TW';\nimport './Header.scss';\n\nclass Header extends Component {\n  state = {\n    mobileMenu: false,\n    languageSelect: false,\n    languageMobileMenu: false,\n  }\n  signOutHandle = (setState) => {\n    fireAuth.signOut();\n    setState({ showRemindModel: 2 });\n  }\n  errorReminModelHandle = (uid,setState) => {\n    !uid && setState({ showErrorReminModel: true });\n  }\n  mobileMenuHandle = () => {\n    this.setState({\n      mobileMenu: !this.state.mobileMenu,\n      languageMobileMenu: false,\n    })\n  }\n  showLanguageSelectHandle = (e) => {\n    const currentActiveClassName = e.target.className;\n    currentActiveClassName === 'menuLink-text' | currentActiveClassName === 'icon' \n      && this.setState({ languageSelect: !this.state.languageSelect });\n  }\n  showLanguageSelectModelHandle = () => {\n    this.setState({ languageMobileMenu: !this.state.languageMobileMenu })\n  }\n  setCookieLanguage = (language,setState,getTaipeiDate,changeLanguageMRT,changeLanguageAdvance, isMobile = false) => {\n    const expires = new Date();\n    expires.setTime(expires.getTime() + 1*24*60*60*1000);\n    document.cookie = `language=${language}; max-age=${expires}; path=/`;\n    this.setState({ languageSelect: false });\n    setState({ \n      language: language,\n      results: null,\n      searchData: null,\n    });\n    getTaipeiDate(language);\n    changeLanguageMRT(language);\n    changeLanguageAdvance(language);\n    isMobile && this.mobileMenuHandle();\n  }\n  render() {\n    const { mobileMenu,languageSelect,languageMobileMenu } = this.state;\n    return (\n      <Consumer>\n        {({ setState,uid,userData,resetSearchInput,getTaipeiDate,changeLanguageMRT,language,changeLanguageAdvance}) => {\n          let languageStatus;\n          language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\n          return (\n            <>\n              <header className=\"header d-flex h-align-items-center\">\n                <div className=\"container\">\n                  <div className=\"row\">\n                    <div className=\"col-12\">\n                      <nav className=\"nav d-flex h-justify-content-md-between h-align-items-center\">\n                        <Link to=\"/\" className=\"logo d-inline-block\" onClick={resetSearchInput}></Link>\n                        <div className=\"menu-wrap d-none d-md-flex h-align-items-center\">\n                          {userData ? <span className=\"header-name\">{`Hi${userData.nickName}`}</span> : null}\n                          <Link to={uid ? '/myHeart' : '/' } className=\"menuLink d-flex h-align-items-center\" onClick={() => this.errorReminModelHandle(uid,setState)}>\n                            <FontAwesome name=\"heart\" className=\"heart\"/>\n                            <span className=\"menuLink-text\">{languageStatus.navbar.favorite}</span>\n                          </Link>\n                          <span className=\"menuLink d-flex h-align-items-center\">\n                            <img className=\"icon\" src={memberIcon} alt=\"\"/>\n                            {uid ? (\n                              <span className=\"menuLink-text\" onClick={() => this.signOutHandle(setState)}>{languageStatus.navbar.signOut}</span>\n                            ) : (\n                              <span className=\"menuLink-text\" onClick={e => {\n                                e.preventDefault();\n                                setState({ showSignInModel: true })  \n                              }}>\n                                {languageStatus.navbar.signIn}\n                              </span>\n                            )}\n                          </span>\n                          <span className=\"menuLink d-flex h-align-items-center\" onClick={this.showLanguageSelectHandle}>\n                            <img className=\"icon\" src={languageIcon} alt=\"\"/>\n                            <span className=\"menuLink-text\">Language</span>\n                            <ul className={languageSelect ? 'language-select show' : 'language-select'}>\n                              <li className=\"language-select-item\" onClick={() => this.setCookieLanguage('zh-TW',setState,getTaipeiDate,changeLanguageMRT,changeLanguageAdvance)}>()</li>\n                              <li className=\"language-select-item\" onClick={() => this.setCookieLanguage('en',setState,getTaipeiDate,changeLanguageMRT,changeLanguageAdvance)}>English</li>\n                            </ul>\n                          </span>\n                        </div>\n                        <div className={mobileMenu ? 'menu-mobile-btn d-flex h-flex-column h-justify-content-between d-md-none h-align-items active' : 'menu-mobile-btn d-flex h-flex-column h-justify-content-between h-align-items d-md-none'} onClick={this.mobileMenuHandle}>\n                          <span className=\"d-inline-block\"></span>\n                          <span className=\"d-inline-block\"></span>\n                          <span className=\"d-inline-block\"></span>\n                        </div>\n                        <div className=\"memberIcon-mobile-wrap d-md-none\" onClick={uid ? () => this.signOutHandle(setState) : () => setState({showSignInModel: true})}>\n                          <img className=\"memberIcon d-inline-block\" src={memberIcon} alt=\"\" />\n                          <span className=\"mobile-text\">{uid ? languageStatus.navbar.signOutModel : languageStatus.navbar.signInModel}</span>\n                        </div>\n                      </nav>\n                    </div>\n                  </div>\n                </div>\n              </header>\n              <nav className={mobileMenu ? 'mobile-menu-wrap d-md-none show' : 'mobile-menu-wrap d-md-none'}>\n                <div className=\"container\">\n                  <div className=\"row\">\n                    <div className=\"col-12\">\n                      <Link to={uid ? '/myHeart' : '/' } className=\"menuLink d-flex h-align-items-center\" onClick={() => this.errorReminModelHandle(uid,setState)}>\n                        <span className=\"menuLink-text\" onClick={() => this.setState({ mobileMenu: false })}>{languageStatus.navbar.favorite}</span>\n                      </Link>\n                      <div className=\"menuLink itemLink-2\" onClick={this.showLanguageSelectModelHandle}>Language</div>\n                    </div>\n                  </div>\n                </div>\n              </nav>\n              <nav className={languageMobileMenu ? 'mobile-menu-wrap language d-md-none show' : 'mobile-menu-wrap language d-md-none'}>\n                <div className=\"container\">\n                  <div className=\"row\">\n                    <div className=\"col-12\">\n                      <div className=\"language-wrap\">\n                        <div className=\"menuLink language-item\" onClick={() => this.setCookieLanguage('zh-TW',setState,getTaipeiDate,changeLanguageMRT,changeLanguageAdvance,true)}>()</div>\n                        <div className=\"menuLink language-item\" onClick={() => this.setCookieLanguage('en',setState,getTaipeiDate,changeLanguageMRT,changeLanguageAdvance,true)}>English</div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </nav>\n            </>\n          )\n        }}\n      </Consumer>\n    )\n  }\n}\n\nexport default Header;","import React, { Component } from 'react';\nimport FontAwesome from \"react-fontawesome\";\nimport './Footer.scss';\nimport { Consumer } from \"../context/DataContext\";\nimport LanguageZhTW from '../language/zh-TW';\nimport LanguageEn from '../language/en';\n\nclass Footer extends Component {\n  render() {\n    return (\n      <Consumer>\n      {({language}) => {\n        let languageStatus;\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\n        return (\n          <footer className=\"footer-bg\">\n            <div className=\"footer\">\n              <div className=\"container d-flex h-flex-column h-flex-sm-row h-align-items-center h-align-items-sm-end h-justify-content-between\">\n                <div className=\"logo-wrap d-flex\">\n                  <div className=\"logo\"></div>\n                  <div className=\"footer-info d-none d-md-block\">\n                    <div>{languageStatus.footer.address}</div>\n                    <div>{languageStatus.footer.tel}</div>\n                    <div>{languageStatus.footer.serviceTime}</div>\n                  </div>\n                </div>\n                <div className=\"footer-link-wrap d-flex h-flex-column\">\n                  <div className=\"footer-icon-wrap d-none d-sm-flex\">\n                    <FontAwesome name=\"github\" className=\"github\"/>\n                    <FontAwesome name=\"facebook-square\" className=\"facebook-square\"/>\n                  </div>\n                  <div className=\"copyright\">COPYRIGHT  2019 TAIPEIGO All rights reserved.</div>\n                </div>\n              </div>\n            </div>\n          </footer>\n        )\n      }}\n      </Consumer>\n    )\n  }\n}\n\nexport default Footer;","import React, { Component } from 'react';\nimport FontAwesome from 'react-fontawesome';\nimport firebase, { fireAuth } from '../config/firebase.js';\nimport { Consumer } from '../context/DataContext';\nimport LanguageZhTW from '../language/zh-TW';\nimport LanguageEn from '../language/en';\n\nclass SigninContent extends Component {\n  state = {\n    email: '',\n    password: '',\n    emailInputError: false,\n    passwordInputError: false,\n  }\n  emailInputHandle = (e) => {\n    this.setState({\n      email: e.target.value\n    })\n  }\n  passwordInputHandle = (e) => {\n    this.setState({\n      password: e.target.value\n    })\n  }\n  signInHandle = () => {\n    const { email,password } = this.state;\n    if(email === '' && password === '') {\n      this.props.signUpErrorHandle('');\n      email === '' ? this.setState({ emailInputError: true }) : this.setState({ emailInputError: false });\n      password === '' ? this.setState({ passwordInputError: true }) : this.setState({ passwordInputError: false });\n    }\n    fireAuth.signInWithEmailAndPassword(email, password).then((user) => {\n      console.log(user,'');\n    }).catch((error) => {\n      const { code:errorCode, message:errorMessage } = error;\n      this.props.signUpErrorHandle(errorMessage);\n      errorMessage === 'The email address is badly formatted.' && this.setState({ emailInputError: true })\n      console.log('errorCode',errorCode,'errorMessage',errorMessage);\n    })\n  }\n  googleSignInHandle = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    fireAuth.signInWithPopup(provider).then((result) => {\n      const { displayName:nickName,email,uid } = result.user;\n      const userRef = firebase.database().ref(`/user/${uid}`);\n      const userData = {\n        email,\n        nickName,\n        uid,\n        favorite: [0]\n      }\n      userRef.once('value', (snapshot) => {\n        const user = snapshot.val();\n        !user && userRef.set(userData);\n      });\n    }).catch((error) => {\n      const { code:errorCode, message:errorMessage } = error;\n      console.log('errorCode',errorCode,'errorMessage',errorMessage);\n    });  \n  }\n  render() {\n    const {email,password,emailInputError,passwordInputError} = this.state;\n    return (\n      <Consumer>\n      {({language}) => {\n        let languageStatus;\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\n        return (\n          <div className=\"signIn-content d-flex h-flex-column\">\n            <div className=\"signIn-email-wrap d-flex h-flex-column h-align-items-center\">\n              <h2 className=\"signIn-title\">{languageStatus.model.signInSubTitle}</h2>\n              <div className=\"signIn-input-wrap\">\n                <input type=\"text\" className={ emailInputError ? 'signIn-input error' : 'signIn-input' } value={email} onChange={this.emailInputHandle}/>\n                {!email && (\n                  <span className=\"placeholder d-flex h-align-items-center\">\n                    <FontAwesome name=\"envelope\" className=\"envelope\"/>\n                    {languageStatus.model.emailInput}\n                  </span>\n                )}\n              </div>\n              <div className=\"signIn-input-wrap\">\n                <input type=\"password\" className={ passwordInputError ? 'signIn-input error' : 'signIn-input' } value={password} onChange={this.passwordInputHandle}/>\n                {!password && (\n                  <span className=\"placeholder d-flex h-align-items-center\">\n                    <FontAwesome name=\"lock\" className=\"lock\" />\n                    {languageStatus.model.passwordInput}\n                  </span>\n                )}\n              </div>\n              <button className=\"signIn\" onClick={this.signInHandle}>{languageStatus.model.signInTitle}</button>\n            </div>\n            <div className=\"signIn-google-wrap d-flex h-flex-column h-align-items-center\">\n              <h2 className=\"signIn-title\">{languageStatus.model.googleSignIn}</h2>\n              <button className=\"siginIn-google\" onClick={this.googleSignInHandle}>\n                <FontAwesome name=\"google\" className=\"google\"/>\n                {languageStatus.model.googleSignInBtn}\n              </button>\n            </div>\n          </div>\n        )\n      }}\n      </Consumer>\n    )\n  }\n}\n\nexport default SigninContent\n","import React, { Component } from 'react';\nimport FontAwesome from 'react-fontawesome';\nimport firebase, { fireAuth } from '../config/firebase.js';\nimport { Consumer } from '../context/DataContext';\nimport LanguageZhTW from '../language/zh-TW';\nimport LanguageEn from '../language/en';\n\n\nclass SignupContent extends Component {\n  state = {\n    nickName: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n    passwordInputError: false,\n    confirmPasswordInputError: false,\n    nickNameInputError: false,\n    emailInputError: false,\n    passwordInputError: false,\n  }\n  nickNameInputHandle = (e) => {\n    this.setState({\n      nickName: e.target.value\n    })\n  }\n  emailInputHandle = (e) => {\n    this.setState({\n      email: e.target.value\n    })\n  }\n  passwordInputHandle = (e) => {\n    this.setState({\n      password: e.target.value\n    })\n  }\n  confirmPasswordInputHandle = (e) => {\n    this.setState({\n      confirmPassword: e.target.value\n    })\n  }\n  signUpHandle = (setState) => {\n    const { email, password, confirmPassword, nickName } = this.state;\n    if(password !== confirmPassword) {\n      this.props.signUpErrorHandle('');\n      this.setState({\n        passwordInputError: true,\n        confirmPasswordInputError: true,\n      })\n      return;\n    } else {\n      this.setState({\n        passwordInputError: false,\n        confirmPasswordInputError: false,\n      })\n    }\n    if(nickName === '' || email === '' || password === ''|| confirmPassword === '') {\n      this.props.signUpErrorHandle('');\n      nickName === '' ? this.setState({ nickNameInputError: true}) : this.setState({ nickNameInputError: false});\n      email === '' ? this.setState({ emailInputError: true }) : this.setState({ emailInputError: false });\n      password === '' ? this.setState({ passwordInputError: true }) : this.setState({ passwordInputError: false });\n      confirmPassword === '' ? this.setState({ confirmPasswordInputError: true }) : this.setState({ confirmPasswordInputError: false });\n      return;\n    }\n    this.signUpFirebase(email, password, nickName, setState);\n  }\n  signUpFirebase = (email, password, nickName, setState) => {\n    fireAuth.createUserWithEmailAndPassword(email,password).then((user) => {\n      const uid = user.user.uid;\n      const userData = {\n        email,\n        nickName,\n        uid,\n        favorite: [0]\n      }\n      setState({ showRemindModel: 3 })\n      firebase.database().ref(`/user/${uid}`).set(userData);\n    }).catch((error) => {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      if (errorMessage === 'The email address is badly formatted.' \n        || errorMessage === 'The email address is already in use by another account.') {\n          this.setState({ emailInputError: true })\n      }\n      if (errorMessage === 'Password should be at least 6 characters') {\n        this.setState({ \n          passwordInputError: true,\n          confirmPasswordInputError: true, \n        })\n      } else {\n        this.setState({ \n          passwordInputError: false, \n          confirmPasswordInputError: false, \n        });\n      }\n      this.props.signUpErrorHandle(errorMessage);\n      console.log('errorCode',errorCode,'errorMessage',errorMessage);\n    })\n  }\n  render() {\n    const { nickName,email,password,\n      confirmPassword,passwordInputError,\n      confirmPasswordInputError,nickNameInputError,emailInputError } = this.state;\n    return (\n      <Consumer>\n        {({ setState, language }) => {\n          let languageStatus;\n          language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\n          return (\n            <div className=\"signup-content d-flex h-align-items-center\">\n              <div className=\"signup-wrap d-flex h-flex-column h-align-items-center\">\n                <h2 className=\"signup-title\">{languageStatus.model.signUpSubTitle}</h2>\n                <div className=\"signup-input-wrap\">\n                  <input type=\"text\" className={ nickNameInputError ? 'signIn-input error' : 'signIn-input' } value={nickName} onChange={this.nickNameInputHandle} />\n                  {!nickName && (\n                    <span className=\"placeholder d-flex h-align-items-center\">\n                      <FontAwesome name=\"user\" className=\"user\"/>\n                      {languageStatus.model.nickNameInput}\n                    </span>\n                  )}\n                </div>\n                <div className=\"signup-input-wrap\">\n                  <input type=\"text\" className={ emailInputError ? 'signIn-input error' : 'signIn-input' } value={email} onChange={this.emailInputHandle}/>\n                  {!email && (\n                    <span className=\"placeholder d-flex h-align-items-center\">\n                      <FontAwesome name=\"envelope\" className=\"envelope\"/>\n                      {languageStatus.model.emailInput}\n                    </span>\n                  )}\n                </div>\n                <div className=\"signIn-input-wrap\">\n                  <input type=\"password\" className={passwordInputError ? 'signIn-input error' : 'signIn-input'} \n                    value={password} onChange={this.passwordInputHandle} />\n                  {!password && (\n                    <span className=\"placeholder d-flex h-align-items-center\">\n                      <FontAwesome name=\"lock\" className=\"lock\" />\n                      {languageStatus.model.passwordInput}\n                    </span>\n                  )}\n                </div>\n                <div className=\"signIn-input-wrap\">\n                  <input type=\"password\" className={confirmPasswordInputError ? 'signIn-input error' : 'signIn-input'} \n                    value={confirmPassword} onChange={this.confirmPasswordInputHandle}/>\n                  {!confirmPassword && (\n                    <span className=\"placeholder d-flex h-align-items-center\">\n                      <FontAwesome name=\"lock\" className=\"lock\" />\n                      {languageStatus.model.checkPasswordInput}\n                    </span>\n                  )}\n                </div>\n                <button className=\"signUp\" onClick={() => this.signUpHandle(setState)}>{languageStatus.model.signUpTitle}</button>\n              </div>\n            </div>\n          )\n        }}\n      </Consumer>\n    )\n  }\n}\n\nexport default SignupContent;\n","import React, { Component } from 'react';\nimport { Consumer } from '../context/DataContext';\nimport SigninContent from './SigninContent';\nimport SignupContent from './SignupContent';\nimport LanguageZhTW from '../language/zh-TW';\nimport LanguageEn from '../language/en';\nimport './SigninModel.scss';\n\nclass SigninModel extends Component {\n  state = {\n    signinBtnActive: true,\n    signInErrorMessage: null,\n    signUpErrorMessage: null,\n  }\n  signUpErrorHandle = (message, language) => {\n    let errorMessage;\n    switch(message) {\n      case '':\n        errorMessage = ''\n        break;\n      case '':\n        errorMessage = ''\n        break;\n      case '':\n        errorMessage = ''\n        break;\n      case 'The email address is already in use by another account.':\n        errorMessage = ''\n        break;\n      case 'The email address is badly formatted.':\n        errorMessage = ''\n        break;\n      case 'There is no user record corresponding to this identifier. The user may have been deleted.':\n        errorMessage = ''\n        break;\n      case 'The password is invalid or the user does not have a password.':\n        errorMessage = ''\n        break;\n      default:\n        errorMessage = ''\n        break;\n    }\n    this.setState({\n      signUpErrorMessage: errorMessage\n    })\n  }\n  render() {\n    const { signinBtnActive,signUpErrorMessage } = this.state;\n    return (\n      <Consumer>\n      {({ setState, language }) => {\n        let languageStatus;\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\n        return (\n          <div className=\"signIn-wrap\">\n            <div className=\"signIn-box\">\n              <div className=\"button-wrap\">\n                <button className={ signinBtnActive ? 'signIn-select select-btn active' : 'signIn-select select-btn' }\n                  onClick={ () => {\n                    this.setState({ signinBtnActive: true })\n                  }}>{languageStatus.model.signInTitle}</button>\n                <button className={ signinBtnActive ? 'signUp-select select-btn' : 'signUp-select select-btn active' }\n                  onClick={ () => {\n                    this.setState({ signinBtnActive: false })\n                  }}>{languageStatus.model.signUpTitle}</button>\n              </div>\n              {signinBtnActive ? <SigninContent signUpErrorHandle={this.signUpErrorHandle} /> : <SignupContent signUpErrorHandle={this.signUpErrorHandle} /> }\n              {signUpErrorMessage ? (\n                <div className=\"error-message d-flex h-align-items-center h-justify-content-center\">{signUpErrorMessage}</div>\n                ) : null}\n            </div>\n            <div className=\"cover-bg\" onClick={ e => {\n              e.preventDefault();\n              setState({ showSignInModel: false })\n            }}></div>\n        </div>\n        )\n      }}\n      </Consumer>\n    )\n  }\n}\n\nexport default SigninModel;\n","import React, { Component } from 'react';\nimport AttractionCard from '../homePage/components/AttractionCard';\nimport FontAwesome from \"react-fontawesome\";\nimport { Consumer } from \"../../context/DataContext\";\nimport LanguageZhTW from '../../language/zh-TW';\nimport LanguageEn from '../../language/en';\nimport './index.scss';\n\nclass CollectionPage extends Component {\n  checkSigninStateus = (uid) => {\n    !uid && (window.location.href='/');\n  }\n  favoriteDataHandle = (userData,results) => {\n    let favoriteFilterData;\n    userData && (favoriteFilterData =  userData.favorite.filter(item => item !== 0));\n    let filterResultes = [];\n    results && results.forEach(resultesItem => {\n      favoriteFilterData && favoriteFilterData.forEach(item => {\n        resultesItem._id === +item && filterResultes.push(resultesItem);\n      })\n    })\n    return filterResultes;\n  }\n  filterTagData = (userFavoriteData,tag) => {\n    const favoriteTag = userFavoriteData.filter(item => item.CAT2 === tag);\n    return favoriteTag.length\n  }\n  render() {\n    return (\n      <Consumer>\n      {({ userData,uid,results,language }) => {\n        const userFavoriteData = this.favoriteDataHandle(userData,results);\n        let languageStatus;\n        let addCategoryClass;\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\n        language === 'zh-TW' ? addCategoryClass = '' : addCategoryClass = ' en';\n        return(\n          <section>\n            <div className=\"container\">\n              <div className=\"collection-wrap\">\n                <div className=\"row\">\n                  <div className=\"col-12\">\n                    <div className=\"collection-title\">\n                      <FontAwesome name=\"heart\" className=\"collection-heart-icon\" />\n                      {languageStatus.favoritePage.title}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-12\">\n                  <div className=\"collection-member-wrap\">\n                    <div className=\"member-info d-flex h-align-items-center\">\n                      <FontAwesome name=\"user\" className=\"collection-user\" />\n                      <span className=\"member-name\">{userData && userData.nickName}</span>\n                    </div>\n                    <div className=\"member-collectionNum\">\n                      <div className=\"collectionNum-title\">{languageStatus.favoritePage.subTitle}</div>\n                      <ul className={`collection-category-wrap d-flex${addCategoryClass}`}>\n                        <li className={`category-item all${addCategoryClass}`}>{userFavoriteData.length}</li>\n                        <li className={`category-item item-0${addCategoryClass}`}>{this.filterTagData(userFavoriteData, languageStatus.favoritePage.tagTheme[0])}</li>\n                        <li className={`category-item item-1${addCategoryClass}`}>{this.filterTagData(userFavoriteData, languageStatus.favoritePage.tagTheme[1])}</li>\n                        <li className={`category-item item-2${addCategoryClass}`}>{this.filterTagData(userFavoriteData, languageStatus.favoritePage.tagTheme[2])}</li>\n                        <li className={`category-item item-3${addCategoryClass}`}>{this.filterTagData(userFavoriteData, languageStatus.favoritePage.tagTheme[3])}</li>\n                        <li className={`category-item item-4${addCategoryClass}`}>{this.filterTagData(userFavoriteData, languageStatus.favoritePage.tagTheme[4])}</li>\n                        <li className={`category-item item-5${addCategoryClass}`}>{this.filterTagData(userFavoriteData, languageStatus.favoritePage.tagTheme[5])}</li>\n                        <li className={`category-item item-6${addCategoryClass}`}>{this.filterTagData(userFavoriteData, languageStatus.favoritePage.tagTheme[6])}</li>\n                        <li className={`category-item item-7${addCategoryClass}`}>{this.filterTagData(userFavoriteData, languageStatus.favoritePage.tagTheme[7])}</li>\n                        <li className={`category-item item-8${addCategoryClass}`}>{this.filterTagData(userFavoriteData, languageStatus.favoritePage.tagTheme[8])}</li>\n                      </ul>\n                    </div>\n                  </div>\n                  </div>\n                </div>\n                <div className=\"collection-cards\">\n                  <div className=\"row\">\n                    { userFavoriteData.map(item => <AttractionCard data={item} key={item._id} /> )}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </section>\n        )\n      }}\n      </Consumer>\n    )\n  }\n}\n\nexport default CollectionPage;\n","import { Component } from 'react';\nimport { withRouter } from \"react-router-dom\";\n\nclass ScrollToTop extends Component {\n  componentDidUpdate(prevProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      window.scrollTo(0, 0);\n    }\n  }\n  render() {\n    return this.props.children;\n  }\n}\n\nexport default withRouter(ScrollToTop)","import React, { Component } from 'react';\nimport './RemindMessage.scss';\nimport { Consumer } from '../context/DataContext';\nimport FontAwesome from 'react-fontawesome';\nimport LanguageZhTW from '../language/zh-TW';\nimport LanguageEn from '../language/en';\n\nclass RemindMessage extends Component {\n  changeTitleHandle = (modelStatus,language) => {\n    let text;\n    if (language === 'zh-TW') {\n      switch (modelStatus) {\n        case 1:\n          text = ''\n          break;\n        case 2:\n          text = ''\n          break;\n        case 3:\n          text = ''\n          break;\n        case 4:\n          text = ''\n          break;\n        case 5:\n          text = ''\n          break;\n        case 6:\n          text = ''\n          break;\n        default:\n          text = ''\n          break;\n        }\n    } else {\n      switch (modelStatus) {\n        case 1:\n          text = 'Login is successful, welcome'\n          break;\n        case 2:\n          text = 'Successfully logged out'\n          break;\n        case 3:\n          text = 'Registration is successful, welcome to join'\n          break;\n        case 4:\n          text = 'Successfully sent a rating'\n          break;\n        case 5:\n          text = 'successfully joined the favorite'\n          break;\n        case 6:\n          text = 'Successfully removed favorite'\n          break;\n        default:\n          text = 'Message deleted successfully'\n          break;\n        }\n    }\n    return text;\n  }\n  modelStatusHandle = (showErrorReminModel,setState) => {\n    showErrorReminModel \n    ? setState({ showErrorReminModel:false, showSignInModel: 1 }) \n    :setState({ showRemindModel:false })\n  }\n  render() {\n    return (\n      <Consumer>\n      {({ setState,showRemindModel,userName,showErrorReminModel,language}) => {\n        let languageStatus;\n        language === 'zh-TW' ? languageStatus = LanguageZhTW : languageStatus = LanguageEn;\n        return (\n          <div className=\"remind-wrap\" onClick={() => setState({ showErrorReminModel: false })}>\n            <div className=\"remind-box d-flex h-align-items-center h-flex-column h-justify-content-center\">\n              <div className=\"content-wrap d-flex h-flex-column\">\n                {showErrorReminModel ? <FontAwesome name=\"exclamation-circle\" className=\"exclamation-circle\"/> : <div className=\"checkmark\"></div>}\n                <h1 className=\"remind-title\">{showErrorReminModel ? languageStatus.remindModel.signInRemind : this.changeTitleHandle(showRemindModel,language)}</h1> \n                <button className=\"remind-btn\" onClick={ () => this.modelStatusHandle(showErrorReminModel,setState) }>{languageStatus.remindModel.btn}</button>\n              </div>\n            </div>\n          </div>\n        )\n      }}\n      </Consumer>\n    )\n  }\n}\n\nexport default RemindMessage;\n","import React, { Component } from \"react\";\nimport HomePage from \"./pages/homePage\";\nimport AttractionPage from \"./pages/attractionPage\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport SigninModel from './components/SigninModel';\nimport CollectionPage from './pages/collectionPage';\nimport { Provider } from \"./context/DataContext\";\nimport { HashRouter, Route } from 'react-router-dom';\nimport firebase, { fireAuth } from './config/firebase.js';\nimport TaipeiMRT from \"./taipei-MRT\";\nimport TaipeiMRT_EN from './taipei-MRT_EN';\nimport touristOpenTime from \"./tourist.json\";\nimport touristOpenTime_en from './tourist_en.json';\nimport ScrollToTop from \"./components/ScrollToTop\";\nimport RemindModel from './components/RemindMessage';\n\nclass App extends Component {\n  state = {\n    results: null,\n    resultsSortmode: 'star',\n    currentResult: null,\n    count: null,\n    pageNum: [],\n    currentPage: 1,\n    pageAllGroup: null,\n    currentPageGroup: 0,\n    TaipeiMRT,\n    searchInput: \"\",\n    searchMRT: null,\n    searchDay: null,\n    currentDay: null,\n    tagTheme: [\n      { name: \"\", active: false, id: 0 },\n      { name: \"\", active: false, id: 1 },\n      { name: \"\", active: false, id: 2 },\n      { name: \"\", active: false, id: 3 },\n      { name: \"\", active: false, id: 4 },\n      { name: \"\", active: false, id: 5 },\n      { name: \"\", active: false, id: 6 },\n      { name: \"\", active: false, id: 7 },\n      { name: \"\", active: false, id: 8 },\n    ],\n    areaTheme: [\n      { name: \"\", active: false, id: 0 },\n      { name: \"\", active: false, id: 1 },\n      { name: \"\", active: false, id: 2 },\n      { name: \"\", active: false, id: 3 },\n      { name: \"\", active: false, id: 4 },\n      { name: \"\", active: false, id: 5 },\n      { name: \"\", active: false, id: 6 },\n      { name: \"\", active: false, id: 7 },\n      { name: \"\", active: false, id: 8 },\n      { name: \"\", active: false, id: 9 },\n      { name: \"\", active: false, id: 10 },\n      { name: \"\", active: false, id: 11 }\n    ],\n    currentTagThemes: [],\n    currentAreaThemes: [],\n    searchData: null,\n    showSearchAdvancedMobile: false,\n    showSignInModel: false,\n    showRemindModel: false,\n    showErrorReminModel: false,\n    uid: null,\n    userData: null,\n    language: 'zh-TW',\n  };\n  componentDidMount() {\n    this.checkSigninStatus();\n    this.getCookieByName('language');\n  }\n  getCookieByName = (name) => {\n    let cookie;\n    const reg = new RegExp(`(^| )${name}=([^;]*)(;|$)`);\n    if((cookie=document.cookie.match(reg))){\n      console.log(cookie[2],'language');\n      this.setState({ language:cookie[2]},() => {\n        this.getTaipeiDate(this.state.language);\n        this.changeLanguageMRT(this.state.language);\n        this.changeLanguageAdvance(this.state.language);\n      });\n    } else {\n      this.getTaipeiDate(this.state.language);\n    }\n  }\n  changeLanguageMRT = (language) => {\n    language === 'zh-TW' ? this.setState({ TaipeiMRT }) : this.setState({ TaipeiMRT:TaipeiMRT_EN  });\n  }\n  changeLanguageAdvance = (language) => {\n    if (language === 'zh-TW') {\n      this.setState({\n        tagTheme: [\n          { name: \"\", active: false, id: 0 },\n          { name: \"\", active: false, id: 1 },\n          { name: \"\", active: false, id: 2 },\n          { name: \"\", active: false, id: 3 },\n          { name: \"\", active: false, id: 4 },\n          { name: \"\", active: false, id: 5 },\n          { name: \"\", active: false, id: 6 },\n          { name: \"\", active: false, id: 7 },\n          { name: \"\", active: false, id: 8 },\n        ],\n        areaTheme: [\n          { name: \"\", active: false, id: 0 },\n          { name: \"\", active: false, id: 1 },\n          { name: \"\", active: false, id: 2 },\n          { name: \"\", active: false, id: 3 },\n          { name: \"\", active: false, id: 4 },\n          { name: \"\", active: false, id: 5 },\n          { name: \"\", active: false, id: 6 },\n          { name: \"\", active: false, id: 7 },\n          { name: \"\", active: false, id: 8 },\n          { name: \"\", active: false, id: 9 },\n          { name: \"\", active: false, id: 10 },\n          { name: \"\", active: false, id: 11 }\n        ]\n      })\n    } else {\n      this.setState({\n        tagTheme: [\n          { name: \"SPA\", active: false, id: 0 },\n          { name: \"Cycling\", active: false, id: 1 },\n          { name: \"Historic Buildings\", active: false, id: 2 },\n          { name: \"Faith\", active: false, id: 3 },\n          { name: \"Art Gallery\", active: false, id: 4 },\n          { name: \"Public Art\", active: false, id: 5 },\n          { name: \"Bule Highway\", active: false, id: 6 },\n          { name: \"Family Activities\", active: false, id: 7 },\n          { name: \"Outdoor Walking\", active: false, id: 8 },\n        ],\n        areaTheme: [\n          { name: \"Beitou Dist.\", active: false, id: 0 },\n          { name: \"Shilin Dist.\", active: false, id: 1 },\n          { name: \"Neihu Dist.\", active: false, id: 2 },\n          { name: \"Songshan Dist.\", active: false, id: 3 },\n          { name: \"Zhongshan Dist.\", active: false, id: 4 },\n          { name: \"Datong Dist.\", active: false, id: 5 },\n          { name: \"Nangang Dist.\", active: false, id: 6 },\n          { name: \"Xinyi Dist.\", active: false, id: 7 },\n          { name: \"Da'an Dist\", active: false, id: 8 },\n          { name: \"Zhongzheng Dist.\", active: false, id: 9 },\n          { name: \"Wanhua Dist.\", active: false, id: 10 },\n          { name: \"Wenshan Dist.\", active: false, id: 11 }\n        ]\n      })\n    }\n  }\n  changeInputHandle = e => {\n    this.setState({\n      searchInput: e.target.value\n    });\n  };\n  selectMrtOptionHandle = e => {\n    e.target.textContent && this.setState({\n      searchMRT: e.target.textContent\n    });\n    !e.target.textContent && this.setState({\n      searchMRT: null\n    })\n  };\n  selectDayOptionHandle = e => {\n    e.target.textContent && this.setState({\n      searchDay: e.target.textContent\n    })\n    !e.target.textContent && this.setState({\n      searchDay: null\n    })\n  }\n  changePageNum = (currentPage) => {\n    this.setState({\n      currentPage\n    });\n  };\n  selectTagThemes = e => {\n    let filterTagThems;\n    let currentIndex = e.target.dataset.index;\n    let newTagTheme = this.state.tagTheme.map((item, index) => {\n      parseInt(currentIndex) === index && (item.active = !item.active);\n      return item;\n    });\n    this.setState({\n      tagTheme: newTagTheme\n    });\n\n    this.state.currentTagThemes.indexOf(e.target.textContent) < 0 &&\n      this.setState({\n        currentTagThemes: [...this.state.currentTagThemes, e.target.textContent]\n      });\n    this.state.currentTagThemes.indexOf(e.target.textContent) > -1 &&\n      (filterTagThems = this.state.currentTagThemes.filter(\n        item => item !== e.target.textContent\n      )) &&\n      this.setState({\n        currentTagThemes: filterTagThems\n      });\n  };\n  selectAreaThemes = e => {\n    let filterAreaThemes;\n    let currentIndex = e.target.dataset.index;\n    let newAreaThemes = this.state.areaTheme.map((item, index) => {\n      parseInt(currentIndex) === index && (item.active = !item.active);\n      return item;\n    });\n    this.setState({\n      areaTheme: newAreaThemes\n    });\n\n    this.state.currentAreaThemes.indexOf(e.target.textContent) < 0 &&\n      this.setState({\n        currentAreaThemes: [\n          ...this.state.currentAreaThemes,\n          e.target.textContent\n        ]\n      });\n    this.state.currentAreaThemes.indexOf(e.target.textContent) > -1 &&\n      (filterAreaThemes = this.state.currentAreaThemes.filter(\n        item => item !== e.target.textContent\n      )) &&\n      this.setState({\n        currentAreaThemes: filterAreaThemes\n      });\n  };\n  removeSelectItem = (theme) => {\n    const newTagThemes = this.state.tagTheme.map(item => {\n      item.active = false\n      return item\n    });\n    const newAreaThemes = this.state.areaTheme.map(item => {\n      item.active = false\n      return item\n    })\n    switch (theme) {\n      case 'tag':\n        this.setState({ \n          currentTagThemes: [],\n          tagTheme: newTagThemes,\n        })\n        break;\n      default:\n        this.setState({ \n          currentAreaThemes: [],\n          areaTheme: newAreaThemes,\n        })\n        break;\n    }\n  }\n  searchAdvancedMobileHandle = (e) => {\n    let className = e.target.className;\n    let showSearchAdvancedMobile;\n    switch(className) {\n      case 'searchAdvanced-searchBtn':\n        showSearchAdvancedMobile = false\n        break;\n      case 'mobile-searchAdvanced-bg':\n        showSearchAdvancedMobile = false\n        break;\n      case 'searchAdvanced-btn':\n        showSearchAdvancedMobile = true\n        break;\n      default:\n        showSearchAdvancedMobile = false\n        break;\n    }\n    this.setState({\n      showSearchAdvancedMobile: showSearchAdvancedMobile,\n    })\n  }\n  searchHandle = (e) => {\n    e.preventDefault();\n    if (!this.state.searchInput.trim()) {\n      this.setState({\n        searchData: null,\n        currentPage: 1\n      });\n    }\n    this.searchAdvancedMobileHandle(e);\n    this.setState({\n      currentDay: this.state.searchDay\n    })\n    document.querySelector('.attraction-texts').scrollIntoView({\n      block: 'start',\n      behavior: 'smooth'\n    });\n    let filterTextData = this.searchTextHandle();\n    let filterMrtData = this.searchMrtHandle();\n    let filterTagData = this.searchTagHandle();\n    let filterAreaData = this.searchAreaHandle();\n\n    this.state.searchInput && this.filterDataHandle(filterTextData);\n    this.state.searchMRT && this.filterDataHandle(filterMrtData);\n    this.state.searchInput && this.state.searchMRT &&\n      this.filterDataHandle(this.searchTextHandle(filterMrtData));\n    this.state.currentTagThemes.length && this.filterDataHandle(filterTagData);\n    this.state.currentTagThemes.length && this.state.searchMRT &&\n      this.filterDataHandle(this.searchMrtHandle(filterTagData));\n    this.state.currentTagThemes.length &&\n      this.state.searchMRT &&\n      this.state.searchInput && \n      this.filterDataHandle(this.searchTextHandle(this.searchMrtHandle(filterTagData)));\n    this.state.currentAreaThemes.length && this.filterDataHandle(filterAreaData);\n    this.state.currentAreaThemes.length && this.state.searchMRT &&\n      this.filterDataHandle(this.searchMrtHandle(filterAreaData))\n    this.state.currentAreaThemes.length && \n      this.state.searchInput &&\n      this.state.searchMRT  &&\n      this.filterDataHandle(this.searchTextHandle(this.searchMrtHandle(filterAreaData)))\n    !this.state.currentAreaThemes.length && \n      !this.state.currentTagThemes.length &&\n      !this.state.searchMRT &&\n      !this.state.searchInput &&\n      this.filterDataHandle()\n  };\n  searchTextHandle = (data = this.state.results) => {\n    let searchStitle;\n    this.state.language === 'zh-TW' ? searchStitle = 'stitle' : searchStitle = 'stitle_en';\n    let filterTextData = data.filter(item =>{\n        return item[searchStitle].toUpperCase().includes((this.state.searchInput).toUpperCase())\n      }\n    );\n    return filterTextData;\n  };\n  searchMrtHandle = (data = this.state.results) => {\n    let filterMRTData = data.filter(item => item.MRT === this.state.searchMRT);\n    return filterMRTData;\n  };\n  searchTagHandle = (data = this.state.results) => {\n    let filterTagData = [];\n    data.forEach(item => {\n      this.state.currentTagThemes.forEach(tagItem =>\n        tagItem === item.CAT2 ? filterTagData.push(item) : null\n      );\n    });\n    return filterTagData;\n  };\n  searchAreaHandle = (data = this.state.results) => {\n    let filterAreaData = [];\n    data.forEach(item => {\n      this.state.currentAreaThemes.forEach(areaItem => (\n        areaItem === item.area ? filterAreaData.push(item) : null\n      ));\n    });\n    return filterAreaData;\n  }\n  filterDataHandle = (filterData = this.state.results) => {\n    let pageNumArray = [];\n    let pageNum = Math.ceil(+filterData.length / 21);\n    for (let i = 1; i <= pageNum; i++) {\n      pageNumArray.push(i);\n    }\n    filterData && this.setState({\n      searchData: filterData,\n      currentPage: 1,\n      pageNum: pageNumArray\n    });\n  };\n  filterCurrentAttraction =(id) => {\n    if(!id) return;\n    let currentAttraction;\n    this.state.results && (currentAttraction = this.state.results.filter(item => {\n      return item._id === +id\n    }))\n    return currentAttraction;\n  }\n  resetSearchInput = () => {\n    this.setState({\n      searchInput: '',\n      searchMRT: null,\n      searchDay: null,\n      searchData: null,\n      currentTagThemes: [],\n      currentAreaThemes: [],\n    })\n    this.filterDataHandle();\n  }\n  checkSigninStatus = () => {\n    fireAuth.onAuthStateChanged((user) => {\n      console.log('',user);\n      if ( this.state.uid !== user && user !== null ) {\n        let reminStatus;\n        this.state.showRemindModel === 3 ? reminStatus = 3 : reminStatus = 1\n        this.setState({ \n          uid: user.uid,\n          showRemindModel: reminStatus,\n        });\n        this.getUserData(user.uid)\n      }\n      if (this.state.uid !== user && user === null) {\n        this.setState({\n          uid: user,\n          showSignInModel: false,\n          userData: null,\n        })\n      }\n    })\n  }\n  getUserData = (id) => {\n    console.log('getUserData');\n    const userIdRef = firebase.database().ref(`user/${id}`);\n    userIdRef.on('value', (snapshot) => {\n      console.log(snapshot.val())\n      this.setState({ userData: snapshot.val() })\n    })\n  }\n  getTaipeiDate = (language) => {\n    let DataRef;\n    let openTimeData;\n    if (language === 'zh-TW') {\n      DataRef = firebase.database().ref('taipeiData');\n      openTimeData = touristOpenTime;\n    } else if (language === 'en') {\n      DataRef = firebase.database().ref('taipeiData_EN');\n      openTimeData = touristOpenTime_en;\n    }\n    DataRef.on('value', (snapshot) => {\n      const taipeiData = snapshot.val();\n      let pageNumArray = [];\n      taipeiData.forEach(item => {\n        openTimeData.Tourist.forEach(touristItem => {\n          +item._id === +touristItem.id && (item.opening_hours = touristItem.opening_hours)\n        });\n      })\n      const newTaipeiData = taipeiData.filter(item => item !== null);\n      const count = newTaipeiData.length;\n      let pageNum = Math.ceil(+count / 21);\n      for (let i = 1; i <= pageNum; i++) { pageNumArray.push(i) };\n      newTaipeiData.sort((a, b) => b.star_rating > a.star_rating ? 1 : -1);\n      this.setState({\n        results: newTaipeiData,\n        count,\n        pageNum: pageNumArray,\n      }, () => this.setPageAllGroup(this.state.pageNum));\n    }, (error) => {\n      console.log(error,'error');\n    });\n  }\n  setPageAllGroup = (pageNum) => {\n    let pageAllGroup = [];\n    for(let i=0; i<pageNum.length; i+=5) {\n      pageAllGroup.push(pageNum.slice(i,i+5))\n    }\n    this.setState({ pageAllGroup })\n  }\n  changeTaipeiDataSortHandle = (mode) => {\n    const taipeiData = this.state.results;\n    switch (mode) {\n      case 'star':\n        taipeiData.sort((a, b) => b.star_rating > a.star_rating ? 1 : -1);\n        this.setState({ resultsSortmode: 'star' });\n        break;\n      default:\n      taipeiData.sort((a, b) => b.message_num > a.message_num ? 1 : -1);\n      this.setState({ resultsSortmode: 'message' });\n        break;\n    }\n    this.setState({ results: taipeiData });\n  }\n  clickHeartIconHandle = (e,uid,userData) => {\n    const activeCurrentClassName = e.target.className;\n    const activeCurrentId = e.target.dataset.id;\n    if (activeCurrentClassName === 'attractionCard-heart' || activeCurrentClassName === 'heart') {\n      e.preventDefault();\n      e.stopPropagation();\n      if (uid) {\n        let favoriteArray;\n        let filterFavoriteArray;\n        userData.favorite && (favoriteArray = [...userData.favorite]);\n        if (favoriteArray.includes(activeCurrentId)) {\n          filterFavoriteArray = favoriteArray.filter(item => item !== activeCurrentId);\n          this.setState({ showRemindModel: 6 });\n        } else {\n          filterFavoriteArray = [...favoriteArray,activeCurrentId]\n          this.setState({ showRemindModel: 5 })        \n        }\n        firebase.database().ref(`/user/${uid}/favorite`).set(filterFavoriteArray);\n      } else {\n        this.setState({ showErrorReminModel: true })\n      }\n    }\n  }\n  filterFavorite = (userData,id) => {\n    let favorite;\n    userData && (favorite = userData.favorite);\n    return favorite && favorite.some(item => {\n      return +item === +id\n    })\n  }\n  render() {\n    const contextValue = {\n      ...this.state,\n      changePageNum: this.changePageNum,\n      changeInputHandle: this.changeInputHandle,\n      selectTagThemes: this.selectTagThemes,\n      selectAreaThemes: this.selectAreaThemes,\n      searchHandle: this.searchHandle,\n      selectMrtOptionHandle: this.selectMrtOptionHandle,\n      selectDayOptionHandle: this.selectDayOptionHandle,\n      filterOpenTime: this.filterOpenTime,\n      searchAdvancedMobileHandle: this.searchAdvancedMobileHandle,\n      removeSelectItem: this.removeSelectItem,\n      clickHeartIconHandle: this.clickHeartIconHandle,\n      filterFavorite: this.filterFavorite,\n      resetSearchInput: this.resetSearchInput,\n      changeTaipeiDataSortHandle: this.changeTaipeiDataSortHandle,\n      getTaipeiDate: this.getTaipeiDate,\n      changeLanguageMRT: this.changeLanguageMRT,\n      changeLanguageAdvance: this.changeLanguageAdvance,\n      setState: this.setState.bind(this),\n    };\n    return (\n      <HashRouter>\n        <ScrollToTop>\n          <Provider value={contextValue}>\n            <Header />\n            {this.state.showRemindModel || this.state.showErrorReminModel ? <RemindModel /> : null}\n            {this.state.showSignInModel && !this.state.uid ? <SigninModel /> : null }\n            <Route exact path=\"/\" render={() => <HomePage /> }/>\n            <Route exact path=\"/attraction/:id\" render={({ match }) => {\n              const currentData = this.filterCurrentAttraction((match.params.id));\n              return <AttractionPage data={currentData} id={match.params.id}/>\n            }}/>\n            <Route exact path=\"/myHeart\" render={() => <CollectionPage /> }/>\n            <Footer />\n          </Provider>\n        </ScrollToTop>\n      </HashRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./scss/config.scss\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","module.exports = __webpack_public_path__ + \"static/media/heart-hover-icon.935a5551.svg\";"],"sourceRoot":""}